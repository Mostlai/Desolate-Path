const combatPanel=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("\u0023\u0063\u006f\u006d\u0062\u0061\u0074\u0050\u0061\u006e\u0065\u006c");let enemyDead=![];let playerDead=![];const hpValidation=()=>{if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]<(0x7e4a3^0x7e4a2)){if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==undefined)player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=0xcf6b5^0xcf6b5;if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==(0x862aa^0x862aa)){player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0xd8061^0xd8061;playerDead=!![];player["\u0064\u0065\u0061\u0074\u0068\u0073"]++;if(player["\u0062\u0061\u006e\u006b"]==undefined)player['bank']=0x8bf1f^0x8bf1f;player['bank']=player["\u0062\u0061\u006e\u006b"]+Math["\u0063\u0065\u0069\u006c"](player['gold']*0.3);player["\u0067\u006f\u006c\u0064"]=0xbf2ea^0xbf2ea;addCombatLog("!\u4E86\u6B7B\u4F60".split("").reverse().join(""));addCombatLog("\u5E84\u94B1\u4E86\u5165\u5B58\u52A8\u81EA\u77F3\u7075\u7684%03".split("").reverse().join(""));document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("\u0023\u0062\u0061\u0074\u0074\u006c\u0065\u0042\u0075\u0074\u0074\u006f\u006e")['addEventListener']("\u0063\u006c\u0069\u0063\u006b",function(){sfxConfirm['play']();playerDead=![];let _0x129e19=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("\u0023\u0064\u0075\u006e\u0067\u0065\u006f\u006e\u002d\u006d\u0061\u0069\u006e");_0x129e19['style']["\u0066\u0069\u006c\u0074\u0065\u0072"]=")%001(ssenthgirb".split("").reverse().join("");_0x129e19["\u0073\u0074\u0079\u006c\u0065"]["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="enon".split("").reverse().join("");combatPanel["\u0073\u0074\u0079\u006c\u0065"]["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="enon".split("").reverse().join("");runLoad("\u0074\u0069\u0074\u006c\u0065\u002d\u0073\u0063\u0072\u0065\u0065\u006e","xelf".split("").reverse().join(""));clearInterval(dungeonTimer);clearInterval(playTimer);progressReset();});}else{enemyDead=!![];player['stats']["\u0068\u0070"]=player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070\u004d\u0061\u0078"];addCombatLog("\u5929\u751F\u51FA\u9003\u3011\u8F74\u5377\u6D3B\u590D\u3010\u5F20\u4E00\u8017\u6D88\u4F60".split("").reverse().join(""));player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]-(0xf15b6^0xf15b7);document['querySelector']("nottuBelttab#".split("").reverse().join(""))["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]("kcilc".split("").reverse().join(""),function(){sfxConfirm["\u0070\u006c\u0061\u0079"]();let _0x37f470=document['querySelector']("\u0023\u0064\u0075\u006e\u0067\u0065\u006f\u006e\u002d\u006d\u0061\u0069\u006e");_0x37f470["\u0073\u0074\u0079\u006c\u0065"]['filter']=")%001(ssenthgirb".split("").reverse().join("");bgmDungeon["\u0070\u006c\u0061\u0079"]();dungeon['status']["\u0065\u0076\u0065\u006e\u0074"]=![];combatPanel["\u0073\u0074\u0079\u006c\u0065"]["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="\u006e\u006f\u006e\u0065";enemyDead=![];combatBacklog['length']=0x72c8f^0x72c8f;});}endCombat();}else if(enemy['stats']['hp']<(0x332cf^0x332ce)){enemy['stats']["\u0068\u0070"]=0x0;enemyDead=!![];player["\u006b\u0069\u006c\u006c\u0073"]++;dungeon['statistics']['kills']++;addCombatLog(enemy['name']+'\x20神魂俱灭!\x20('+new Date(combatSeconds*(0x928ee^0x92b06))["\u0074\u006f\u0049\u0053\u004f\u0053\u0074\u0072\u0069\u006e\u0067"]()["\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006e\u0067"](0xe,0x13)+')');addCombatLog('你得到了'+nFormatter(enemy['rewards']["\u0065\u0078\u0070"])+"\u7ecf\u9a8c\u002e");if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004a\u0069\u006e\u0067\u0079\u0061\u006e")){addCombatLog('【资深】使你额外获得'+nFormatter(Math["\u0063\u0065\u0069\u006c"](enemy['rewards']["\u0065\u0078\u0070"]*0.2))+"\u7ecf\u9a8c\u002e");}playerExpGain();let _0x296223=0x1;let _0x2fb995=0xe0905^0xe0904;if(player['skills']['includes']("ihsgniL".split("").reverse().join(""))){_0x296223=1.3;}if(player["\u006b\u006c\u006c"]==0x1){_0x2fb995=0x3e891^0x3e893;}addCombatLog(enemy['name']+'\x20掉落了\x20<i\x20class=\x22fa-solid\x20fa-gem\x22\x20style=\x22color:\x20#ff8000;\x22></i>'+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x296223*_0x2fb995)+'\x20灵石.');if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004c\u0069\u006e\u0067\u0073\u0068\u0069")){addCombatLog('【帝王宝库】使你额外获得'+nFormatter(Math['ceil'](enemy['rewards']["\u0067\u006f\u006c\u0064"]*0.3))+"\u7075\u77f3\u002e");}player['gold']+=enemy['rewards']["\u0067\u006f\u006c\u0064"]*_0x296223*_0x2fb995;if(player['hardloop']>=0x1){let _0x138221=Math['ceil'](player['hardloop']/0x5);if(Math["\u0066\u006c\u006f\u006f\u0072"](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0x37b63^0x37b07))<=_0x138221+(0x7783f^0x7783e)){player['hardloopsign']=player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070\u0073\u0069\u0067\u006e"]+(0x4e905^0x4e904);addCombatLog("\u4f60\u83b7\u5f97\u4e86\u0031\u4e2a\u3010\u82e6\u96be\u8c61\u5f81\u3011");}}playerLoadStats();if(enemy['rewards']['drop']){createEquipmentPrint('combat');}let _0x1c89db=0xbbbe4^0xbbbe5;if(player['skills']['includes']("\u0058\u0042\u0053")){_0x1c89db=1.5;}if(player['cureseLB']==undefined)player['cureseLB']=0x0;if(player['riftLB']==undefined)player['riftLB']=0x0;if(player['emporLB']==undefined)player['emporLB']=0x75ba4^0x75ba4;let _0x2e7c94=0x1;if(player['hardloop']>=(0x84779^0x84778)){_0x2e7c94=0x1+Math['ceil'](player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070"]/0x5)/0x64;}if(enemy['class']=='guardian'){if(Math['floor'](Math['random']()*0x64)<0x2*_0x1c89db){createEquipmentPrint("tabmoc".split("").reverse().join(""),'XTLB');}else if(Math['floor'](Math['random']()*0x64)<(0x2453e^0x2453d)*_0x1c89db){createEquipmentPrint('combat','LB');}let _0x43d1f3=Math['floor'](enemy['lvl']/0xa);if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0xf2310^0xf2374))<(0x75540^0x75546)*_0x2e7c94){let _0x4f6941=Math['floor'](_0x43d1f3*randomizeDecimal(0.3,0.6));_0x4f6941=Math['max'](0x9bf2b^0x9bf2a,_0x4f6941);player['cureseLB']=player["\u0063\u0075\u0072\u0065\u0073\u0065\u004c\u0042"]+_0x4f6941;addCombatLog('你找到了'+nFormatter(_0x4f6941)+'诅咒灵宝碎片.');}if(Math['floor'](Math['random']()*0x64)<(0xf1a64^0xf1a62)*_0x2e7c94){let _0x4eb2b7=Math['floor'](_0x43d1f3*randomizeDecimal(0.1,0.5));_0x4eb2b7=Math['max'](0xea35b^0xea35a,_0x4eb2b7);player['riftLB']=player['riftLB']+_0x4eb2b7;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x4eb2b7)+'裂隙灵宝碎片.');}}if(enemy['class']=='sboss'){if(Math['floor'](Math['random']()*0x64)<0x32){if(player['rebirth']==undefined)player['rebirth']=0x0;player['rebirth']=player['rebirth']+0x1;addCombatLog("\u3011\u8F74\u5377\u6D3B\u590D\u3010\u5F20\u4E00\u5230\u627E\u4E0A\u7269\u751F\u7684\u5927\u5F3A\u4E2A\u8FD9\u4ECE\u4F60".split("").reverse().join(""));}if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0xef364^0xef300))<(0x72a7e^0x72a7f)*_0x1c89db){createEquipmentPrint("tabmoc".split("").reverse().join(""),'DB');}else if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0x5d55c^0x5d538))<(0x39c0a^0x39c08)*_0x1c89db){createEquipmentPrint('combat','ZB');}let _0x24eb5f=Math["\u0066\u006c\u006f\u006f\u0072"](enemy["\u006c\u0076\u006c"]/0x7);if(Math['floor'](Math['random']()*0x64)<(0x1a45c^0x1a45b)*_0x2e7c94){let _0x4a599e=Math['floor'](_0x24eb5f*randomizeDecimal(0.2,0.5));_0x4a599e=Math['max'](0x1,_0x4a599e);player['riftLB']=player['riftLB']+_0x4a599e;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x4a599e)+'裂隙灵宝碎片.');}if(Math['floor'](Math['random']()*(0x6448c^0x644e8))<0x5*_0x2e7c94){let _0x349449=Math['floor'](_0x24eb5f*randomizeDecimal(0.1,0.3));_0x349449=Math['max'](0xe7d71^0xe7d70,_0x349449);player['emporLB']=player['emporLB']+_0x349449;addCombatLog('你找到了'+nFormatter(_0x349449)+".\u7247\u788E\u5B9D\u7075\u8005\u5E1D".split("").reverse().join(""));}}player['stats']["\u0068\u0070"]+=Math['round'](player["\u0073\u0074\u0061\u0074\u0073"]['hpMax']*0x14/0x64);playerLoadStats();document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]('#battleButton')["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]('click',function(){sfxConfirm['play']();let _0x1accd1=document['querySelector']("niam-noegnud#".split("").reverse().join(""));_0x1accd1['style']['filter']='brightness(100%)';bgmDungeon['play']();dungeon['status']['event']=![];combatPanel['style']['display']='none';enemyDead=![];combatBacklog["\u006c\u0065\u006e\u0067\u0074\u0068"]=0x0;});endCombat();}};function getDtype(_0x53bf6f){if(_0x53bf6f=='crit\x20damage')return'暴击';if(_0x53bf6f=='damage')return"\u666e\u901a";return _0x53bf6f;}const playerAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x54905d;let _0x271b84=player["\u0073\u0074\u0061\u0074\u0073"]['atk']*(player['stats']['atk']/(player['stats']['atk']+enemy["\u0073\u0074\u0061\u0074\u0073"]['def']));let _0x3aa431=0.9+Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0.2;_0x271b84=_0x271b84*_0x3aa431;let _0x230d7c=0x1;let _0x33423c=0x1;if(player['skills']['includes']("ijoaB".split("").reverse().join(""))){_0x230d7c=1.7;_0x33423c=0.6;}if(player['skills']['includes']('Gongji')){_0x230d7c=0xdf86e^0xdf86e;_0x33423c=1.3;}if(player['skills']['includes']('ZSDS')){if(player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['zsds']==undefined)player['tempStats']['zsds']=0x1;player['tempStats']['zsds']=0xaad35^0xaad34;}if(Math['floor'](Math['random']()*0x64)<player['stats']['critRate']){_0x54905d=!![];if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('RCZF')){_0x54905d=![];dmgtype="egamad".split("").reverse().join("");_0x271b84=Math['round'](_0x271b84*_0x33423c);}else{dmgtype="egamad tirc".split("").reverse().join("");_0x271b84=Math['round'](_0x271b84*_0x230d7c*(0x1+player['stats']['critDmg']/0x64));if(player['skills']['includes']('Baoji')){addCombatLog('【狂热之心】使你额外造成'+Math['round'](_0x271b84*(_0x230d7c-(0x33361^0x33360))*(0x1+player["\u0073\u0074\u0061\u0074\u0073"]['critDmg']/0x64))+'伤害.');}}}else{_0x54905d=![];dmgtype='damage';_0x271b84=Math['round'](_0x271b84*_0x33423c);if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Gongji')){addCombatLog('【仁慈之心】使你额外造成'+Math['round'](_0x271b84*_0x33423c)+".\u5BB3\u4F24".split("").reverse().join(""));}}if(player['skills']['includes']('BQZJ')){console["\u006c\u006f\u0067"](player['tempStats']['firstAtk']);if(player['tempStats']['firstAtk']==undefined)player['tempStats']['firstAtk']=0x0;if(player['tempStats']['firstAtk']==(0x29dbf^0x29dbf)){dmgtype="egamad tirc".split("").reverse().join("");_0x271b84=Math['round'](_0x271b84*_0x230d7c*0x2*(0x1+player['stats']['critDmg']/(0xadac0^0xadaa4)));player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']=0x1;addCombatLog("\u3011\u5251\u4E4B\u5C48\u4E0D\u3010\u51FA\u53D1\u6FC0\u4F60".split("").reverse().join(""));}}objectValidation();if(player['skills']['includes']('Remnant\x20Razor')){_0x271b84+=Math['round'](0x8*enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']/(0x7d8a7^0x7d8c3));}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Titan\x27s\x20Will')){_0x271b84+=Math['round']((0x90f41^0x90f44)*player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070\u004d\u0061\u0078"]/0x64);}if(player['skills']['includes']('Devastator')){_0x271b84=Math['round'](_0x271b84+0x1e*_0x271b84/0x64);}if(player['skills']['includes']("regapmaR".split("").reverse().join(""))){player['baseStats']['atk']+=0x5;objectValidation();player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]["\u0061\u0074\u006b"]+=0x5;saveData();}if(player['skills']['includes']('Blade\x20Dance')){player['baseStats']['atkSpd']+=0.3;objectValidation();player['tempStats']['atkSpd']+=0.3;saveData();}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004b\u0075\u0061\u0069\u0071\u0069\u0064\u006f\u006e\u0067")){player['baseStats']['atkSpd']-=0.01;objectValidation();player['tempStats']['atkSpd']-=0.01;saveData();}let _0x36ff99=0x217fc^0x217fd;if(player['skills']['includes']('Kuangbao')){if(player['stats']['hp']<=player['stats']["\u0068\u0070\u004d\u0061\u0078"]*0.5){addCombatLog('你身披【血衣】,眼目猩红');_0x271b84=Math['ceil'](_0x271b84*1.5);_0x36ff99=0x2;}}let _0x455f19=player['stats']["\u0061\u0074\u006b\u0053\u0070\u0064"];_0x455f19=_0x455f19*_0x36ff99;let _0x5da9c6=0x675ca^0x675cb;if(player['skills']['includes']('JiyuanXiaoguo')){addCombatLog('你的【饮灵之躯】源源不断的吸收对方的气血');_0x5da9c6=1.3;}if(player['skills']['includes']("euxniY".split("").reverse().join(""))){addCombatLog('你的【饮血】源源不断的吸收对方的气血');_0x5da9c6=0x2;}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("nuhciuH".split("").reverse().join(""))){addCombatLog('你的【大回春术】滋养你的身体,你转瞬间容光焕发!');addCombatLog("\u4E86\u590D\u6062".split("").reverse().join("")+Math['ceil'](player["\u0073\u0074\u0061\u0074\u0073"]['hpMax']*0.02)+"\u8840\u6C14".split("").reverse().join(""));player['stats']["\u0068\u0070"]+=Math['ceil'](player['stats']['hpMax']*0.02);}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('QixueHun')){addCombatLog("!\u529B\u5A01\u7684\u51FB\u653B\u4E86\u5F3A\u52A0\u3011\u9B42\u4E4B\u8840\u6C14\u3010\u7684\u4F60".split("").reverse().join(""));let _0x394978=player['stats']['hp']/player['stats']['hpMax']*(0x43ade^0x43aba);if(_0x394978<(0xee5ee^0xee5a8)){let _0x15f60b=(0x88143^0x88127)-_0x394978;let _0x140e34=_0x15f60b*0x2;_0x271b84+=Math['ceil'](_0x271b84*(_0x140e34/(0xde4d0^0xde4b4)));}}if(player['skills']['includes']('Daotian')){if(Math['floor'](Math['random']()*0x64)<0x5){player['bonusStats']['hp']+=Math['ceil'](_0x271b84*0.01);addCombatLog('【盗天】你窃走天地精华!!');}}if(player['skills']['includes']('Luantian')){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0x9da62^0x9da06))<(0x96262^0x96267)){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['critRate']+=0.01;addCombatLog('【乱天】你打乱了天序!!');}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Baitian')){if(Math['floor'](Math['random']()*0x64)<0x5){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['def']+=Math["\u0063\u0065\u0069\u006c"](_0x271b84*0.01);addCombatLog("!!\u65F6\u5929\u4E86\u51CF\u524A\u4F60\u3011\u5929\u8D25\u3010".split("").reverse().join(""));}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Lutian')){if(Math['floor'](Math['random']()*0x64)<0x1){player['bonusStats']['atk']+=Math['ceil'](_0x271b84*0.003);addCombatLog("\u3010\u622e\u5929\u3011\u4f60\u7834\u706d\u4e86\u67d0\u5904\u0021\u0021");}}if(player['skills']['includes']('Zhutian')){if(Math['floor'](Math['random']()*0x64)<(0xb1591^0xb1590)){player['bonusStats']['critDmg']+=0.5;addCombatLog('【诛天】你诛灭了某处!!');}}if(player['skills']['includes']("naitiaD".split("").reverse().join(""))){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<(0x913fa^0x913fb)){_0x271b84=enemy["\u0073\u0074\u0061\u0074\u0073"]['hp'];addCombatLog("\u8D25\u5931\u5373\u7ACB\u65B9\u5BF9\u5E03\u5BA3\u3011\u5929\u4EE3\u3010".split("").reverse().join(""));}}if(player['skills']['includes']("nuynauX".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0xf){enemy['stats']['atk']=Math['floor'](enemy['stats']['atk']-enemy["\u0073\u0074\u0061\u0074\u0073"]['atk']*0.05);addCombatLog('你向对方头上猛地一击,对方顿时感觉头晕目眩,浑身无力');}}if(player['skills']['includes']('GoldG')){let _0x3dfb31=0x21cbb^0x21cba;_0x3dfb31=0x1+player['gold']/0x3e8*0.01;_0x271b84=Math['floor'](_0x271b84*_0x3dfb31);player['gold']=player['gold']-Math['floor'](_0x271b84*0.09);addCombatLog("\u53BB\u7838\u65B9\u5BF9\u5411\u7684\u65AD\u4E0D\u6E90\u6E90\u77F3\u7075\u7684\u4F60".split("").reverse().join(""));}if(player['skills']['includes']('PoorG')){if(player['gold']<(0x1cf4d^0x1cca5)){_0x271b84=_0x271b84+0x32;addCombatLog('穷神祝福你');}}if(player['skills']['includes']("LH".split("").reverse().join(""))){_0x271b84=Math['floor'](_0x271b84*1.3);if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<0x1e){_0x271b84=0x0;addCombatLog('哎呀,打歪了');}}let _0x14eabf=Math['round'](_0x271b84*_0x5da9c6*(player['stats']['vamp']/0x64));if(player['skills']['includes']("ART".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0xa){enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']-=_0x271b84;addCombatLog('--【天人同击】--');}}if(player['skills']['includes']("FZCR".split("").reverse().join(""))){enemy['stats']['hp']-=_0x271b84;addCombatLog('【仁慈之风】发动了第二次攻击');}if(player['skills']['includes']('DPMJ')){_0x271b84=Math["\u0066\u006c\u006f\u006f\u0072"](player['stats']["\u0064\u0065\u0066"]*0.1);addCombatLog('你用你的肚皮攻击');}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u0046\u0058")){if(Math['floor'](Math['random']()*0x64)<0x32){player['stats']['hp']-=player['stats']['hp']*0.5;_0x271b84=_0x271b84*0x3;addCombatLog('你放血而击');}}if(player['skills']['includes']("JJZ".split("").reverse().join(""))){player['stats']['hp']-=player['stats']['hp']*0.05;if(player['tempStats']['zjj']==undefined)player['tempStats']['zjj']=0x0;player['tempStats']['zjj']=player['tempStats']['zjj']+0x1;let _0x4b6cac=0x1+0.1*player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['zjj'];_0x271b84=_0x271b84*_0x4b6cac;}if(player['skills']['includes']('HLXM')){if(enemy['stats']['hp']-_0x271b84*0x2<=(0xdcb1d^0xdcb1d)){_0x271b84=_0x271b84*(0x6099a^0x60998);}}if(player['skills']['includes']('TXWW')){if(player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['txww']==undefined)player['tempStats']['txww']=0x39936^0x39936;if(Math['floor'](Math['random']()*0x64)<0xa){let _0x2abcb2=Math['floor'](Math['random']()*0x3)+(0x87240^0x87241);if(_0x2abcb2==0x1){player['tempStats']['txww']=0x1;addCombatLog("\u3011\u7384\u3010\u5165\u8FDB\u4F60".split("").reverse().join(""));}if(_0x2abcb2==(0xe79bf^0xe79bd)){player['tempStats']['txww']=0x811a6^0x811a4;addCombatLog("\u3011\u6B62\u3010\u5165\u8FDB\u4F60".split("").reverse().join(""));}if(_0x2abcb2==0x3){player['tempStats']['txww']=0x74836^0x74835;addCombatLog("\u3011\u52A8\u3010\u5165\u8FDB\u4F60".split("").reverse().join(""));}}}if(player['skills']['includes']("WWXT".split("").reverse().join(""))){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x819e1^0x819e1;if(player['tempStats']['txww']==0x1){_0x271b84=_0x271b84*0x2;addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==0x3){enemy['stats']['hp']-=_0x271b84;enemy['stats']['hp']-=_0x271b84;player['tempStats']['txww']=0x0;addCombatLog("\u3011\u52A8\u3010\u51FA\u9000\u4F60".split("").reverse().join(""));}}enemy['stats']['hp']-=_0x271b84;player['stats']['hp']+=_0x14eabf;addCombatLog(player['name']+"  \u5BF9 ".split("").reverse().join("")+enemy['name']+'造成了\x20'+nFormatter(_0x271b84)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0x11e899=document['querySelector']('#enemy-sprite');_0x11e899['classList']['add']("ekahs-noitamina".split("").reverse().join(""));setTimeout(()=>{_0x11e899['classList']['remove']('animation-shake');},0xc8);const _0x31fc61=document['querySelector']('#dmg-container');const _0x1f5495=document['createElement']('p');_0x1f5495['classList']['add']('dmg-numbers');if(_0x54905d){_0x1f5495['style']['color']='gold';_0x1f5495['innerHTML']=nFormatter(_0x271b84)+'!';}else{_0x1f5495['innerHTML']=nFormatter(_0x271b84);}_0x31fc61['appendChild'](_0x1f5495);setTimeout(()=>{_0x31fc61['removeChild'](_0x31fc61['lastElementChild']);},0x172);if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){playerAttack();}},(0x4dbc4^0x4d82c)/_0x455f19);}};const enemyAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x3b10f3=enemy['stats']['atk']*(enemy['stats']['atk']/(enemy['stats']['atk']+player['stats']['def']));let _0x473f5a=Math['round'](enemy['stats']['atk']*(enemy['stats']['vamp']/0x64));let _0x25d802=0.9+Math['random']()*0.2;_0x3b10f3=_0x3b10f3*_0x25d802;if(Math['floor'](Math['random']()*0x64)<enemy['stats']['critRate']){if(player['skills']['includes']("JKDZ".split("").reverse().join(""))){dmgtype="egamad".split("").reverse().join("");_0x3b10f3=Math['round'](_0x3b10f3);}else{dmgtype='crit\x20damage';_0x3b10f3=Math['round'](_0x3b10f3*((0x436f6^0x436f7)+enemy['stats']['critDmg']/0x64));}}else{dmgtype='damage';_0x3b10f3=Math['round'](_0x3b10f3);}if(player['skills']['includes']('Paladin\x27s\x20Heart')){_0x3b10f3=Math['round'](_0x3b10f3-0x19*_0x3b10f3/0x64);}if(player['skills']['includes']('Shanbi')){if(Math['floor'](Math['random']()*0x64)<0x1e){let _0x1e9d9e=Math['ceil'](_0x3b10f3*0.5);_0x3b10f3=0x0;addCombatLog('你于风中隐藏,对方的攻击如同石牛如海');if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0x3ce88^0x3ceec))<(0x95c33^0x95c1b)){enemy['stats']['hp']-=_0x1e9d9e;addCombatLog("\u53BB\u800C\u98DE\u5012\u7ADF\u52BF\u653B\u7684\u65B9\u5BF9,\u53CD\u5F39\u5F00\u5C55\u4E2D\u98CE\u4E8E\u4F60".split("").reverse().join(""));}}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('GoldS')){let _0x340dd7=0xe0ce4^0xe0ce5;_0x340dd7=player['gold']/0x3e8*0.01;_0x3b10f3=Math['max'](0x1,Math['floor'](_0x3b10f3*(0x1-_0x340dd7)));player['gold']=player['gold']-Math['floor'](_0x3b10f3*0.05);addCombatLog("\u4F60\u7740\u62A4\u5B88\u77F3\u7075\u7684\u4F60".split("").reverse().join(""));}if(player['skills']['includes']("SrooP".split("").reverse().join(""))){if(player['gold']<(0x6d553^0x6d6bb)){_0x3b10f3=Math['max'](0x1,_0x3b10f3-0x1e);addCombatLog('穷神祝福你');}}if(player['skills']['includes']('Jingfan')){let _0x48ca15=player['stats']['hp']/player['stats']['hpMax']*(0x21019^0x2107d);if(_0x48ca15<0x1e){addCombatLog('你的【脆镜反射】反射了同样的伤害回去!');enemy['stats']['hp']-=_0x3b10f3;}}if(player['skills']['includes']('ZGQX')){let _0x4a0142=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x4a0142>0x50){if(player['stats']['hp']-_0x3b10f3<=0x0){_0x3b10f3=player['stats']['hp']-0x5;}}}if(player['skills']['includes']('YJSH')){if(Math['floor'](Math['random']()*0x64)<(0xda303^0xda360)){if(dmgtype=='damage'){_0x3b10f3=0xa7157^0xa7157;addCombatLog("\u51FB\u653B\u6B21\u8FD9\u4E86\u89C6\u65E0\u5168\u5B8C,\u7F69\u7B3C\u606F\u6C14\u754C\u5F02\u88AB\u4F60".split("").reverse().join(""));}}_0x3b10f3=_0x3b10f3*(0xb14e5^0xb14ef);if(_0x3b10f3!=0x0)addCombatLog('你被这个世界排斥!!');}if(player['skills']['includes']('DCJJ')){if(player['stats']['hp']==player['stats']['hpMax']){_0x3b10f3=Math['floor'](_0x3b10f3*0.5);addCombatLog("\u4F60\u7740\u62A4\u5B88\u3011\u7532\u575A\u91CD\u591A\u3010\u7684\u4F60".split("").reverse().join(""));}}if(player['skills']['includes']('BQZD')){if(player['tempStats']['firstDef']==undefined)player['tempStats']['firstDef']=0x0;if(player['tempStats']['firstDef']==0x0){let _0x1f3937=_0x3b10f3;player['stats']['hp']=player['stats']['hp']+_0x1f3937;_0x3b10f3=0x0;player['tempStats']['firstDef']=0x1;addCombatLog("\u3011\u76FE\u4E4B\u5C48\u4E0D\u3010\u51FA\u53D1\u6FC0\u4F60".split("").reverse().join(""));addCombatLog('你获得了'+_0x1f3937+"\u7597\u6CBB".split("").reverse().join(""));}}if(player['skills']['includes']('CZJS')){if(player['tempStats']['czjs']==undefined)player['tempStats']['czjs']=0x0;if(player['stats']['hp']-_0x3b10f3<=(0x5c9d5^0x5c9d5)){_0x3b10f3=0x0;if(player['tempStats']['czjs']==0x0){player['stats']['hp']=player['stats']['hpMax'];player['tempStats']['czjs']=0x1;addCombatLog('你拒绝了死亡');}}}if(player['skills']['includes']('ZSDS')){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x61bc1^0x61bc1;if(player['tempStats']['zsds']==0x0){enemy['stats']['hp']-=_0x3b10f3/(0x9698f^0x9698d);_0x3b10f3=0xe6a70^0xe6a70;player['tempStats']['zsds']=0x1;addCombatLog('这对【战术大师】无效');}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x3b10f3=_0x3b10f3*(0x80425^0x80427);addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==(0x8c1a3^0x8c1a1)){_0x3b10f3=Math['floor'](_0x3b10f3*0.7);player['tempStats']['txww']=0x37f9d^0x37f9d;addCombatLog('心如【止】水');}}player['stats']['hp']-=_0x3b10f3;objectValidation();if(player['skills']['includes']('Aegis\x20Thorns')){enemy['stats']['hp']-=Math['round']((0x36313^0x3631c)*_0x3b10f3/0x64);}if(player['skills']['includes']("iugieN".split("").reverse().join(""))){if(Math['floor'](Math['random']()*(0x8d5cf^0x8d5ab))<0xa){enemy['stats']['hp']-=_0x3b10f3;addCombatLog("\u6613\u4EA4\u6B62\u4E2D,\u9B3C\u5185\u6709".split("").reverse().join(""));}}enemy['stats']['hp']+=_0x473f5a;addCombatLog(enemy['name']+" \u5BF9 ".split("").reverse().join("")+player['name']+'\x20造成了'+nFormatter(_0x3b10f3)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0x4aac42=document['querySelector']('#playerPanel');_0x4aac42['classList']['add']("ekahs-noitamina".split("").reverse().join(""));setTimeout(()=>{_0x4aac42['classList']['remove']('animation-shake');},0xc8);let _0x431c11=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x431c11=Math['max'](0.1,player['stats']['atkSpd']-0.1);addCombatLog('敌人被震撼着');}}if(player['skills']['includes']('YJMY')){player['stats']['atkSpd']=player['stats']['atkSpd']-0.05;_0x431c11=enemy['stats']['atkSpd'];addCombatLog("!\u4E86\u4F4F\u7F20\u7EA0\u8863\u68C9\u7684\u4F60\u88AB\u4EBA\u654C".split("").reverse().join(""));}if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){enemyAttack();}},0x3e8/_0x431c11);}};const combatBacklog=[];const addCombatLog=_0x166f89=>{combatBacklog['push'](_0x166f89);updateCombatLog();};const updateCombatLog=()=>{let _0x1a0ffa=document['getElementById']('combatLogBox');_0x1a0ffa['innerHTML']="".split("").reverse().join("");for(let _0x27bfa0 of combatBacklog){let _0xdccae0=document['createElement']('p');_0xdccae0['innerHTML']=_0x27bfa0;_0x1a0ffa['appendChild'](_0xdccae0);}if(enemyDead){let _0x2a7a65=document['createElement']('div');_0x2a7a65['className']="lenap-noisiced".split("").reverse().join("");_0x2a7a65['innerHTML']=">nottub/<\u4E86\u9053\u77E5>\"nottuBelttab\"=di nottub<".split("").reverse().join("");_0x1a0ffa['appendChild'](_0x2a7a65);}if(playerDead){let _0x3c8bdb=document['createElement']('div');_0x3c8bdb['className']="lenap-noisiced".split("").reverse().join("");_0x3c8bdb['innerHTML']=">nottub/<\u5355\u83DC\u5230\u56DE>\"nottuBelttab\"=di nottub<".split("").reverse().join("");_0x1a0ffa['appendChild'](_0x3c8bdb);}_0x1a0ffa['scrollTop']=_0x1a0ffa['scrollHeight'];};let combatSeconds=0x0;const startCombat=_0x441b6e=>{bgmDungeon['pause']();sfxEncounter['play']();_0x441b6e['play']();player['inCombat']=!![];let _0x3c8940=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x3c8940=Math['max'](0.1,player['stats']['atkSpd']-0.1);}}setTimeout(playerAttack,0x3e8/player['stats']['atkSpd']);setTimeout(enemyAttack,0x3e8/_0x3c8940);let _0x1fcaa0=document['querySelector']("niam-noegnud#".split("").reverse().join(""));_0x1fcaa0['style']['filter']='brightness(50%)';playerLoadStats();enemyLoadStats();dungeon['status']['event']=!![];combatPanel['style']['display']='flex';combatTimer=setInterval(combatCounter,0xe6205^0xe61ed);};const endCombat=()=>{bgmBattleMain['stop']();bgmBattleGuardian['stop']();bgmBattleBoss["\u0073\u0074\u006f\u0070"]();sfxCombatEnd['play']();player["\u0069\u006e\u0043\u006f\u006d\u0062\u0061\u0074"]=![];if(player['skills']['includes']("regapmaR".split("").reverse().join(""))){objectValidation();player['baseStats']['atk']-=player['tempStats']['atk'];player['tempStats']['atk']=0xcf088^0xcf088;saveData();}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Blade\x20Dance')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('Kuaiqidong')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']("JZQB".split("").reverse().join(""))){objectValidation();player['tempStats']['firstAtk']=0x0;saveData();}if(player['skills']['includes']("DZQB".split("").reverse().join(""))){objectValidation();player['tempStats']['firstDef']=0x0;saveData();}if(player['skills']['includes']("SJZC".split("").reverse().join(""))){objectValidation();player['tempStats']['czjs']=0x0;saveData();}if(player['skills']['includes']('ZJJ')){objectValidation();player['tempStats']['zjj']=0x0;saveData();}if(player['skills']['includes']('ZSDS')){objectValidation();player['tempStats']['zsds']=0x0;saveData();}if(player['skills']['includes']('TXWW')){objectValidation();player['tempStats']['txww']=0x0;saveData();}clearInterval(combatTimer);combatSeconds=0x0;};const combatCounter=()=>{combatSeconds++;};const showCombatInfo=()=>{document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("lenaPtabmoc#".split("").reverse().join(""))['innerHTML']='\x0a\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20center\x22\x20id=\x22enemyPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+enemy['name']+'\x20Lv.'+enemy['lvl']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20hp\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22enemy-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22enemy-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(enemy['stats']['hp'])+'/'+nFormatter(enemy['stats']['hpMax'])+'<br>('+enemy['stats']['hpPercent']+"/setirps/stessa/.\"=crs gmi<            \n>vid/<>\"reniatnoc-gmd\"=di vid<            \n>vid/<            \n>vid/<                \n)%".split("").reverse().join("")+enemy['image']['name']+enemy['image']['type']+'\x22\x20alt=\x22'+enemy['name']+'\x22\x20width=\x22'+enemy["\u0069\u006d\u0061\u0067\u0065"]['size']+'\x22\x20id=\x22enemy-sprite\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20primary-panel\x22\x20id=\x22playerPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22player-combat-info\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22player-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22player-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(player['stats']['hp'])+'/'+nFormatter(player['stats']['hpMax'])+'('+player['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-xb\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-xb\x22\x20id=\x22player-exp-bar\x22>exp</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22logBox\x20primary-panel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22combatLogBox\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';};