const combatPanel=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("lenaPtabmoc#".split("").reverse().join(""));let enemyDead=![];let playerDead=![];const hpValidation=()=>{if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]<(0x997a8^0x997a9)){if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==undefined)player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=0xa7d50^0xa7d50;if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==(0xd611d^0xd611d)){player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0x8c568^0x8c568;playerDead=!![];player["\u0064\u0065\u0061\u0074\u0068\u0073"]++;if(player['bank']==undefined)player["\u0062\u0061\u006e\u006b"]=0xe3e73^0xe3e73;player['bank']=player["\u0062\u0061\u006e\u006b"]+Math["\u0063\u0065\u0069\u006c"](player['gold']*0.3);player["\u0067\u006f\u006c\u0064"]=0x6c070^0x6c070;addCombatLog("!\u4E86\u6B7B\u4F60".split("").reverse().join(""));addCombatLog("\u0033\u0030\u0025\u7684\u7075\u77f3\u81ea\u52a8\u5b58\u5165\u4e86\u94b1\u5e84");document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("nottuBelttab#".split("").reverse().join(""))['addEventListener']('click',function(){sfxConfirm['play']();playerDead=![];let _0x1db5a7=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("\u0023\u0064\u0075\u006e\u0067\u0065\u006f\u006e\u002d\u006d\u0061\u0069\u006e");_0x1db5a7['style']['filter']=")%001(ssenthgirb".split("").reverse().join("");_0x1db5a7["\u0073\u0074\u0079\u006c\u0065"]['display']='none';combatPanel["\u0073\u0074\u0079\u006c\u0065"]["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="enon".split("").reverse().join("");runLoad("neercs-eltit".split("").reverse().join(""),"xelf".split("").reverse().join(""));clearInterval(dungeonTimer);clearInterval(playTimer);progressReset();});}else{enemyDead=!![];player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=player['stats']["\u0068\u0070\u004d\u0061\u0078"];addCombatLog("\u5929\u751F\u51FA\u9003\u3011\u8F74\u5377\u6D3B\u590D\u3010\u5F20\u4E00\u8017\u6D88\u4F60".split("").reverse().join(""));player['rebirth']=player['rebirth']-(0xbf344^0xbf345);document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("nottuBelttab#".split("").reverse().join(""))["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]('click',function(){sfxConfirm["\u0070\u006c\u0061\u0079"]();let _0x113548=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("niam-noegnud#".split("").reverse().join(""));_0x113548["\u0073\u0074\u0079\u006c\u0065"]['filter']='brightness(100%)';bgmDungeon["\u0070\u006c\u0061\u0079"]();dungeon['status']['event']=![];combatPanel["\u0073\u0074\u0079\u006c\u0065"]["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="enon".split("").reverse().join("");enemyDead=![];combatBacklog["\u006c\u0065\u006e\u0067\u0074\u0068"]=0xf2632^0xf2632;});}endCombat();}else if(enemy['stats']["\u0068\u0070"]<(0xacdcc^0xacdcd)){enemy['stats']['hp']=0x0;enemyDead=!![];player['kills']++;dungeon["\u0073\u0074\u0061\u0074\u0069\u0073\u0074\u0069\u0063\u0073"]["\u006b\u0069\u006c\u006c\u0073"]++;addCombatLog(enemy['name']+'\x20神魂俱灭!\x20('+new Date(combatSeconds*0x3e8)['toISOString']()['substring'](0x2aa09^0x2aa07,0x13)+')');addCombatLog('你得到了'+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]["\u0065\u0078\u0070"])+".\u9A8C\u7ECF".split("").reverse().join(""));if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("naygniJ".split("").reverse().join(""))){addCombatLog("\u5F97\u83B7\u5916\u989D\u4F60\u4F7F\u3011\u6DF1\u8D44\u3010".split("").reverse().join("")+nFormatter(Math["\u0063\u0065\u0069\u006c"](enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['exp']*0.2))+".\u9A8C\u7ECF".split("").reverse().join(""));}playerExpGain();let _0x45e930=0x8764b^0x8764a;let _0x2ab89f=0x1;if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Lingshi')){_0x45e930=1.3;}if(player["\u006b\u006c\u006c"]==0x1){_0x2ab89f=0x2;}addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20掉落了\x20<i\x20class=\x22fa-solid\x20fa-gem\x22\x20style=\x22color:\x20#ff8000;\x22></i>'+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x45e930*_0x2ab89f)+".\u77F3\u7075 ".split("").reverse().join(""));if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004c\u0069\u006e\u0067\u0073\u0068\u0069")){addCombatLog('【帝王宝库】使你额外获得'+nFormatter(Math['ceil'](enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]["\u0067\u006f\u006c\u0064"]*0.3))+"\u7075\u77f3\u002e");}player["\u0067\u006f\u006c\u0064"]+=enemy['rewards']["\u0067\u006f\u006c\u0064"]*_0x45e930*_0x2ab89f;playerLoadStats();if(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]["\u0064\u0072\u006f\u0070"]){createEquipmentPrint('combat');}let _0x25ab38=0x1;if(player['skills']['includes']("\u0058\u0042\u0053")){_0x25ab38=1.5;}if(player["\u0063\u0075\u0072\u0065\u0073\u0065\u004c\u0042"]==undefined)player['cureseLB']=0x0;if(player['riftLB']==undefined)player['riftLB']=0x0;if(player["\u0065\u006d\u0070\u006f\u0072\u004c\u0042"]==undefined)player["\u0065\u006d\u0070\u006f\u0072\u004c\u0042"]=0x0;let _0x253be2=0x1;if(player['hardloop']>=0x1){_0x253be2=0x1+Math['ceil'](player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070"]/0x5)/(0x9e5f2^0x9e596);}if(enemy['class']=="\u0067\u0075\u0061\u0072\u0064\u0069\u0061\u006e"){if(Math['floor'](Math['random']()*(0x6a704^0x6a760))<0x2*_0x25ab38){createEquipmentPrint('combat',"\u0058\u0054\u004c\u0042");}else if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0x9e468^0x9e40c))<0x3*_0x25ab38){createEquipmentPrint("tabmoc".split("").reverse().join(""),"\u004c\u0042");}let _0x1ea8a5=Math['floor'](enemy['lvl']/0xa);if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<(0xd6270^0xd6276)*_0x253be2){let _0x4ee669=Math['floor'](_0x1ea8a5*randomizeDecimal(0.3,0.6));_0x4ee669=Math['max'](0xdf4ae^0xdf4af,_0x4ee669);player['cureseLB']=player['cureseLB']+_0x4ee669;addCombatLog('你找到了'+nFormatter(_0x4ee669)+'诅咒灵宝碎片.');addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了'+nFormatter(_0x4ee669)+'【诅咒灵宝碎片】</span>');}if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<(0xa28fc^0xa28fa)*_0x253be2){let _0x387767=Math["\u0066\u006c\u006f\u006f\u0072"](_0x1ea8a5*randomizeDecimal(0.1,0.5));_0x387767=Math['max'](0x1,_0x387767);player["\u0072\u0069\u0066\u0074\u004c\u0042"]=player['riftLB']+_0x387767;addCombatLog('你找到了'+nFormatter(_0x387767)+'裂隙灵宝碎片.');addDungeonLog("\u4E86\u5F97\u83B7\u4F60>\"yradnegeL\"=ssalc naps<".split("").reverse().join("")+nFormatter(_0x387767)+"\u3010\u88c2\u9699\u7075\u5b9d\u788e\u7247\u3011\u003c\u002f\u0073\u0070\u0061\u006e\u003e");}}if(enemy["\u0063\u006c\u0061\u0073\u0073"]=="\u0073\u0062\u006f\u0073\u0073"){if(Math['floor'](Math['random']()*0x64)<(0xcb9e4^0xcb9d6)){if(player['rebirth']==undefined)player['rebirth']=0x0;player['rebirth']=player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]+(0xa4a19^0xa4a18);addCombatLog('你从这个强大的生物上找到一张【复活卷轴】');}if(Math['floor'](Math['random']()*0x64)<0x1*_0x25ab38){createEquipmentPrint("tabmoc".split("").reverse().join(""),"\u0044\u0042");}else if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x2*_0x25ab38){createEquipmentPrint("tabmoc".split("").reverse().join(""),'ZB');}let _0x2b696a=Math["\u0066\u006c\u006f\u006f\u0072"](enemy['lvl']/0x7);if(Math['floor'](Math['random']()*0x64)<(0x4d745^0x4d742)*_0x253be2){let _0x528e9e=Math['floor'](_0x2b696a*randomizeDecimal(0.2,0.5));_0x528e9e=Math["\u006d\u0061\u0078"](0x1,_0x528e9e);player["\u0072\u0069\u0066\u0074\u004c\u0042"]=player['riftLB']+_0x528e9e;addCombatLog('你找到了'+nFormatter(_0x528e9e)+'裂隙灵宝碎片.');addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了'+nFormatter(_0x528e9e)+">naps/<\u3011\u7247\u788E\u5B9D\u7075\u9699\u88C2\u3010".split("").reverse().join(""));}if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x5*_0x253be2){let _0x2ada0b=Math['floor'](_0x2b696a*randomizeDecimal(0.1,0.3));_0x2ada0b=Math['max'](0x389d7^0x389d6,_0x2ada0b);player['emporLB']=player['emporLB']+_0x2ada0b;addCombatLog('你找到了'+nFormatter(_0x2ada0b)+".\u7247\u788E\u5B9D\u7075\u8005\u5E1D".split("").reverse().join(""));addDungeonLog("\u4E86\u5F97\u83B7\u4F60>\"yradnegeL\"=ssalc naps<".split("").reverse().join("")+nFormatter(_0x2ada0b)+">naps/<\u3011\u7247\u788E\u5B9D\u7075\u8005\u5E1D\u3010".split("").reverse().join(""));}}if(player['hardloop']>=0x1){let _0x321e16=player['hardloop'];if(Math['floor'](Math['random']()*0x64)<=_0x321e16+0x1){player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070\u0073\u0069\u0067\u006e"]=player['hardloopsign']+(0x57302^0x57303);addCombatLog('你获得了1个【煎熬象征】');addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了1个【煎熬象征】</span>');}}player['stats']['hp']+=Math['round'](player['stats']['hpMax']*(0xf302f^0xf303b)/0x64);playerLoadStats();document['querySelector']('#battleButton')["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]('click',function(){sfxConfirm["\u0070\u006c\u0061\u0079"]();let _0x265148=document['querySelector']('#dungeon-main');_0x265148['style']['filter']='brightness(100%)';bgmDungeon['play']();dungeon['status']["\u0065\u0076\u0065\u006e\u0074"]=![];combatPanel['style']['display']="enon".split("").reverse().join("");enemyDead=![];combatBacklog['length']=0x8ccbe^0x8ccbe;});endCombat();}};function getDtype(_0x453515){if(_0x453515=='crit\x20damage')return"\u51FB\u66B4".split("").reverse().join("");if(_0x453515=="egamad".split("").reverse().join(""))return"\u901A\u666E".split("").reverse().join("");return _0x453515;}const playerAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x53f706;let _0x3c7d57=player['stats']['atk']*(player['stats']['atk']/(player["\u0073\u0074\u0061\u0074\u0073"]['atk']+enemy['stats']['def']));let _0x2d48fc=0.9+Math['random']()*0.2;_0x3c7d57=_0x3c7d57*_0x2d48fc;let _0x4b5065=0x1;let _0x42a7d0=0x1;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("ijoaB".split("").reverse().join(""))){_0x4b5065=1.7;_0x42a7d0=0.6;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Gongji')){_0x4b5065=0x0;_0x42a7d0=1.3;}if(player['skills']['includes']('ZSDS')){if(player['tempStats']['zsds']==undefined)player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['zsds']=0x1;player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['zsds']=0xeb854^0xeb855;}if(Math['floor'](Math['random']()*(0x6ce66^0x6ce02))<player['stats']['critRate']){_0x53f706=!![];if(player['skills']['includes']('RCZF')){_0x53f706=![];dmgtype="egamad".split("").reverse().join("");_0x3c7d57=Math['round'](_0x3c7d57*_0x42a7d0);}else{dmgtype='crit\x20damage';_0x3c7d57=Math['round'](_0x3c7d57*_0x4b5065*((0xa06ab^0xa06aa)+player['stats']['critDmg']/(0xf3714^0xf3770)));if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Baoji')){addCombatLog('【狂热之心】使你额外造成'+Math['round'](_0x3c7d57*(_0x4b5065-0x1)*((0x39faa^0x39fab)+player['stats']['critDmg']/0x64))+".\u5BB3\u4F24".split("").reverse().join(""));}}}else{_0x53f706=![];dmgtype="\u0064\u0061\u006d\u0061\u0067\u0065";_0x3c7d57=Math["\u0072\u006f\u0075\u006e\u0064"](_0x3c7d57*_0x42a7d0);if(player['skills']['includes']('Gongji')){addCombatLog("\u6210\u9020\u5916\u989D\u4F60\u4F7F\u3011\u5FC3\u4E4B\u6148\u4EC1\u3010".split("").reverse().join("")+Math["\u0072\u006f\u0075\u006e\u0064"](_0x3c7d57*_0x42a7d0)+".\u5BB3\u4F24".split("").reverse().join(""));}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("\u0042\u0051\u005a\u004a")){console['log'](player['tempStats']['firstAtk']);if(player['tempStats']['firstAtk']==undefined)player['tempStats']['firstAtk']=0xbab39^0xbab39;if(player['tempStats']['firstAtk']==0x0){dmgtype='crit\x20damage';_0x3c7d57=Math["\u0072\u006f\u0075\u006e\u0064"](_0x3c7d57*_0x4b5065*(0xaf4cd^0xaf4cf)*(0x1+player['stats']['critDmg']/(0x4a79f^0x4a7fb)));player['tempStats']['firstAtk']=0x1;addCombatLog("\u3011\u5251\u4E4B\u5C48\u4E0D\u3010\u51FA\u53D1\u6FC0\u4F60".split("").reverse().join(""));}}objectValidation();if(player['skills']['includes']("rozaR tnanmeR".split("").reverse().join(""))){_0x3c7d57+=Math['round']((0x802b9^0x802b1)*enemy['stats']['hp']/(0x54b99^0x54bfd));}if(player['skills']['includes']('Titan\x27s\x20Will')){_0x3c7d57+=Math["\u0072\u006f\u0075\u006e\u0064"](0x5*player['stats']['hpMax']/0x64);}if(player['skills']['includes']('Devastator')){_0x3c7d57=Math['round'](_0x3c7d57+(0x2c80b^0x2c815)*_0x3c7d57/(0xa43d3^0xa43b7));}if(player['skills']['includes']('Rampager')){player['baseStats']["\u0061\u0074\u006b"]+=0xc5a7c^0xc5a79;objectValidation();player['tempStats']["\u0061\u0074\u006b"]+=0x5;saveData();}if(player['skills']['includes']('Blade\x20Dance')){player['baseStats']['atkSpd']+=0.3;objectValidation();player['tempStats']['atkSpd']+=0.3;saveData();}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004b\u0075\u0061\u0069\u0071\u0069\u0064\u006f\u006e\u0067")){player['baseStats']['atkSpd']-=0.01;objectValidation();player['tempStats']['atkSpd']-=0.01;saveData();}let _0x336524=0x1;if(player['skills']['includes']('Kuangbao')){if(player['stats']['hp']<=player['stats']["\u0068\u0070\u004d\u0061\u0078"]*0.5){addCombatLog("\u4f60\u8eab\u62ab\u3010\u8840\u8863\u3011\u002c\u773c\u76ee\u7329\u7ea2");_0x3c7d57=Math['ceil'](_0x3c7d57*1.5);_0x336524=0x2;}}let _0x34825f=player['stats']["\u0061\u0074\u006b\u0053\u0070\u0064"];_0x34825f=_0x34825f*_0x336524;let _0xa430fe=0xf33d0^0xf33d1;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('JiyuanXiaoguo')){addCombatLog("\u8840\u6C14\u7684\u65B9\u5BF9\u6536\u5438\u7684\u65AD\u4E0D\u6E90\u6E90\u3011\u8EAF\u4E4B\u7075\u996E\u3010\u7684\u4F60".split("").reverse().join(""));_0xa430fe=1.3;}if(player['skills']['includes']('Yinxue')){addCombatLog('你的【饮血】源源不断的吸收对方的气血');_0xa430fe=0x840ad^0x840af;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Huichun')){addCombatLog('你的【大回春术】滋养你的身体,你转瞬间容光焕发!');addCombatLog('恢复了'+Math['ceil'](player['stats']['hpMax']*0.02)+'气血');player['stats']['hp']+=Math['ceil'](player['stats']['hpMax']*0.02);}if(player['skills']['includes']('QixueHun')){addCombatLog('你的【气血之魂】加强了攻击的威力!');let _0x2ba1f1=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x2ba1f1<0x46){let _0x5d9ee8=(0x53547^0x53523)-_0x2ba1f1;let _0xdff603=_0x5d9ee8*(0x1d62c^0x1d62e);_0x3c7d57+=Math['ceil'](_0x3c7d57*(_0xdff603/(0x22e52^0x22e36)));}}if(player['skills']['includes']("naitoaD".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0x5){player['bonusStats']['hp']+=Math['ceil'](_0x3c7d57*0.01);addCombatLog("!!\u534E\u7CBE\u5730\u5929\u8D70\u7A83\u4F60\u3011\u5929\u76D7\u3010".split("").reverse().join(""));}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Luantian')){if(Math['floor'](Math['random']()*0x64)<0x5){player['bonusStats']['critRate']+=0.01;addCombatLog('【乱天】你打乱了天序!!');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Baitian')){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<(0xada16^0xada13)){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]["\u0064\u0065\u0066"]+=Math['ceil'](_0x3c7d57*0.01);addCombatLog("!!\u65F6\u5929\u4E86\u51CF\u524A\u4F60\u3011\u5929\u8D25\u3010".split("").reverse().join(""));}}if(player['skills']['includes']("naituL".split("").reverse().join(""))){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<0x1){player['bonusStats']['atk']+=Math['ceil'](_0x3c7d57*0.003);addCombatLog("\u3010\u622e\u5929\u3011\u4f60\u7834\u706d\u4e86\u67d0\u5904\u0021\u0021");}}if(player['skills']['includes']("naituhZ".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0x1){player['bonusStats']['critDmg']+=0.5;addCombatLog('【诛天】你诛灭了某处!!');}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Daitian')){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<0x1){_0x3c7d57=enemy['stats']['hp'];addCombatLog('【代天】宣布对方立即失败');}}if(player['skills']['includes']("\u0058\u0075\u0061\u006e\u0079\u0075\u006e")){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<(0x6f919^0x6f916)){enemy['stats']['atk']=Math['floor'](enemy['stats']["\u0061\u0074\u006b"]-enemy['stats']['atk']*0.05);addCombatLog('你向对方头上猛地一击,对方顿时感觉头晕目眩,浑身无力');}}if(player['skills']['includes']("GdloG".split("").reverse().join(""))){let _0x15fb20=0x1;_0x15fb20=0x1+player['gold']/0x3e8*0.01;_0x3c7d57=Math['floor'](_0x3c7d57*_0x15fb20);player["\u0067\u006f\u006c\u0064"]=player['gold']-Math['floor'](_0x3c7d57*0.09);addCombatLog("\u53BB\u7838\u65B9\u5BF9\u5411\u7684\u65AD\u4E0D\u6E90\u6E90\u77F3\u7075\u7684\u4F60".split("").reverse().join(""));}if(player['skills']['includes']('PoorG')){if(player['gold']<0x3e8){_0x3c7d57=_0x3c7d57+(0xd0a94^0xd0aa6);addCombatLog("\u4F60\u798F\u795D\u795E\u7A77".split("").reverse().join(""));}}if(player['skills']['includes']('HL')){_0x3c7d57=Math['floor'](_0x3c7d57*1.3);if(Math['floor'](Math['random']()*0x64)<0x1e){_0x3c7d57=0x0;addCombatLog("\u4E86\u6B6A\u6253,\u5440\u54CE".split("").reverse().join(""));}}let _0x1aa4f5=Math['round'](_0x3c7d57*_0xa430fe*(player['stats']['vamp']/0x64));if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('TRA')){if(Math['floor'](Math['random']()*0x64)<0xa){enemy['stats']['hp']-=_0x3c7d57;addCombatLog("\u002d\u002d\u3010\u5929\u4eba\u540c\u51fb\u3011\u002d\u002d");}}if(player['skills']['includes']('RCZF')){enemy['stats']['hp']-=_0x3c7d57;addCombatLog('【仁慈之风】发动了第二次攻击');}if(player['skills']['includes']('DPMJ')){_0x3c7d57=Math['floor'](player['stats']['def']*0.1);if(Math['floor'](Math['random']()*0x64)<player['stats']['critRate']){_0x53f706=!![];dmgtype="egamad tirc".split("").reverse().join("");_0x3c7d57=Math['round'](_0x3c7d57*_0x4b5065*((0x6878d^0x6878c)+player['stats']['critDmg']/0x64));}addCombatLog('你用你的肚皮攻击');}if(player['skills']['includes']('FX')){if(Math['floor'](Math['random']()*0x64)<0x32){player['stats']['hp']-=player['stats']['hp']*0.5;_0x3c7d57=_0x3c7d57*(0x95f48^0x95f4b);addCombatLog('你放血而击');}}if(player['skills']['includes']('ZJJ')){player['stats']['hp']-=player['stats']['hp']*0.05;if(player['tempStats']['zjj']==undefined)player['tempStats']['zjj']=0x0;player['tempStats']['zjj']=player['tempStats']['zjj']+0x1;let _0x371858=(0xa9496^0xa9497)+0.1*player['tempStats']['zjj'];_0x3c7d57=_0x3c7d57*_0x371858;}if(player['skills']['includes']('HLXM')){if(enemy['stats']['hp']-_0x3c7d57*0x2<=0x0){_0x3c7d57=_0x3c7d57*0x2;}}if(player['skills']['includes']("WWXT".split("").reverse().join(""))){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(Math['floor'](Math['random']()*(0x8ffdc^0x8ffb8))<0xa){let _0x2a8203=Math['floor'](Math['random']()*0x3)+(0x86655^0x86654);if(_0x2a8203==(0xed758^0xed759)){player['tempStats']['txww']=0x1;addCombatLog('你进入【玄】');}if(_0x2a8203==0x2){player['tempStats']['txww']=0x2;addCombatLog('你进入【止】');}if(_0x2a8203==0x3){player['tempStats']['txww']=0x3;addCombatLog("\u3011\u52A8\u3010\u5165\u8FDB\u4F60".split("").reverse().join(""));}}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x9687a^0x9687a;if(player['tempStats']['txww']==(0x9ccf1^0x9ccf0)){_0x3c7d57=_0x3c7d57*0x2;addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==0x3){enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']-=_0x3c7d57;enemy['stats']['hp']-=_0x3c7d57;player['tempStats']['txww']=0x5dd2f^0x5dd2f;addCombatLog('你退出【动】');}}enemy['stats']['hp']-=_0x3c7d57;player['stats']['hp']+=_0x1aa4f5;addCombatLog(player['name']+'\x20对\x20\x20'+enemy['name']+" \u4E86\u6210\u9020".split("").reverse().join("")+nFormatter(_0x3c7d57)+('\x20'+getDtype(dmgtype)+"\u5BB3\u4F24 ".split("").reverse().join("")));hpValidation();playerLoadStats();enemyLoadStats();let _0x353b84=document['querySelector']("etirps-ymene#".split("").reverse().join(""));_0x353b84['classList']['add']("ekahs-noitamina".split("").reverse().join(""));setTimeout(()=>{_0x353b84['classList']['remove']("ekahs-noitamina".split("").reverse().join(""));},0xc8);const _0x29188c=document['querySelector']("reniatnoc-gmd#".split("").reverse().join(""));const _0xe3eb00=document['createElement']('p');_0xe3eb00['classList']['add']('dmg-numbers');if(_0x53f706){_0xe3eb00['style']['color']='gold';_0xe3eb00['innerHTML']=nFormatter(_0x3c7d57)+'!';}else{_0xe3eb00['innerHTML']=nFormatter(_0x3c7d57);}_0x29188c['appendChild'](_0xe3eb00);setTimeout(()=>{_0x29188c['removeChild'](_0x29188c['lastElementChild']);},0xe91bd^0xe90cf);if(player['inCombat']){setTimeout(()=>{if(player["\u0069\u006e\u0043\u006f\u006d\u0062\u0061\u0074"]){playerAttack();}},0x3e8/_0x34825f);}};const enemyAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x32396e=enemy['stats']['atk']*(enemy['stats']['atk']/(enemy['stats']['atk']+player['stats']['def']));let _0x326032=Math['round'](enemy['stats']['atk']*(enemy['stats']['vamp']/(0x4bb2b^0x4bb4f)));let _0x53a88c=0.9+Math['random']()*0.2;_0x32396e=_0x32396e*_0x53a88c;if(Math['floor'](Math['random']()*0x64)<enemy['stats']["\u0063\u0072\u0069\u0074\u0052\u0061\u0074\u0065"]){if(player['skills']['includes']('ZDKJ')){dmgtype='damage';_0x32396e=Math['round'](_0x32396e);}else{dmgtype='crit\x20damage';_0x32396e=Math['round'](_0x32396e*(0x1+enemy['stats']['critDmg']/(0x6a08a^0x6a0ee)));}}else{dmgtype="egamad".split("").reverse().join("");_0x32396e=Math['round'](_0x32396e);}if(player['skills']['includes']("traeH s'nidalaP".split("").reverse().join(""))){_0x32396e=Math['round'](_0x32396e-0x19*_0x32396e/0x64);}if(player['skills']['includes']('Shanbi')){if(Math['floor'](Math['random']()*(0xcfaaf^0xcfacb))<0x1e){let _0x2ea36d=Math['ceil'](_0x32396e*0.5);_0x32396e=0x0;addCombatLog("\u6D77\u5982\u725B\u77F3\u540C\u5982\u51FB\u653B\u7684\u65B9\u5BF9,\u85CF\u9690\u4E2D\u98CE\u4E8E\u4F60".split("").reverse().join(""));if(Math['floor'](Math['random']()*0x64)<(0x325ab^0x32583)){enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']-=_0x2ea36d;addCombatLog("\u53BB\u800C\u98DE\u5012\u7ADF\u52BF\u653B\u7684\u65B9\u5BF9,\u53CD\u5F39\u5F00\u5C55\u4E2D\u98CE\u4E8E\u4F60".split("").reverse().join(""));}}}if(player['skills']['includes']("SdloG".split("").reverse().join(""))){let _0x2fe81b=0x815ca^0x815cb;_0x2fe81b=player['gold']/(0x48509^0x486e1)*0.01;player['gold']=player['gold']-Math['floor'](_0x32396e*0.07);_0x32396e=Math['max'](0x1,Math['floor'](_0x32396e*((0xb06b8^0xb06b9)-_0x2fe81b)));addCombatLog("\u4F60\u7740\u62A4\u5B88\u77F3\u7075\u7684\u4F60".split("").reverse().join(""));}if(player['skills']['includes']('PoorS')){if(player['gold']<0x3e8){_0x32396e=Math['max'](0xce8b4^0xce8b5,_0x32396e-0x1e);addCombatLog('穷神祝福你');}}if(player['skills']['includes']('Jingfan')){let _0xd8c7d=player['stats']['hp']/player['stats']['hpMax']*(0x5561b^0x5567f);if(_0xd8c7d<(0x37b4c^0x37b52)){addCombatLog('你的【脆镜反射】反射了同样的伤害回去!');enemy['stats']['hp']-=_0x32396e;}}if(player['skills']['includes']("XQGZ".split("").reverse().join(""))){let _0x24beb6=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x24beb6>0x50){if(player['stats']['hp']-_0x32396e<=0x0){_0x32396e=player['stats']['hp']-0x5;}}}if(player['skills']['includes']("HSJY".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0x63){if(dmgtype=='damage'){_0x32396e=0x0;addCombatLog("\u51FB\u653B\u6B21\u8FD9\u4E86\u89C6\u65E0\u5168\u5B8C,\u7F69\u7B3C\u606F\u6C14\u754C\u5F02\u88AB\u4F60".split("").reverse().join(""));}}_0x32396e=_0x32396e*(0xbed2e^0xbed24);if(_0x32396e!=0x0)addCombatLog("!!\u65A5\u6392\u754C\u4E16\u4E2A\u8FD9\u88AB\u4F60".split("").reverse().join(""));}if(player['skills']['includes']("JJCD".split("").reverse().join(""))){if(player['stats']['hp']==player['stats']['hpMax']){_0x32396e=Math['floor'](_0x32396e*0.5);addCombatLog('你的【多重坚甲】守护着你');}}if(player['skills']['includes']('BQZD')){if(player['tempStats']['firstDef']==undefined)player['tempStats']['firstDef']=0x0;if(player['tempStats']['firstDef']==0x0){let _0x3f83df=_0x32396e;player['stats']["\u0068\u0070"]=player['stats']['hp']+_0x3f83df;_0x32396e=0xe43bc^0xe43bc;player['tempStats']['firstDef']=0x1;addCombatLog('你激发出【不屈之盾】');addCombatLog('你获得了'+_0x3f83df+"\u7597\u6CBB".split("").reverse().join(""));}}if(player['skills']['includes']('CZJS')){if(player['tempStats']['czjs']==undefined)player['tempStats']['czjs']=0x0;if(player['stats']['hp']-_0x32396e<=(0x1dd8f^0x1dd8f)){_0x32396e=0x0;if(player['tempStats']['czjs']==(0x90e91^0x90e91)){player['stats']['hp']=player['stats']['hpMax'];player['tempStats']['czjs']=0x1;addCombatLog("\u4EA1\u6B7B\u4E86\u7EDD\u62D2\u4F60".split("").reverse().join(""));}}}if(player['skills']['includes']('ZSDS')){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x0;if(player['tempStats']['zsds']==(0x44ebf^0x44ebf)){if(Math['floor'](Math['random']()*0x64)<player['stats']['critRate']){crit=!![];dmgtype='crit\x20damage';_0x32396e=Math['round'](_0x32396e*crit_mod*(0x1+player['stats']['critDmg']/0x64));}enemy['stats']['hp']-=_0x32396e/(0x3d84d^0x3d84f);_0x32396e=0x0;player['tempStats']['zsds']=0xedb24^0xedb25;addCombatLog("\u6548\u65E0\u3011\u5E08\u5927\u672F\u6218\u3010\u5BF9\u8FD9".split("").reverse().join(""));}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x32396e=_0x32396e*0x2;addCombatLog("\u635F\u6613\u4E4B\u3011\u7384\u3010".split("").reverse().join(""));}if(player['tempStats']['txww']==(0xc4628^0xc462a)){_0x32396e=Math['floor'](_0x32396e*0.7);player['tempStats']['txww']=0x0;addCombatLog("\u6C34\u3011\u6B62\u3010\u5982\u5FC3".split("").reverse().join(""));}}player['stats']['hp']-=_0x32396e;objectValidation();if(player['skills']['includes']('Aegis\x20Thorns')){enemy['stats']['hp']-=Math['round'](0xf*_0x32396e/0x64);}if(player['skills']['includes']('Neigui')){if(Math['floor'](Math['random']()*(0x67d0e^0x67d6a))<(0xe82cc^0xe82c6)){enemy['stats']['hp']-=_0x32396e;addCombatLog('有内鬼,中止交易');}}enemy['stats']['hp']+=_0x326032;addCombatLog(enemy['name']+'\x20对\x20'+player['name']+'\x20造成了'+nFormatter(_0x32396e)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0x28de4b=document['querySelector']('#playerPanel');_0x28de4b['classList']['add']("\u0061\u006e\u0069\u006d\u0061\u0074\u0069\u006f\u006e\u002d\u0073\u0068\u0061\u006b\u0065");setTimeout(()=>{_0x28de4b['classList']['remove']('animation-shake');},0xc8);let _0x233310=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy["\u0073\u0074\u0061\u0074\u0073"]['atkSpd']){_0x233310=Math['max'](0.1,player['stats']['atkSpd']-0.1);addCombatLog('敌人被震撼着');}}if(player['skills']['includes']('YJMY')){player['stats']['atkSpd']=player['stats']['atkSpd']-0.05;_0x233310=enemy['stats']['atkSpd'];addCombatLog('敌人被你的棉衣纠缠住了!');}if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){enemyAttack();}},0x3e8/_0x233310);}};const combatBacklog=[];const addCombatLog=_0x3450ed=>{combatBacklog['push'](_0x3450ed);updateCombatLog();};const updateCombatLog=()=>{let _0x37be25=document['getElementById']('combatLogBox');_0x37be25['innerHTML']='';for(let _0x40ca72 of combatBacklog){let _0x30acb1=document['createElement']('p');_0x30acb1['innerHTML']=_0x40ca72;_0x37be25['appendChild'](_0x30acb1);}if(enemyDead){let _0x4cad36=document['createElement']('div');_0x4cad36['className']='decision-panel';_0x4cad36['innerHTML']=">nottub/<\u4E86\u9053\u77E5>\"nottuBelttab\"=di nottub<".split("").reverse().join("");_0x37be25['appendChild'](_0x4cad36);}if(playerDead){let _0x418584=document['createElement']('div');_0x418584['className']='decision-panel';_0x418584['innerHTML']='<button\x20id=\x22battleButton\x22>回到菜单</button>';_0x37be25['appendChild'](_0x418584);}_0x37be25['scrollTop']=_0x37be25['scrollHeight'];};let combatSeconds=0x0;const startCombat=_0x5b67e5=>{bgmDungeon['pause']();sfxEncounter['play']();_0x5b67e5['play']();player["\u0069\u006e\u0043\u006f\u006d\u0062\u0061\u0074"]=!![];let _0x248dcd=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x248dcd=Math['max'](0.1,player['stats']["\u0061\u0074\u006b\u0053\u0070\u0064"]-0.1);}}setTimeout(playerAttack,(0x1f26e^0x1f186)/player['stats']['atkSpd']);setTimeout(enemyAttack,(0x6b925^0x6bacd)/_0x248dcd);let _0x18d9f0=document['querySelector']('#dungeon-main');_0x18d9f0['style']['filter']='brightness(50%)';playerLoadStats();enemyLoadStats();dungeon['status']['event']=!![];combatPanel['style']['display']='flex';combatTimer=setInterval(combatCounter,0x62bbd^0x62855);};const endCombat=()=>{bgmBattleMain['stop']();bgmBattleGuardian['stop']();bgmBattleBoss['stop']();sfxCombatEnd['play']();player['inCombat']=![];if(player['deepth']==undefined)player['deepth']=0x1;player['deepth']=dungeon['progress']['floor'];if(player['skills']['includes']("\u0052\u0061\u006d\u0070\u0061\u0067\u0065\u0072")){objectValidation();player['baseStats']['atk']-=player['tempStats']['atk'];player['tempStats']['atk']=0x0;saveData();}if(player['skills']['includes']('Blade\x20Dance')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('Kuaiqidong')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0xb05a1^0xb05a1;saveData();}if(player['skills']['includes']('BQZJ')){objectValidation();player['tempStats']['firstAtk']=0x21199^0x21199;saveData();}if(player['skills']['includes']("DZQB".split("").reverse().join(""))){objectValidation();player['tempStats']['firstDef']=0x785c8^0x785c8;saveData();}if(player['skills']['includes']('CZJS')){objectValidation();player['tempStats']['czjs']=0x0;saveData();}if(player['skills']['includes']('ZJJ')){objectValidation();player['tempStats']['zjj']=0x0;saveData();}if(player['skills']['includes']('ZSDS')){objectValidation();player['tempStats']['zsds']=0x0;saveData();}if(player['skills']['includes']('TXWW')){objectValidation();player['tempStats']['txww']=0x0;saveData();}clearInterval(combatTimer);combatSeconds=0x0;};const combatCounter=()=>{combatSeconds++;};const showCombatInfo=()=>{document['querySelector']('#combatPanel')['innerHTML']='\x0a\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20center\x22\x20id=\x22enemyPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+enemy['name']+'\x20Lv.'+enemy['lvl']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20hp\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22enemy-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22enemy-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(enemy['stats']['hp'])+'/'+nFormatter(enemy['stats']['hpMax'])+'<br>('+enemy['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dmg-container\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/sprites/'+enemy['image']['name']+enemy['image']['type']+'\x22\x20alt=\x22'+enemy['name']+'\x22\x20width=\x22'+enemy['image']['size']+'\x22\x20id=\x22enemy-sprite\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20primary-panel\x22\x20id=\x22playerPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22player-combat-info\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22player-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22player-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(player['stats']['hp'])+'/'+nFormatter(player['stats']['hpMax'])+'('+player['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-xb\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-xb\x22\x20id=\x22player-exp-bar\x22>exp</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22logBox\x20primary-panel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22combatLogBox\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';};