const combatPanel=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("lenaPtabmoc#".split("").reverse().join(""));let enemyDead=![];let playerDead=![];const hpValidation=()=>{if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]<(0xd0320^0xd0321)){if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==undefined)player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=0x1e19f^0x1e19f;if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==(0xbc3f8^0xbc3f8)){player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0xa06c2^0xa06c2;playerDead=!![];player["\u0064\u0065\u0061\u0074\u0068\u0073"]++;if(player['bank']==undefined)player["\u0062\u0061\u006e\u006b"]=0x86fe5^0x86fe5;player['bank']=player['bank']+Math['ceil'](player['gold']*0.3);player['gold']=0x82b7f^0x82b7f;addCombatLog("!\u4E86\u6B7B\u4F60".split("").reverse().join(""));addCombatLog('30%的灵石自动存入了钱庄');document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("nottuBelttab#".split("").reverse().join(""))["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]("kcilc".split("").reverse().join(""),function(){sfxConfirm["\u0070\u006c\u0061\u0079"]();playerDead=![];let _0x3b2372=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("niam-noegnud#".split("").reverse().join(""));_0x3b2372['style']["\u0066\u0069\u006c\u0074\u0065\u0072"]=")%001(ssenthgirb".split("").reverse().join("");_0x3b2372['style']['display']="enon".split("").reverse().join("");combatPanel['style']["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="enon".split("").reverse().join("");runLoad("neercs-eltit".split("").reverse().join(""),'flex');clearInterval(dungeonTimer);clearInterval(playTimer);progressReset();});}else{enemyDead=!![];player["\u0073\u0074\u0061\u0074\u0073"]['hp']=player['stats']['hpMax'];addCombatLog('你消耗一张【复活卷轴】逃出生天');player['rebirth']=player['rebirth']-(0xbc6f9^0xbc6f8);document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("nottuBelttab#".split("").reverse().join(""))['addEventListener']("kcilc".split("").reverse().join(""),function(){sfxConfirm['play']();let _0x147986=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("\u0023\u0064\u0075\u006e\u0067\u0065\u006f\u006e\u002d\u006d\u0061\u0069\u006e");_0x147986['style']['filter']="\u0062\u0072\u0069\u0067\u0068\u0074\u006e\u0065\u0073\u0073\u0028\u0031\u0030\u0030\u0025\u0029";bgmDungeon["\u0070\u006c\u0061\u0079"]();dungeon['status']['event']=![];combatPanel["\u0073\u0074\u0079\u006c\u0065"]["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="enon".split("").reverse().join("");enemyDead=![];combatBacklog["\u006c\u0065\u006e\u0067\u0074\u0068"]=0x1e186^0x1e186;});}endCombat();}else if(enemy['stats']["\u0068\u0070"]<(0x43cd0^0x43cd1)){enemy['stats']["\u0068\u0070"]=0xd6ca5^0xd6ca5;enemyDead=!![];player['kills']++;dungeon['statistics']['kills']++;addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20神魂俱灭!\x20('+new Date(combatSeconds*(0x8a89e^0x8ab76))["\u0074\u006f\u0049\u0053\u004f\u0053\u0074\u0072\u0069\u006e\u0067"]()['substring'](0xef229^0xef227,0x13)+"\u0029");addCombatLog('你得到了'+nFormatter(enemy['rewards']['exp'])+"\u7ecf\u9a8c\u002e");if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Jingyan')){addCombatLog('【资深】使你额外获得'+nFormatter(Math['ceil'](enemy['rewards']["\u0065\u0078\u0070"]*0.2))+'经验.');}playerExpGain();let _0x2c52e7=0x1;let _0x204be2=0x1;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004c\u0069\u006e\u0067\u0073\u0068\u0069")){_0x2c52e7=1.3;}if(player["\u006b\u006c\u006c"]==0x1){_0x204be2=0x4be40^0x4be42;}addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+">i/<>\";0008ff# :roloc\"=elyts \"meg-af dilos-af\"=ssalc i< \u4E86\u843D\u6389 ".split("").reverse().join("")+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x2c52e7*_0x204be2)+'\x20灵石.');if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Lingshi')){addCombatLog('【帝王宝库】使你额外获得'+nFormatter(Math['ceil'](enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*0.3))+'灵石.');}player["\u0067\u006f\u006c\u0064"]+=enemy['rewards']['gold']*_0x2c52e7*_0x204be2;playerLoadStats();if(enemy['rewards']["\u0064\u0072\u006f\u0070"]){createEquipmentPrint("tabmoc".split("").reverse().join(""));}let _0x2a0746=0x1;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('XBS')){_0x2a0746=1.5;}if(player["\u0063\u0075\u0072\u0065\u0073\u0065\u004c\u0042"]==undefined)player["\u0063\u0075\u0072\u0065\u0073\u0065\u004c\u0042"]=0x0;if(player["\u0072\u0069\u0066\u0074\u004c\u0042"]==undefined)player["\u0072\u0069\u0066\u0074\u004c\u0042"]=0x0;if(player["\u0065\u006d\u0070\u006f\u0072\u004c\u0042"]==undefined)player['emporLB']=0x0;let _0xe1b280=0x9ef3f^0x9ef3e;if(player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070"]>=(0x508df^0x508de)){_0xe1b280=(0x73c21^0x73c20)+Math['ceil'](player['hardloop']/0x5)/(0xc8cd2^0xc8cb6);}if(enemy['class']=="naidraug".split("").reverse().join("")){if(Math['floor'](Math['random']()*0x64)<0x2*_0x2a0746){createEquipmentPrint('combat',"BLTX".split("").reverse().join(""));}else if(Math['floor'](Math['random']()*0x64)<0x3*_0x2a0746){createEquipmentPrint('combat',"\u004c\u0042");}let _0x35a0a6=Math["\u0066\u006c\u006f\u006f\u0072"](enemy['lvl']/0xa);if(Math['floor'](Math['random']()*0x64)<0x6*_0xe1b280){let _0x4db873=Math['floor'](_0x35a0a6*randomizeDecimal(0.3,0.6));_0x4db873=Math["\u006d\u0061\u0078"](0x1,_0x4db873);player['cureseLB']=player['cureseLB']+_0x4db873;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x4db873)+'诅咒灵宝碎片.');}if(Math["\u0066\u006c\u006f\u006f\u0072"](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<(0x7948b^0x7948d)*_0xe1b280){let _0x3d7efc=Math["\u0066\u006c\u006f\u006f\u0072"](_0x35a0a6*randomizeDecimal(0.1,0.5));_0x3d7efc=Math['max'](0xeff93^0xeff92,_0x3d7efc);player["\u0072\u0069\u0066\u0074\u004c\u0042"]=player['riftLB']+_0x3d7efc;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x3d7efc)+".\u7247\u788E\u5B9D\u7075\u9699\u88C2".split("").reverse().join(""));}}if(enemy['class']=="ssobs".split("").reverse().join("")){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<(0x88405^0x88437)){if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==undefined)player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=0x0;player['rebirth']=player['rebirth']+(0xd6b16^0xd6b17);addCombatLog('你从这个强大的生物上找到一张【复活卷轴】');}if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x1*_0x2a0746){createEquipmentPrint('combat',"BD".split("").reverse().join(""));}else if(Math['floor'](Math['random']()*(0x6fe74^0x6fe10))<0x2*_0x2a0746){createEquipmentPrint('combat',"\u005a\u0042");}let _0x1466f6=Math['floor'](enemy['lvl']/0x7);if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<0x7*_0xe1b280){let _0xab878f=Math['floor'](_0x1466f6*randomizeDecimal(0.2,0.5));_0xab878f=Math['max'](0x1,_0xab878f);player['riftLB']=player['riftLB']+_0xab878f;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0xab878f)+'裂隙灵宝碎片.');}if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x5*_0xe1b280){let _0x1b6c46=Math['floor'](_0x1466f6*randomizeDecimal(0.1,0.3));_0x1b6c46=Math["\u006d\u0061\u0078"](0x1,_0x1b6c46);player['emporLB']=player['emporLB']+_0x1b6c46;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x1b6c46)+'帝者灵宝碎片.');}}if(player['hardloop']>=0x1){let _0x2d11bb=player['hardloop'];if(Math['floor'](Math['random']()*0x64)<=_0x2d11bb+0x1){player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070\u0073\u0069\u0067\u006e"]=player['hardloopsign']+0x1;addCombatLog("\u3011\u5F81\u8C61\u96BE\u82E6\u3010\u4E2A1\u4E86\u5F97\u83B7\u4F60".split("").reverse().join(""));addDungeonLog(">naps/<\u3011\u5F81\u8C61\u96BE\u82E6\u3010\u4E2A1\u4E86\u5F97\u83B7\u4F60>\"yradnegeL\"=ssalc naps<".split("").reverse().join(""));}}player['stats']['hp']+=Math["\u0072\u006f\u0075\u006e\u0064"](player['stats']['hpMax']*0x14/(0x29928^0x2994c));playerLoadStats();document['querySelector']("nottuBelttab#".split("").reverse().join(""))['addEventListener']("kcilc".split("").reverse().join(""),function(){sfxConfirm['play']();let _0x51e48f=document['querySelector']('#dungeon-main');_0x51e48f['style']['filter']='brightness(100%)';bgmDungeon['play']();dungeon['status']['event']=![];combatPanel['style']["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]='none';enemyDead=![];combatBacklog['length']=0x0;});endCombat();}};function getDtype(_0x16e86a){if(_0x16e86a=='crit\x20damage')return"\u51FB\u66B4".split("").reverse().join("");if(_0x16e86a=='damage')return"\u901A\u666E".split("").reverse().join("");return _0x16e86a;}const playerAttack=()=>{if(!player["\u0069\u006e\u0043\u006f\u006d\u0062\u0061\u0074"]){return;}if(player['inCombat']){sfxAttack['play']();}let _0x258ca6;let _0x24ef67=player['stats']['atk']*(player['stats']['atk']/(player['stats']['atk']+enemy['stats']['def']));let _0x36cef8=0.9+Math['random']()*0.2;_0x24ef67=_0x24ef67*_0x36cef8;let _0x26ebb7=0xdaf31^0xdaf30;let _0x2b5454=0x7932e^0x7932f;if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("ijoaB".split("").reverse().join(""))){_0x26ebb7=1.7;_0x2b5454=0.6;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Gongji')){_0x26ebb7=0x27cfa^0x27cfa;_0x2b5454=1.3;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('ZSDS')){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x1;player['tempStats']["\u007a\u0073\u0064\u0073"]=0x1;}if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<player['stats']["\u0063\u0072\u0069\u0074\u0052\u0061\u0074\u0065"]){_0x258ca6=!![];if(player['skills']['includes']("\u0052\u0043\u005a\u0046")){_0x258ca6=![];dmgtype="egamad".split("").reverse().join("");_0x24ef67=Math['round'](_0x24ef67*_0x2b5454);}else{dmgtype='crit\x20damage';_0x24ef67=Math['round'](_0x24ef67*_0x26ebb7*(0x1+player['stats']['critDmg']/0x64));if(player['skills']['includes']('Baoji')){addCombatLog('【狂热之心】使你额外造成'+Math['round'](_0x24ef67*(_0x26ebb7-0x1)*(0x1+player['stats']["\u0063\u0072\u0069\u0074\u0044\u006d\u0067"]/0x64))+".\u5BB3\u4F24".split("").reverse().join(""));}}}else{_0x258ca6=![];dmgtype='damage';_0x24ef67=Math['round'](_0x24ef67*_0x2b5454);if(player['skills']['includes']('Gongji')){addCombatLog("\u6210\u9020\u5916\u989D\u4F60\u4F7F\u3011\u5FC3\u4E4B\u6148\u4EC1\u3010".split("").reverse().join("")+Math['round'](_0x24ef67*_0x2b5454)+'伤害.');}}if(player['skills']['includes']("JZQB".split("").reverse().join(""))){console["\u006c\u006f\u0067"](player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']);if(player['tempStats']['firstAtk']==undefined)player['tempStats']['firstAtk']=0x1ab1b^0x1ab1b;if(player['tempStats']['firstAtk']==0x0){dmgtype="egamad tirc".split("").reverse().join("");_0x24ef67=Math["\u0072\u006f\u0075\u006e\u0064"](_0x24ef67*_0x26ebb7*0x2*(0x1+player['stats']['critDmg']/(0x98130^0x98154)));player['tempStats']['firstAtk']=0x1;addCombatLog('你激发出【不屈之剑】');}}objectValidation();if(player['skills']['includes']('Remnant\x20Razor')){_0x24ef67+=Math["\u0072\u006f\u0075\u006e\u0064"]((0x7900d^0x79005)*enemy['stats']['hp']/0x64);}if(player['skills']['includes']('Titan\x27s\x20Will')){_0x24ef67+=Math['round'](0x5*player["\u0073\u0074\u0061\u0074\u0073"]['hpMax']/(0x65c1f^0x65c7b));}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("rotatsaveD".split("").reverse().join(""))){_0x24ef67=Math['round'](_0x24ef67+(0xa4814^0xa480a)*_0x24ef67/0x64);}if(player['skills']['includes']("regapmaR".split("").reverse().join(""))){player['baseStats']['atk']+=0x3de5d^0x3de58;objectValidation();player['tempStats']['atk']+=0xb96b1^0xb96b4;saveData();}if(player['skills']['includes']('Blade\x20Dance')){player['baseStats']['atkSpd']+=0.3;objectValidation();player['tempStats']['atkSpd']+=0.3;saveData();}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Kuaiqidong')){player['baseStats']['atkSpd']-=0.01;objectValidation();player['tempStats']["\u0061\u0074\u006b\u0053\u0070\u0064"]-=0.01;saveData();}let _0xa2d36f=0x1;if(player['skills']['includes']('Kuangbao')){if(player['stats']['hp']<=player['stats']['hpMax']*0.5){addCombatLog("\u4f60\u8eab\u62ab\u3010\u8840\u8863\u3011\u002c\u773c\u76ee\u7329\u7ea2");_0x24ef67=Math['ceil'](_0x24ef67*1.5);_0xa2d36f=0x2;}}let _0x3ebdac=player['stats']['atkSpd'];_0x3ebdac=_0x3ebdac*_0xa2d36f;let _0x2684f6=0x1;if(player['skills']['includes']('JiyuanXiaoguo')){addCombatLog('你的【饮灵之躯】源源不断的吸收对方的气血');_0x2684f6=1.3;}if(player['skills']['includes']('Yinxue')){addCombatLog('你的【饮血】源源不断的吸收对方的气血');_0x2684f6=0x2;}if(player['skills']['includes']("\u0048\u0075\u0069\u0063\u0068\u0075\u006e")){addCombatLog("!\u53D1\u7115\u5149\u5BB9\u95F4\u77AC\u8F6C\u4F60,\u4F53\u8EAB\u7684\u4F60\u517B\u6ECB\u3011\u672F\u6625\u56DE\u5927\u3010\u7684\u4F60".split("").reverse().join(""));addCombatLog('恢复了'+Math['ceil'](player['stats']['hpMax']*0.02)+"\u8840\u6C14".split("").reverse().join(""));player['stats']['hp']+=Math["\u0063\u0065\u0069\u006c"](player['stats']["\u0068\u0070\u004d\u0061\u0078"]*0.02);}if(player['skills']['includes']('QixueHun')){addCombatLog("!\u529B\u5A01\u7684\u51FB\u653B\u4E86\u5F3A\u52A0\u3011\u9B42\u4E4B\u8840\u6C14\u3010\u7684\u4F60".split("").reverse().join(""));let _0x2bd980=player['stats']['hp']/player['stats']["\u0068\u0070\u004d\u0061\u0078"]*0x64;if(_0x2bd980<0x46){let _0x1f9c69=(0x1ffb3^0x1ffd7)-_0x2bd980;let _0x404111=_0x1f9c69*(0x928c7^0x928c5);_0x24ef67+=Math['ceil'](_0x24ef67*(_0x404111/0x64));}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Daotian')){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<(0x7a865^0x7a860)){player['bonusStats']['hp']+=Math['ceil'](_0x24ef67*0.01);addCombatLog("!!\u534E\u7CBE\u5730\u5929\u8D70\u7A83\u4F60\u3011\u5929\u76D7\u3010".split("").reverse().join(""));}}if(player['skills']['includes']('Luantian')){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x5){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['critRate']+=0.01;addCombatLog("!!\u5E8F\u5929\u4E86\u4E71\u6253\u4F60\u3011\u5929\u4E71\u3010".split("").reverse().join(""));}}if(player['skills']['includes']('Baitian')){if(Math['floor'](Math['random']()*0x64)<(0x69734^0x69731)){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['def']+=Math['ceil'](_0x24ef67*0.01);addCombatLog('【败天】你削减了天时!!');}}if(player['skills']['includes']("naituL".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0x1){player['bonusStats']['atk']+=Math['ceil'](_0x24ef67*0.003);addCombatLog("!!\u5904\u67D0\u4E86\u706D\u7834\u4F60\u3011\u5929\u622E\u3010".split("").reverse().join(""));}}if(player['skills']['includes']('Zhutian')){if(Math['floor'](Math['random']()*0x64)<0x1){player['bonusStats']['critDmg']+=0.5;addCombatLog("!!\u5904\u67D0\u4E86\u706D\u8BDB\u4F60\u3011\u5929\u8BDB\u3010".split("").reverse().join(""));}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("naitiaD".split("").reverse().join(""))){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x1){_0x24ef67=enemy['stats']['hp'];addCombatLog("\u8D25\u5931\u5373\u7ACB\u65B9\u5BF9\u5E03\u5BA3\u3011\u5929\u4EE3\u3010".split("").reverse().join(""));}}if(player['skills']['includes']('Xuanyun')){if(Math['floor'](Math['random']()*0x64)<(0x26b42^0x26b4d)){enemy['stats']["\u0061\u0074\u006b"]=Math['floor'](enemy['stats']['atk']-enemy['stats']['atk']*0.05);addCombatLog("\u4f60\u5411\u5bf9\u65b9\u5934\u4e0a\u731b\u5730\u4e00\u51fb\u002c\u5bf9\u65b9\u987f\u65f6\u611f\u89c9\u5934\u6655\u76ee\u7729\u002c\u6d51\u8eab\u65e0\u529b");}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('GoldG')){let _0xd2b13e=0x1;_0xd2b13e=(0x8f742^0x8f743)+player["\u0067\u006f\u006c\u0064"]/0x3e8*0.01;_0x24ef67=Math['floor'](_0x24ef67*_0xd2b13e);player['gold']=player['gold']-Math['floor'](_0x24ef67*0.09);addCombatLog('你的灵石源源不断的向对方砸去');}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u0050\u006f\u006f\u0072\u0047")){if(player['gold']<(0xa7fdb^0xa7c33)){_0x24ef67=_0x24ef67+0x32;addCombatLog("\u4F60\u798F\u795D\u795E\u7A77".split("").reverse().join(""));}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("LH".split("").reverse().join(""))){_0x24ef67=Math['floor'](_0x24ef67*1.3);if(Math["\u0066\u006c\u006f\u006f\u0072"](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x1e){_0x24ef67=0x0;addCombatLog('哎呀,打歪了');}}let _0xbb83a6=Math['round'](_0x24ef67*_0x2684f6*(player['stats']['vamp']/0x64));if(player['skills']['includes']('TRA')){if(Math['floor'](Math['random']()*0x64)<0xa){enemy['stats']['hp']-=_0x24ef67;addCombatLog("--\u3011\u51FB\u540C\u4EBA\u5929\u3010--".split("").reverse().join(""));}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('RCZF')){enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']-=_0x24ef67;addCombatLog('【仁慈之风】发动了第二次攻击');}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("JMPD".split("").reverse().join(""))){_0x24ef67=Math['floor'](player['stats']['def']*0.1);addCombatLog('你用你的肚皮攻击');}if(player['skills']['includes']("XF".split("").reverse().join(""))){if(Math['floor'](Math['random']()*(0xec895^0xec8f1))<0x32){player['stats']["\u0068\u0070"]-=player['stats']['hp']*0.5;_0x24ef67=_0x24ef67*(0xdc2ba^0xdc2b9);addCombatLog("\u51FB\u800C\u8840\u653E\u4F60".split("").reverse().join(""));}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('ZJJ')){player['stats']['hp']-=player['stats']['hp']*0.05;if(player['tempStats']['zjj']==undefined)player['tempStats']['zjj']=0x5191d^0x5191d;player['tempStats']['zjj']=player['tempStats']['zjj']+0x1;let _0x37e1b6=(0x538b4^0x538b5)+0.1*player['tempStats']['zjj'];_0x24ef67=_0x24ef67*_0x37e1b6;}if(player['skills']['includes']('HLXM')){if(enemy['stats']['hp']-_0x24ef67*(0xabbc3^0xabbc1)<=(0xc024f^0xc024f)){_0x24ef67=_0x24ef67*0x2;}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x5db94^0x5db94;if(Math['floor'](Math['random']()*(0xd54be^0xd54da))<0xa){let _0x1995d3=Math['floor'](Math['random']()*0x3)+0x1;if(_0x1995d3==0x1){player['tempStats']['txww']=0x923c7^0x923c6;addCombatLog("\u3011\u7384\u3010\u5165\u8FDB\u4F60".split("").reverse().join(""));}if(_0x1995d3==0x2){player['tempStats']['txww']=0xf2344^0xf2346;addCombatLog('你进入【止】');}if(_0x1995d3==0x3){player['tempStats']['txww']=0x669ac^0x669af;addCombatLog('你进入【动】');}}}if(player['skills']['includes']("WWXT".split("").reverse().join(""))){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==(0x6fcf5^0x6fcf4)){_0x24ef67=_0x24ef67*(0xa31dd^0xa31df);addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==0x3){enemy['stats']['hp']-=_0x24ef67;enemy['stats']['hp']-=_0x24ef67;player['tempStats']['txww']=0x0;addCombatLog('你退出【动】');}}enemy['stats']['hp']-=_0x24ef67;player['stats']['hp']+=_0xbb83a6;addCombatLog(player['name']+'\x20对\x20\x20'+enemy['name']+'造成了\x20'+nFormatter(_0x24ef67)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0x2d629b=document['querySelector']('#enemy-sprite');_0x2d629b['classList']['add']("ekahs-noitamina".split("").reverse().join(""));setTimeout(()=>{_0x2d629b['classList']['remove']('animation-shake');},0x3a3ce^0x3a306);const _0x377d19=document['querySelector']("reniatnoc-gmd#".split("").reverse().join(""));const _0x3a0954=document['createElement']('p');_0x3a0954['classList']['add']('dmg-numbers');if(_0x258ca6){_0x3a0954['style']['color']="dlog".split("").reverse().join("");_0x3a0954['innerHTML']=nFormatter(_0x24ef67)+'!';}else{_0x3a0954['innerHTML']=nFormatter(_0x24ef67);}_0x377d19['appendChild'](_0x3a0954);setTimeout(()=>{_0x377d19['removeChild'](_0x377d19['lastElementChild']);},0x172);if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){playerAttack();}},0x3e8/_0x3ebdac);}};const enemyAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x109bdb=enemy['stats']['atk']*(enemy['stats']['atk']/(enemy['stats']['atk']+player['stats']['def']));let _0x259fc4=Math['round'](enemy['stats']['atk']*(enemy['stats']['vamp']/0x64));let _0x5c818c=0.9+Math['random']()*0.2;_0x109bdb=_0x109bdb*_0x5c818c;if(Math['floor'](Math['random']()*(0x57e8c^0x57ee8))<enemy['stats']['critRate']){if(player['skills']['includes']('ZDKJ')){dmgtype="egamad".split("").reverse().join("");_0x109bdb=Math['round'](_0x109bdb);}else{dmgtype="egamad tirc".split("").reverse().join("");_0x109bdb=Math['round'](_0x109bdb*(0x1+enemy['stats']['critDmg']/0x64));}}else{dmgtype='damage';_0x109bdb=Math['round'](_0x109bdb);}if(player['skills']['includes']("traeH s'nidalaP".split("").reverse().join(""))){_0x109bdb=Math['round'](_0x109bdb-0x19*_0x109bdb/0x64);}if(player['skills']['includes']("ibnahS".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<(0xc8752^0xc874c)){let _0x2a7086=Math['ceil'](_0x109bdb*0.5);_0x109bdb=0x9d1d8^0x9d1d8;addCombatLog('你于风中隐藏,对方的攻击如同石牛如海');if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0xe4c82^0xe4ce6))<(0x40c75^0x40c5d)){enemy['stats']['hp']-=_0x2a7086;addCombatLog('你于风中展开弹反,对方的攻势竟倒飞而去');}}}if(player['skills']['includes']('GoldS')){let _0x35a1e7=0x1;_0x35a1e7=player['gold']/0x3e8*0.01;_0x109bdb=Math['max'](0xe91a2^0xe91a3,Math['floor'](_0x109bdb*(0x1-_0x35a1e7)));player['gold']=player['gold']-Math['floor'](_0x109bdb*0.05);addCombatLog('你的灵石守护着你');}if(player['skills']['includes']('PoorS')){if(player['gold']<0x3e8){_0x109bdb=Math['max'](0x49f77^0x49f76,_0x109bdb-0x1e);addCombatLog('穷神祝福你');}}if(player['skills']['includes']('Jingfan')){let _0x4c83c9=player['stats']['hp']/player['stats']['hpMax']*(0x1dcef^0x1dc8b);if(_0x4c83c9<(0x2c82b^0x2c835)){addCombatLog('你的【脆镜反射】反射了同样的伤害回去!');enemy['stats']['hp']-=_0x109bdb;}}if(player['skills']['includes']('ZGQX')){let _0x190bd1=player['stats']['hp']/player['stats']['hpMax']*(0xc2570^0xc2514);if(_0x190bd1>0x50){if(player['stats']['hp']-_0x109bdb<=(0x8c0fd^0x8c0fd)){_0x109bdb=player['stats']['hp']-(0x803ad^0x803a8);}}}if(player['skills']['includes']("HSJY".split("").reverse().join(""))){if(Math['floor'](Math['random']()*(0x40a14^0x40a70))<0x63){if(dmgtype=='damage'){_0x109bdb=0x0;addCombatLog("\u51FB\u653B\u6B21\u8FD9\u4E86\u89C6\u65E0\u5168\u5B8C,\u7F69\u7B3C\u606F\u6C14\u754C\u5F02\u88AB\u4F60".split("").reverse().join(""));}}_0x109bdb=_0x109bdb*0xa;if(_0x109bdb!=0x0)addCombatLog("!!\u65A5\u6392\u754C\u4E16\u4E2A\u8FD9\u88AB\u4F60".split("").reverse().join(""));}if(player['skills']['includes']('DCJJ')){if(player['stats']['hp']==player['stats']['hpMax']){_0x109bdb=Math['floor'](_0x109bdb*0.5);addCombatLog("\u4F60\u7740\u62A4\u5B88\u3011\u7532\u575A\u91CD\u591A\u3010\u7684\u4F60".split("").reverse().join(""));}}if(player['skills']['includes']("DZQB".split("").reverse().join(""))){if(player['tempStats']['firstDef']==undefined)player['tempStats']['firstDef']=0x0;if(player['tempStats']['firstDef']==0x0){let _0x485059=_0x109bdb;player['stats']['hp']=player['stats']['hp']+_0x485059;_0x109bdb=0x0;player['tempStats']['firstDef']=0x1;addCombatLog('你激发出【不屈之盾】');addCombatLog('你获得了'+_0x485059+'治疗');}}if(player['skills']['includes']('CZJS')){if(player['tempStats']['czjs']==undefined)player['tempStats']['czjs']=0x1b33f^0x1b33f;if(player['stats']['hp']-_0x109bdb<=0x0){_0x109bdb=0x0;if(player['tempStats']['czjs']==0x0){player['stats']['hp']=player['stats']['hpMax'];player['tempStats']['czjs']=0x1;addCombatLog("\u4EA1\u6B7B\u4E86\u7EDD\u62D2\u4F60".split("").reverse().join(""));}}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('ZSDS')){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x0;if(player['tempStats']['zsds']==0x0){enemy['stats']['hp']-=_0x109bdb/0x2;_0x109bdb=0x0;player['tempStats']['zsds']=0x1;addCombatLog('这对【战术大师】无效');}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x109bdb=_0x109bdb*(0x8cf37^0x8cf35);addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==(0x48eea^0x48ee8)){_0x109bdb=Math['floor'](_0x109bdb*0.7);player['tempStats']['txww']=0x74d82^0x74d82;addCombatLog("\u6C34\u3011\u6B62\u3010\u5982\u5FC3".split("").reverse().join(""));}}player['stats']['hp']-=_0x109bdb;objectValidation();if(player['skills']['includes']('Aegis\x20Thorns')){enemy['stats']['hp']-=Math['round']((0x3520b^0x35204)*_0x109bdb/(0xcd472^0xcd416));}if(player['skills']['includes']("iugieN".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<(0x76a48^0x76a42)){enemy['stats']['hp']-=_0x109bdb;addCombatLog("\u6613\u4EA4\u6B62\u4E2D,\u9B3C\u5185\u6709".split("").reverse().join(""));}}enemy['stats']['hp']+=_0x259fc4;addCombatLog(enemy['name']+'\x20对\x20'+player['name']+'\x20造成了'+nFormatter(_0x109bdb)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0xf59c59=document['querySelector']('#playerPanel');_0xf59c59['classList']['add']("ekahs-noitamina".split("").reverse().join(""));setTimeout(()=>{_0xf59c59['classList']['remove']('animation-shake');},0x48ec2^0x48e0a);let _0x1243a5=enemy['stats']['atkSpd'];if(player['skills']['includes']("LZLX".split("").reverse().join(""))){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x1243a5=Math['max'](0.1,player['stats']['atkSpd']-0.1);addCombatLog('敌人被震撼着');}}if(player['skills']['includes']('YJMY')){player['stats']['atkSpd']=player['stats']['atkSpd']-0.05;_0x1243a5=enemy['stats']['atkSpd'];addCombatLog("!\u4E86\u4F4F\u7F20\u7EA0\u8863\u68C9\u7684\u4F60\u88AB\u4EBA\u654C".split("").reverse().join(""));}if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){enemyAttack();}},0x3e8/_0x1243a5);}};const combatBacklog=[];const addCombatLog=_0x43e066=>{combatBacklog['push'](_0x43e066);updateCombatLog();};const updateCombatLog=()=>{let _0x515a7d=document['getElementById']('combatLogBox');_0x515a7d['innerHTML']="".split("").reverse().join("");for(let _0x2862b6 of combatBacklog){let _0x8d8a35=document['createElement']('p');_0x8d8a35['innerHTML']=_0x2862b6;_0x515a7d['appendChild'](_0x8d8a35);}if(enemyDead){let _0x16d218=document['createElement']('div');_0x16d218['className']='decision-panel';_0x16d218['innerHTML']='<button\x20id=\x22battleButton\x22>知道了</button>';_0x515a7d['appendChild'](_0x16d218);}if(playerDead){let _0x286f93=document['createElement']('div');_0x286f93['className']='decision-panel';_0x286f93['innerHTML']='<button\x20id=\x22battleButton\x22>回到菜单</button>';_0x515a7d['appendChild'](_0x286f93);}_0x515a7d['scrollTop']=_0x515a7d['scrollHeight'];};let combatSeconds=0x0;const startCombat=_0x1bacb7=>{bgmDungeon['pause']();sfxEncounter["\u0070\u006c\u0061\u0079"]();_0x1bacb7['play']();player['inCombat']=!![];let _0xa0368a=enemy['stats']["\u0061\u0074\u006b\u0053\u0070\u0064"];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']["\u0061\u0074\u006b\u0053\u0070\u0064"]){_0xa0368a=Math['max'](0.1,player['stats']['atkSpd']-0.1);}}setTimeout(playerAttack,0x3e8/player['stats']['atkSpd']);setTimeout(enemyAttack,0x3e8/_0xa0368a);let _0x4d69ef=document['querySelector']('#dungeon-main');_0x4d69ef['style']['filter']='brightness(50%)';playerLoadStats();enemyLoadStats();dungeon['status']['event']=!![];combatPanel['style']['display']='flex';combatTimer=setInterval(combatCounter,0x3e8);};const endCombat=()=>{bgmBattleMain['stop']();bgmBattleGuardian['stop']();bgmBattleBoss['stop']();sfxCombatEnd['play']();player['inCombat']=![];if(player['deepth']==undefined)player['deepth']=0x1;player['deepth']=dungeon['progress']['floor'];if(player['skills']['includes']('Rampager')){objectValidation();player['baseStats']['atk']-=player['tempStats']['atk'];player['tempStats']['atk']=0x0;saveData();}if(player['skills']['includes']('Blade\x20Dance')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('Kuaiqidong')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('BQZJ')){objectValidation();player['tempStats']["\u0066\u0069\u0072\u0073\u0074\u0041\u0074\u006b"]=0x0;saveData();}if(player['skills']['includes']('BQZD')){objectValidation();player['tempStats']['firstDef']=0x0;saveData();}if(player['skills']['includes']('CZJS')){objectValidation();player['tempStats']['czjs']=0x0;saveData();}if(player['skills']['includes']('ZJJ')){objectValidation();player['tempStats']['zjj']=0x0;saveData();}if(player['skills']['includes']("SDSZ".split("").reverse().join(""))){objectValidation();player['tempStats']['zsds']=0x0;saveData();}if(player['skills']['includes']('TXWW')){objectValidation();player['tempStats']['txww']=0x0;saveData();}clearInterval(combatTimer);combatSeconds=0x0;};const combatCounter=()=>{combatSeconds++;};const showCombatInfo=()=>{document['querySelector']('#combatPanel')['innerHTML']='\x0a\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20center\x22\x20id=\x22enemyPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+enemy['name']+'\x20Lv.'+enemy['lvl']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20hp\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22enemy-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22enemy-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(enemy['stats']['hp'])+'/'+nFormatter(enemy['stats']['hpMax'])+'<br>('+enemy['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dmg-container\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/sprites/'+enemy['image']['name']+enemy['image']['type']+"\"=tla \"".split("").reverse().join("")+enemy['name']+'\x22\x20width=\x22'+enemy['image']['size']+'\x22\x20id=\x22enemy-sprite\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20primary-panel\x22\x20id=\x22playerPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22player-combat-info\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22player-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22player-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(player['stats']['hp'])+'/'+nFormatter(player['stats']['hpMax'])+'('+player['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-xb\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-xb\x22\x20id=\x22player-exp-bar\x22>exp</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22logBox\x20primary-panel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22combatLogBox\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';};