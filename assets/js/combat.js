const combatPanel=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("lenaPtabmoc#".split("").reverse().join(""));let enemyDead=![];let playerDead=![];const hpValidation=()=>{if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]<(0x85578^0x85579)){if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==undefined)player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=0x2ad50^0x2ad50;if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==(0x4af62^0x4af62)){player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0x60967^0x60967;playerDead=!![];player["\u0064\u0065\u0061\u0074\u0068\u0073"]++;if(player["\u0062\u0061\u006e\u006b"]==undefined)player["\u0062\u0061\u006e\u006b"]=0x660ac^0x660ac;player['bank']=player["\u0062\u0061\u006e\u006b"]+Math["\u0063\u0065\u0069\u006c"](player['gold']*0.3);player['gold']=0xaab05^0xaab05;addCombatLog("\u4f60\u6b7b\u4e86\u0021");addCombatLog("\u5E84\u94B1\u4E86\u5165\u5B58\u52A8\u81EA\u77F3\u7075\u7684%03".split("").reverse().join(""));document['querySelector']("nottuBelttab#".split("").reverse().join(""))["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]("kcilc".split("").reverse().join(""),function(){sfxConfirm["\u0070\u006c\u0061\u0079"]();playerDead=![];let _0x13c5be=document['querySelector']("niam-noegnud#".split("").reverse().join(""));_0x13c5be['style']["\u0066\u0069\u006c\u0074\u0065\u0072"]=")%001(ssenthgirb".split("").reverse().join("");_0x13c5be['style']['display']="enon".split("").reverse().join("");combatPanel['style']["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="enon".split("").reverse().join("");runLoad("neercs-eltit".split("").reverse().join(""),"\u0066\u006c\u0065\u0078");clearInterval(dungeonTimer);clearInterval(playTimer);progressReset();});}else{enemyDead=!![];player['stats']["\u0068\u0070"]=player['stats']["\u0068\u0070\u004d\u0061\u0078"];addCombatLog('你消耗一张【复活卷轴】逃出生天');player['rebirth']=player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]-(0x2ec2e^0x2ec2f);document['querySelector']("\u0023\u0062\u0061\u0074\u0074\u006c\u0065\u0042\u0075\u0074\u0074\u006f\u006e")['addEventListener']("\u0063\u006c\u0069\u0063\u006b",function(){sfxConfirm['play']();let _0x25bf36=document['querySelector']("niam-noegnud#".split("").reverse().join(""));_0x25bf36["\u0073\u0074\u0079\u006c\u0065"]['filter']=")%001(ssenthgirb".split("").reverse().join("");bgmDungeon["\u0070\u006c\u0061\u0079"]();dungeon['status']['event']=![];combatPanel["\u0073\u0074\u0079\u006c\u0065"]['display']="enon".split("").reverse().join("");enemyDead=![];combatBacklog["\u006c\u0065\u006e\u0067\u0074\u0068"]=0xaf0a7^0xaf0a7;});}endCombat();}else if(enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']<(0xbd7a3^0xbd7a2)){enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']=0x0;enemyDead=!![];player["\u006b\u0069\u006c\u006c\u0073"]++;dungeon['statistics']["\u006b\u0069\u006c\u006c\u0073"]++;addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20神魂俱灭!\x20('+new Date(combatSeconds*(0xf3cba^0xf3f52))['toISOString']()['substring'](0xcf708^0xcf706,0x8ac2e^0x8ac3d)+')');addCombatLog('你得到了'+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]["\u0065\u0078\u0070"])+'经验.');if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("naygniJ".split("").reverse().join(""))){addCombatLog("\u3010\u8d44\u6df1\u3011\u4f7f\u4f60\u989d\u5916\u83b7\u5f97"+nFormatter(Math['ceil'](enemy['rewards']["\u0065\u0078\u0070"]*0.2))+".\u9A8C\u7ECF".split("").reverse().join(""));}playerExpGain();let _0x516901=0x1;let _0x136313=0x1;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004c\u0069\u006e\u0067\u0073\u0068\u0069")){_0x516901=1.3;}if(player['kll']==0x1){_0x136313=0x2;}addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20掉落了\x20<i\x20class=\x22fa-solid\x20fa-gem\x22\x20style=\x22color:\x20#ff8000;\x22></i>'+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x516901*_0x136313)+'\x20灵石.');if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004c\u0069\u006e\u0067\u0073\u0068\u0069")){addCombatLog("\u5F97\u83B7\u5916\u989D\u4F60\u4F7F\u3011\u5E93\u5B9D\u738B\u5E1D\u3010".split("").reverse().join("")+nFormatter(Math['ceil'](enemy['rewards']['gold']*0.3))+".\u77F3\u7075".split("").reverse().join(""));}player["\u0067\u006f\u006c\u0064"]+=enemy['rewards']["\u0067\u006f\u006c\u0064"]*_0x516901*_0x136313;playerLoadStats();if(enemy['rewards']['drop']){createEquipmentPrint("tabmoc".split("").reverse().join(""));}let _0x234995=0x78e4b^0x78e4a;if(player['skills']['includes']("SBX".split("").reverse().join(""))){_0x234995=1.5;}if(player['cureseLB']==undefined)player["\u0063\u0075\u0072\u0065\u0073\u0065\u004c\u0042"]=0x0;if(player["\u0072\u0069\u0066\u0074\u004c\u0042"]==undefined)player['riftLB']=0xcb027^0xcb027;if(player['emporLB']==undefined)player["\u0065\u006d\u0070\u006f\u0072\u004c\u0042"]=0x0;let _0x214cf=0x1;if(player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070"]>=(0x5e3fb^0x5e3fa)){_0x214cf=0x1+Math['ceil'](player['hardloop']/0x5)/(0x8bd47^0x8bd23);}if(enemy['class']=="\u0067\u0075\u0061\u0072\u0064\u0069\u0061\u006e"){if(Math['floor'](Math['random']()*(0xb80e4^0xb8080))<(0x9a286^0x9a284)*_0x234995){createEquipmentPrint('combat','XTLB');}else if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<(0xdf4b0^0xdf4b3)*_0x234995){createEquipmentPrint("tabmoc".split("").reverse().join(""),"\u004c\u0042");}let _0x5cc307=Math['floor'](enemy['lvl']/0xa);if(Math["\u0066\u006c\u006f\u006f\u0072"](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x6*_0x214cf){let _0xf723b9=Math["\u0066\u006c\u006f\u006f\u0072"](_0x5cc307*randomizeDecimal(0.3,0.6));_0xf723b9=Math['max'](0x5ee47^0x5ee46,_0xf723b9);player['cureseLB']=player['cureseLB']+_0xf723b9;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0xf723b9)+".\u7247\u788E\u5B9D\u7075\u5492\u8BC5".split("").reverse().join(""));addDungeonLog("\u4E86\u5F97\u83B7\u4F60>\"yradnegeL\"=ssalc naps<".split("").reverse().join("")+nFormatter(_0xf723b9)+'【诅咒灵宝碎片】</span>');}if(Math['floor'](Math['random']()*(0xc17fb^0xc179f))<(0x8ed9a^0x8ed9c)*_0x214cf){let _0x5cca59=Math['floor'](_0x5cc307*randomizeDecimal(0.1,0.5));_0x5cca59=Math['max'](0x1e72e^0x1e72f,_0x5cca59);player['riftLB']=player['riftLB']+_0x5cca59;addCombatLog('你找到了'+nFormatter(_0x5cca59)+"\u88c2\u9699\u7075\u5b9d\u788e\u7247\u002e");addDungeonLog("\u4E86\u5F97\u83B7\u4F60>\"yradnegeL\"=ssalc naps<".split("").reverse().join("")+nFormatter(_0x5cca59)+"\u3010\u88c2\u9699\u7075\u5b9d\u788e\u7247\u3011\u003c\u002f\u0073\u0070\u0061\u006e\u003e");}}if(enemy['class']=="ssobs".split("").reverse().join("")){if(Math['floor'](Math['random']()*(0xb9426^0xb9442))<0x32){if(player['rebirth']==undefined)player['rebirth']=0x7c05a^0x7c05a;player['rebirth']=player['rebirth']+0x1;addCombatLog("\u3011\u8F74\u5377\u6D3B\u590D\u3010\u5F20\u4E00\u5230\u627E\u4E0A\u7269\u751F\u7684\u5927\u5F3A\u4E2A\u8FD9\u4ECE\u4F60".split("").reverse().join(""));}if(Math['floor'](Math['random']()*(0xf0218^0xf027c))<(0xecf95^0xecf94)*_0x234995){createEquipmentPrint("\u0063\u006f\u006d\u0062\u0061\u0074",'DB');}else if(Math['floor'](Math['random']()*0x64)<(0x21789^0x2178b)*_0x234995){createEquipmentPrint('combat',"BZ".split("").reverse().join(""));}let _0x5c2812=Math['floor'](enemy['lvl']/0x7);if(Math['floor'](Math['random']()*0x64)<0x7*_0x214cf){let _0x14e3b1=Math['floor'](_0x5c2812*randomizeDecimal(0.2,0.5));_0x14e3b1=Math['max'](0xbd16c^0xbd16d,_0x14e3b1);player["\u0072\u0069\u0066\u0074\u004c\u0042"]=player['riftLB']+_0x14e3b1;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x14e3b1)+'裂隙灵宝碎片.');addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了'+nFormatter(_0x14e3b1)+'【裂隙灵宝碎片】</span>');}if(Math['floor'](Math['random']()*(0xab353^0xab337))<0x5*_0x214cf){let _0x942984=Math['floor'](_0x5c2812*randomizeDecimal(0.1,0.3));_0x942984=Math['max'](0x54211^0x54210,_0x942984);player['emporLB']=player['emporLB']+_0x942984;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x942984)+'帝者灵宝碎片.');addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了'+nFormatter(_0x942984)+'【帝者灵宝碎片】</span>');}}if(player['hardloop']>=0x1){let _0x145ac5=player['hardloop'];if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<=_0x145ac5+(0x402fe^0x402ff)){player['hardloopsign']=player['hardloopsign']+0x1;addCombatLog("\u3011\u5F81\u8C61\u71AC\u714E\u3010\u4E2A1\u4E86\u5F97\u83B7\u4F60".split("").reverse().join(""));addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了1个【煎熬象征】</span>');}}player['stats']['hp']+=Math['round'](player['stats']['hpMax']*(0x6f291^0x6f285)/(0xeb7f6^0xeb792));playerLoadStats();document['querySelector']('#battleButton')['addEventListener']("kcilc".split("").reverse().join(""),function(){sfxConfirm['play']();let _0x515f76=document['querySelector']("niam-noegnud#".split("").reverse().join(""));_0x515f76['style']['filter']='brightness(100%)';bgmDungeon['play']();dungeon['status']['event']=![];combatPanel['style']['display']='none';enemyDead=![];combatBacklog['length']=0x0;});if(player['ak']==(0xc611b^0xc611a)){document['querySelector']("nottuBelttab#".split("").reverse().join(""))['click']();}endCombat();}};function getDtype(_0x2bdcf0){if(_0x2bdcf0=="egamad tirc".split("").reverse().join(""))return'暴击';if(_0x2bdcf0=="egamad".split("").reverse().join(""))return'普通';return _0x2bdcf0;}const playerAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x4ff79b;let _0x1ae141=player["\u0073\u0074\u0061\u0074\u0073"]['atk']*(player['stats']['atk']/(player['stats']['atk']+enemy['stats']['def']));let _0x529187=0.9+Math['random']()*0.2;_0x1ae141=_0x1ae141*_0x529187;let _0x131d60=0x1;let _0x51753e=0x46637^0x46636;if(player['skills']['includes']("\u0042\u0061\u006f\u006a\u0069")){_0x131d60=1.7;_0x51753e=0.6;}if(player['skills']['includes']('Gongji')){_0x131d60=0x92f7d^0x92f7d;_0x51753e=1.3;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('ZSDS')){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x1;player['tempStats']['zsds']=0x1;}if(Math['floor'](Math['random']()*0x64)<player['stats']['critRate']){_0x4ff79b=!![];if(player['skills']['includes']("FZCR".split("").reverse().join(""))){_0x4ff79b=![];dmgtype="egamad".split("").reverse().join("");_0x1ae141=Math['round'](_0x1ae141*_0x51753e);}else{dmgtype='crit\x20damage';_0x1ae141=Math['round'](_0x1ae141*_0x131d60*(0x1+player['stats']['critDmg']/(0xbf230^0xbf254)));if(player['skills']['includes']("ijoaB".split("").reverse().join(""))){addCombatLog("\u6210\u9020\u5916\u989D\u4F60\u4F7F\u3011\u5FC3\u4E4B\u70ED\u72C2\u3010".split("").reverse().join("")+Math['round'](_0x1ae141*(_0x131d60-0x1)*(0x1+player['stats']['critDmg']/(0xe7687^0xe76e3)))+".\u5BB3\u4F24".split("").reverse().join(""));}}}else{_0x4ff79b=![];dmgtype='damage';_0x1ae141=Math['round'](_0x1ae141*_0x51753e);if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("ijgnoG".split("").reverse().join(""))){addCombatLog('【仁慈之心】使你额外造成'+Math['round'](_0x1ae141*_0x51753e)+'伤害.');}}if(player['skills']['includes']("\u0042\u0051\u005a\u004a")){console['log'](player['tempStats']['firstAtk']);if(player['tempStats']["\u0066\u0069\u0072\u0073\u0074\u0041\u0074\u006b"]==undefined)player['tempStats']['firstAtk']=0x0;if(player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']==(0x50964^0x50964)){dmgtype='crit\x20damage';_0x1ae141=Math['round'](_0x1ae141*_0x131d60*0x2*((0x6067d^0x6067c)+player['stats']['critDmg']/0x64));player['tempStats']["\u0066\u0069\u0072\u0073\u0074\u0041\u0074\u006b"]=0xeb389^0xeb388;addCombatLog("\u3011\u5251\u4E4B\u5C48\u4E0D\u3010\u51FA\u53D1\u6FC0\u4F60".split("").reverse().join(""));}}objectValidation();if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Remnant\x20Razor')){_0x1ae141+=Math["\u0072\u006f\u0075\u006e\u0064"]((0xa7486^0xa748e)*enemy['stats']['hp']/(0xb38d4^0xb38b0));}if(player['skills']['includes']('Titan\x27s\x20Will')){_0x1ae141+=Math["\u0072\u006f\u0075\u006e\u0064"]((0x7232c^0x72329)*player['stats']['hpMax']/(0x701cd^0x701a9));}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("rotatsaveD".split("").reverse().join(""))){_0x1ae141=Math['round'](_0x1ae141+0x1e*_0x1ae141/0x64);}if(player['skills']['includes']('Rampager')){player['baseStats']["\u0061\u0074\u006b"]+=0x74f2b^0x74f2e;objectValidation();player['tempStats']['atk']+=0x5;saveData();}if(player['skills']['includes']("ecnaD edalB".split("").reverse().join(""))){player["\u0062\u0061\u0073\u0065\u0053\u0074\u0061\u0074\u0073"]['atkSpd']+=0.3;objectValidation();player['tempStats']['atkSpd']+=0.3;saveData();}if(player['skills']['includes']('Kuaiqidong')){player['baseStats']["\u0061\u0074\u006b\u0053\u0070\u0064"]-=0.01;objectValidation();player['tempStats']['atkSpd']-=0.01;saveData();}let _0x81d92b=0x7836e^0x7836f;if(player['skills']['includes']('Kuangbao')){if(player['stats']['hp']<=player['stats']["\u0068\u0070\u004d\u0061\u0078"]*0.5){addCombatLog("\u4f60\u8eab\u62ab\u3010\u8840\u8863\u3011\u002c\u773c\u76ee\u7329\u7ea2");_0x1ae141=Math["\u0063\u0065\u0069\u006c"](_0x1ae141*1.5);_0x81d92b=0x6c2d3^0x6c2d1;}}let _0x11f8f0=player['stats']["\u0061\u0074\u006b\u0053\u0070\u0064"];_0x11f8f0=_0x11f8f0*_0x81d92b;let _0x471f33=0xa0eb8^0xa0eb9;if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004a\u0069\u0079\u0075\u0061\u006e\u0058\u0069\u0061\u006f\u0067\u0075\u006f")){addCombatLog('你的【饮灵之躯】源源不断的吸收对方的气血');_0x471f33=1.3;}if(player['skills']['includes']('Yinxue')){addCombatLog('你的【饮血】源源不断的吸收对方的气血');_0x471f33=0x2;}if(player['skills']['includes']('Huichun')){addCombatLog("!\u53D1\u7115\u5149\u5BB9\u95F4\u77AC\u8F6C\u4F60,\u4F53\u8EAB\u7684\u4F60\u517B\u6ECB\u3011\u672F\u6625\u56DE\u5927\u3010\u7684\u4F60".split("").reverse().join(""));addCombatLog('恢复了'+Math['ceil'](player['stats']['hpMax']*0.02)+'气血');player['stats']["\u0068\u0070"]+=Math['ceil'](player['stats']['hpMax']*0.02);}if(player['skills']['includes']("nuHeuxiQ".split("").reverse().join(""))){addCombatLog("!\u529B\u5A01\u7684\u51FB\u653B\u4E86\u5F3A\u52A0\u3011\u9B42\u4E4B\u8840\u6C14\u3010\u7684\u4F60".split("").reverse().join(""));let _0x477cd8=player['stats']['hp']/player['stats']['hpMax']*(0xee80b^0xee86f);if(_0x477cd8<(0x8378e^0x837c8)){let _0x4c9b49=0x64-_0x477cd8;let _0x196177=_0x4c9b49*0x2;_0x1ae141+=Math['ceil'](_0x1ae141*(_0x196177/(0x971c6^0x971a2)));}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("naitoaD".split("").reverse().join(""))){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<(0xab884^0xab881)){player['bonusStats']['hp']+=Math["\u0063\u0065\u0069\u006c"](_0x1ae141*0.01);addCombatLog("!!\u534E\u7CBE\u5730\u5929\u8D70\u7A83\u4F60\u3011\u5929\u76D7\u3010".split("").reverse().join(""));}}if(player['skills']['includes']("naitnauL".split("").reverse().join(""))){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0xca079^0xca01d))<0x5){player['bonusStats']['critRate']+=0.01;addCombatLog('【乱天】你打乱了天序!!');}}if(player['skills']['includes']("naitiaB".split("").reverse().join(""))){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x5){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['def']+=Math['ceil'](_0x1ae141*0.01);addCombatLog("!!\u65F6\u5929\u4E86\u51CF\u524A\u4F60\u3011\u5929\u8D25\u3010".split("").reverse().join(""));}}if(player['skills']['includes']('Lutian')){if(Math['floor'](Math['random']()*(0x5816e^0x5810a))<0x1){player['bonusStats']['atk']+=Math["\u0063\u0065\u0069\u006c"](_0x1ae141*0.003);addCombatLog('【戮天】你破灭了某处!!');}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Zhutian')){if(Math['floor'](Math['random']()*(0xe2269^0xe220d))<0x1){player['bonusStats']['critDmg']+=0.5;addCombatLog('【诛天】你诛灭了某处!!');}}if(player['skills']['includes']('Daitian')){if(Math['floor'](Math['random']()*0x64)<0x1){_0x1ae141=enemy['stats']['hp'];addCombatLog('【代天】宣布对方立即失败');}}if(player['skills']['includes']("nuynauX".split("").reverse().join(""))){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0x4515e^0x4513a))<0xf){enemy['stats']['atk']=Math['floor'](enemy['stats']['atk']-enemy['stats']['atk']*0.05);addCombatLog("\u529B\u65E0\u8EAB\u6D51,\u7729\u76EE\u6655\u5934\u89C9\u611F\u65F6\u987F\u65B9\u5BF9,\u51FB\u4E00\u5730\u731B\u4E0A\u5934\u65B9\u5BF9\u5411\u4F60".split("").reverse().join(""));}}if(player['skills']['includes']('GoldG')){let _0xb7c9d2=0xeda60^0xeda61;_0xb7c9d2=0x1+player['gold']/0x3e8*0.01;_0x1ae141=Math['floor'](_0x1ae141*_0xb7c9d2);player['gold']=player['gold']-Math['floor'](_0x1ae141*0.09);addCombatLog('你的灵石源源不断的向对方砸去');}if(player['skills']['includes']("\u0050\u006f\u006f\u0072\u0047")){if(player['gold']<(0x65c10^0x65ff8)){_0x1ae141=_0x1ae141+0x32;addCombatLog('穷神祝福你');}}if(player['skills']['includes']('HL')){_0x1ae141=Math['floor'](_0x1ae141*1.3);if(Math['floor'](Math['random']()*0x64)<0x1e){_0x1ae141=0x99b4d^0x99b4d;addCombatLog('哎呀,打歪了');}}let _0x1ca3ca=Math['round'](_0x1ae141*_0x471f33*(player['stats']['vamp']/0x64));if(player['skills']['includes']('TRA')){if(Math['floor'](Math['random']()*0x64)<0xa){enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']-=_0x1ae141;addCombatLog('--【天人同击】--');}}if(player['skills']['includes']('RCZF')){enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']-=_0x1ae141;addCombatLog("\u51FB\u653B\u6B21\u4E8C\u7B2C\u4E86\u52A8\u53D1\u3011\u98CE\u4E4B\u6148\u4EC1\u3010".split("").reverse().join(""));}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("JMPD".split("").reverse().join(""))){_0x1ae141=Math['floor'](player['stats']['def']*0.1);if(Math['floor'](Math['random']()*0x64)<player['stats']['critRate']){_0x4ff79b=!![];dmgtype="egamad tirc".split("").reverse().join("");_0x1ae141=Math['round'](_0x1ae141*_0x131d60*((0x615da^0x615db)+player['stats']["\u0063\u0072\u0069\u0074\u0044\u006d\u0067"]/0x64));}addCombatLog("\u51FB\u653B\u76AE\u809A\u7684\u4F60\u7528\u4F60".split("").reverse().join(""));}if(player['skills']['includes']("XF".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0x32){player["\u0073\u0074\u0061\u0074\u0073"]['hp']-=player['stats']['hp']*0.5;_0x1ae141=_0x1ae141*0x3;addCombatLog("\u51FB\u800C\u8840\u653E\u4F60".split("").reverse().join(""));}}if(player['skills']['includes']('ZJJ')){player['stats']['hp']-=player['stats']["\u0068\u0070"]*0.05;if(player['tempStats']['zjj']==undefined)player['tempStats']['zjj']=0x72e6d^0x72e6d;player['tempStats']['zjj']=player['tempStats']['zjj']+0x1;let _0x10984c=0x1+0.1*player['tempStats']['zjj'];_0x1ae141=_0x1ae141*_0x10984c;}if(player['skills']['includes']("MXLH".split("").reverse().join(""))){if(enemy['stats']['hp']-_0x1ae141*0x2<=0x0){_0x1ae141=_0x1ae141*(0x36448^0x3644a);}}if(player['skills']['includes']("WWXT".split("").reverse().join(""))){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0xbfb6b^0xbfb6b;if(Math['floor'](Math['random']()*0x64)<(0xc8b77^0xc8b7d)){let _0x3b783e=Math['floor'](Math['random']()*0x3)+(0xc5f34^0xc5f35);if(_0x3b783e==0x1){player['tempStats']['txww']=0x1;addCombatLog('你进入【玄】');}if(_0x3b783e==(0x6ebc8^0x6ebca)){player['tempStats']['txww']=0x2;addCombatLog('你进入【止】');}if(_0x3b783e==(0x6d54d^0x6d54e)){player['tempStats']['txww']=0x3;addCombatLog("\u4f60\u8fdb\u5165\u3010\u52a8\u3011");}}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x1ae141=_0x1ae141*(0x8ad51^0x8ad53);addCombatLog("\u635F\u6613\u4E4B\u3011\u7384\u3010".split("").reverse().join(""));}if(player['tempStats']['txww']==(0xebca1^0xebca2)){enemy['stats']['hp']-=_0x1ae141;enemy['stats']['hp']-=_0x1ae141;player['tempStats']["\u0074\u0078\u0077\u0077"]=0x0;addCombatLog("\u3011\u52A8\u3010\u51FA\u9000\u4F60".split("").reverse().join(""));}}enemy['stats']['hp']-=_0x1ae141;player['stats']['hp']+=_0x1ca3ca;addCombatLog(player['name']+'\x20对\x20\x20'+enemy['name']+" \u4E86\u6210\u9020".split("").reverse().join("")+nFormatter(_0x1ae141)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0x5a6cb5=document['querySelector']("etirps-ymene#".split("").reverse().join(""));_0x5a6cb5['classList']['add']("ekahs-noitamina".split("").reverse().join(""));setTimeout(()=>{_0x5a6cb5['classList']['remove']("ekahs-noitamina".split("").reverse().join(""));},0xc8);const _0x7ee853=document['querySelector']('#dmg-container');const _0x4f57f9=document['createElement']('p');_0x4f57f9['classList']['add']("srebmun-gmd".split("").reverse().join(""));if(_0x4ff79b){_0x4f57f9['style']['color']="dlog".split("").reverse().join("");_0x4f57f9['innerHTML']=nFormatter(_0x1ae141)+'!';}else{_0x4f57f9['innerHTML']=nFormatter(_0x1ae141);}_0x7ee853['appendChild'](_0x4f57f9);setTimeout(()=>{_0x7ee853['removeChild'](_0x7ee853['lastElementChild']);},0x172);if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){playerAttack();}},0x3e8/_0x11f8f0);}};const enemyAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x48cfd9=enemy['stats']['atk']*(enemy['stats']['atk']/(enemy['stats']['atk']+player['stats']['def']));let _0x5f44cc=Math['round'](enemy['stats']['atk']*(enemy['stats']['vamp']/0x64));let _0x13655c=0.9+Math['random']()*0.2;_0x48cfd9=_0x48cfd9*_0x13655c;if(Math['floor'](Math['random']()*0x64)<enemy['stats']['critRate']){if(player['skills']['includes']('ZDKJ')){dmgtype='damage';_0x48cfd9=Math['round'](_0x48cfd9);}else{dmgtype="egamad tirc".split("").reverse().join("");_0x48cfd9=Math['round'](_0x48cfd9*(0x1+enemy['stats']['critDmg']/(0xa3c59^0xa3c3d)));}}else{dmgtype='damage';_0x48cfd9=Math['round'](_0x48cfd9);}if(player['skills']['includes']('Paladin\x27s\x20Heart')){_0x48cfd9=Math['round'](_0x48cfd9-(0x4146a^0x41473)*_0x48cfd9/0x64);}if(player['skills']['includes']('Shanbi')){if(Math['floor'](Math['random']()*0x64)<(0xf0c45^0xf0c5b)){let _0x337c65=Math['ceil'](_0x48cfd9*0.5);_0x48cfd9=0x0;addCombatLog('你于风中隐藏,对方的攻击如同石牛如海');if(Math['floor'](Math['random']()*0x64)<(0x1ad7b^0x1ad53)){enemy['stats']['hp']-=_0x337c65;addCombatLog('你于风中展开弹反,对方的攻势竟倒飞而去');}}}if(player['skills']['includes']('GoldS')){let _0x311946=0x7e2d4^0x7e2d5;_0x311946=player['gold']/0x3e8*0.01;player['gold']=player['gold']-Math['floor'](_0x48cfd9*0.07);_0x48cfd9=Math['max'](0x1,Math['floor'](_0x48cfd9*(0x1-_0x311946)));addCombatLog('你的灵石守护着你');}if(player['skills']['includes']("SrooP".split("").reverse().join(""))){if(player['gold']<0x3e8){_0x48cfd9=Math['max'](0x1,_0x48cfd9-0x1e);addCombatLog('穷神祝福你');}}if(player['skills']['includes']('Jingfan')){let _0x487a39=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x487a39<0x1e){addCombatLog('你的【脆镜反射】反射了同样的伤害回去!');enemy['stats']['hp']-=_0x48cfd9;}}if(player['skills']['includes']('ZGQX')){let _0x3b875e=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x3b875e>0x50){if(player['stats']['hp']-_0x48cfd9<=0x0){_0x48cfd9=player['stats']['hp']-0x5;}}}if(player['skills']['includes']("HSJY".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0x63){if(dmgtype=='damage'){_0x48cfd9=0x0;addCombatLog("\u51FB\u653B\u6B21\u8FD9\u4E86\u89C6\u65E0\u5168\u5B8C,\u7F69\u7B3C\u606F\u6C14\u754C\u5F02\u88AB\u4F60".split("").reverse().join(""));}}_0x48cfd9=_0x48cfd9*0xa;if(_0x48cfd9!=0x0)addCombatLog('你被这个世界排斥!!');}if(player['skills']['includes']('DCJJ')){if(player['stats']['hp']==player['stats']['hpMax']){_0x48cfd9=Math['floor'](_0x48cfd9*0.5);addCombatLog('你的【多重坚甲】守护着你');}}if(player['skills']['includes']('BQZD')){if(player['tempStats']['firstDef']==undefined)player['tempStats']['firstDef']=0x0;if(player['tempStats']['firstDef']==0x0){let _0x86487f=_0x48cfd9;player['stats']['hp']=player['stats']['hp']+_0x86487f;_0x48cfd9=0x0;player['tempStats']['firstDef']=0x1;addCombatLog('你激发出【不屈之盾】');addCombatLog("\u4E86\u5F97\u83B7\u4F60".split("").reverse().join("")+_0x86487f+'治疗');}}if(player['skills']['includes']('CZJS')){if(player['tempStats']['czjs']==undefined)player['tempStats']['czjs']=0x0;if(player['stats']['hp']-_0x48cfd9<=0x0){if(player['tempStats']['czjs']==0x0){_0x48cfd9=0x0;player['stats']['hp']=player['stats']['hpMax'];player['tempStats']['czjs']=0x1;addCombatLog('你拒绝了死亡');}}}if(player['skills']['includes']('ZSDS')){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x0;if(player['tempStats']['zsds']==0x0){if(Math['floor'](Math['random']()*0x64)<player['stats']['critRate']){crit=!![];dmgtype='crit\x20damage';_0x48cfd9=Math['round'](_0x48cfd9*crit_mod*(0x1+player['stats']['critDmg']/0x64));}enemy['stats']['hp']-=_0x48cfd9/0x2;_0x48cfd9=0x0;player['tempStats']['zsds']=0x1;addCombatLog('这对【战术大师】无效');}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x48cfd9=_0x48cfd9*0x2;addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==0x2){_0x48cfd9=Math['floor'](_0x48cfd9*0.7);player['tempStats']['txww']=0x0;addCombatLog('心如【止】水');}}player['stats']['hp']-=_0x48cfd9;objectValidation();if(player['skills']['includes']('Aegis\x20Thorns')){enemy['stats']['hp']-=Math['round'](0xf*_0x48cfd9/0x64);}if(player['skills']['includes']('Neigui')){if(Math['floor'](Math['random']()*0x64)<0xa){enemy['stats']['hp']-=_0x48cfd9;addCombatLog("\u6613\u4EA4\u6B62\u4E2D,\u9B3C\u5185\u6709".split("").reverse().join(""));}}enemy['stats']['hp']+=_0x5f44cc;addCombatLog(enemy['name']+'\x20对\x20'+player['name']+'\x20造成了'+nFormatter(_0x48cfd9)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0x3e334d=document['querySelector']('#playerPanel');_0x3e334d['classList']['add']('animation-shake');setTimeout(()=>{_0x3e334d['classList']['remove']('animation-shake');},0xc8);let _0xaf6957=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0xaf6957=Math['max'](0.1,player['stats']['atkSpd']-0.1);addCombatLog('敌人被震撼着');}}if(player['skills']['includes']('YJMY')){player['stats']['atkSpd']=player['stats']['atkSpd']-0.05;_0xaf6957=enemy['stats']['atkSpd'];addCombatLog('敌人被你的棉衣纠缠住了!');}if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){enemyAttack();}},0x3e8/_0xaf6957);}};const combatBacklog=[];const addCombatLog=_0x497455=>{combatBacklog['push'](_0x497455);updateCombatLog();};const updateCombatLog=()=>{let _0x3d4cdb=document['getElementById']('combatLogBox');_0x3d4cdb['innerHTML']='';for(let _0x4a779f of combatBacklog){let _0x1d812f=document['createElement']('p');_0x1d812f['innerHTML']=_0x4a779f;_0x3d4cdb['appendChild'](_0x1d812f);}if(enemyDead){let _0x296c5f=document['createElement']('div');_0x296c5f['className']='decision-panel';_0x296c5f['innerHTML']='<button\x20id=\x22battleButton\x22>知道了</button>';_0x3d4cdb['appendChild'](_0x296c5f);}if(playerDead){let _0x5d7fd2=document['createElement']('div');_0x5d7fd2['className']='decision-panel';_0x5d7fd2['innerHTML']='<button\x20id=\x22battleButton\x22>回到菜单</button>';_0x3d4cdb['appendChild'](_0x5d7fd2);}_0x3d4cdb['scrollTop']=_0x3d4cdb['scrollHeight'];};let combatSeconds=0x0;const startCombat=_0x56afc8=>{bgmDungeon['pause']();sfxEncounter['play']();_0x56afc8['play']();player['inCombat']=!![];let _0x59c13e=enemy['stats']['atkSpd'];if(player['skills']['includes']("LZLX".split("").reverse().join(""))){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x59c13e=Math['max'](0.1,player['stats']['atkSpd']-0.1);}}setTimeout(playerAttack,0x3e8/player['stats']['atkSpd']);setTimeout(enemyAttack,0x3e8/_0x59c13e);let _0x4abdbe=document['querySelector']('#dungeon-main');_0x4abdbe['style']['filter']='brightness(50%)';playerLoadStats();enemyLoadStats();dungeon['status']['event']=!![];combatPanel['style']['display']='flex';combatTimer=setInterval(combatCounter,0x3e8);};const endCombat=()=>{bgmBattleMain["\u0073\u0074\u006f\u0070"]();bgmBattleGuardian['stop']();bgmBattleBoss['stop']();sfxCombatEnd['play']();player['inCombat']=![];if(player['deepth']==undefined)player['deepth']=0x1;player['deepth']=dungeon['progress']['floor'];if(player['skills']['includes']('Rampager')){objectValidation();player['baseStats']['atk']-=player['tempStats']['atk'];player['tempStats']['atk']=0x0;saveData();}if(player['skills']['includes']('Blade\x20Dance')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('Kuaiqidong')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']("\u0042\u0051\u005a\u004a")){objectValidation();player['tempStats']['firstAtk']=0x0;saveData();}if(player['skills']['includes']('BQZD')){objectValidation();player['tempStats']['firstDef']=0x0;saveData();}if(player['skills']['includes']('CZJS')){objectValidation();player['tempStats']['czjs']=0x0;saveData();}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('ZJJ')){objectValidation();player['tempStats']['zjj']=0x0;saveData();}if(player['skills']['includes']('ZSDS')){objectValidation();player['tempStats']['zsds']=0x0;saveData();}if(player['skills']['includes']('TXWW')){objectValidation();player['tempStats']['txww']=0x0;saveData();}clearInterval(combatTimer);combatSeconds=0x0;};const combatCounter=()=>{combatSeconds++;};const showCombatInfo=()=>{document['querySelector']('#combatPanel')['innerHTML']='\x0a\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20center\x22\x20id=\x22enemyPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+enemy['name']+'\x20Lv.'+enemy['lvl']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20hp\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22enemy-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22enemy-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(enemy['stats']['hp'])+'/'+nFormatter(enemy['stats']['hpMax'])+'<br>('+enemy['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dmg-container\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/sprites/'+enemy["\u0069\u006d\u0061\u0067\u0065"]['name']+enemy['image']['type']+'\x22\x20alt=\x22'+enemy['name']+'\x22\x20width=\x22'+enemy['image']['size']+"psbn&                    \n>\"elttab-ph-reyalp\"=di \"ph-bb tnerruc rab-elttab\"=ssalc vid<                \n>vid/<>\"gmd-ph-reyalp\"=di \"ph-bb gmd rab-elttab\"=ssalc vid<                \n>\"ph-bb rab-ytpme rab-elttab\"=ssalc vid<            \n>p/<>\"ofni-tabmoc-reyalp\"=di p<            \n>\"lenaPreyalp\"=di \"lenap-yramirp lenap-ofni-elttab\"=ssalc vid<        \n>vid/<        \n>\"etirps-ymene\"=di \"".split("").reverse().join("")+nFormatter(player['stats']['hp'])+'/'+nFormatter(player['stats']['hpMax'])+'('+player['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-xb\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-xb\x22\x20id=\x22player-exp-bar\x22>exp</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22logBox\x20primary-panel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22combatLogBox\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';};