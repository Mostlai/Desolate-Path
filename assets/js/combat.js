const combatPanel=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("lenaPtabmoc#".split("").reverse().join(""));let enemyDead=![];let playerDead=![];const hpValidation=()=>{if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]<(0x47bdb^0x47bda)){if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==undefined)player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=0x23131^0x23131;if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==(0x32a05^0x32a05)){player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0xd0659^0xd0659;playerDead=!![];player["\u0064\u0065\u0061\u0074\u0068\u0073"]++;if(player['bank']==undefined)player["\u0062\u0061\u006e\u006b"]=0x5eddb^0x5eddb;player['bank']=player['bank']+Math["\u0063\u0065\u0069\u006c"](player["\u0067\u006f\u006c\u0064"]*0.3);player["\u0067\u006f\u006c\u0064"]=0xe69f0^0xe69f0;addCombatLog("\u4f60\u6b7b\u4e86\u0021");addCombatLog("\u5E84\u94B1\u4E86\u5165\u5B58\u52A8\u81EA\u77F3\u7075\u7684%03".split("").reverse().join(""));document['querySelector']("nottuBelttab#".split("").reverse().join(""))['addEventListener']("kcilc".split("").reverse().join(""),function(){sfxConfirm['play']();playerDead=![];let _0x1fd0fe=document['querySelector']("niam-noegnud#".split("").reverse().join(""));_0x1fd0fe["\u0073\u0074\u0079\u006c\u0065"]["\u0066\u0069\u006c\u0074\u0065\u0072"]='brightness(100%)';_0x1fd0fe["\u0073\u0074\u0079\u006c\u0065"]['display']="enon".split("").reverse().join("");combatPanel['style']['display']="enon".split("").reverse().join("");runLoad('title-screen','flex');clearInterval(dungeonTimer);clearInterval(playTimer);progressReset();});}else{enemyDead=!![];player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=player['stats']['hpMax'];addCombatLog("\u5929\u751F\u51FA\u9003\u3011\u8F74\u5377\u6D3B\u590D\u3010\u5F20\u4E00\u8017\u6D88\u4F60".split("").reverse().join(""));player['rebirth']=player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]-(0x94420^0x94421);document['querySelector']("nottuBelttab#".split("").reverse().join(""))["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]("kcilc".split("").reverse().join(""),function(){sfxConfirm['play']();let _0x4c7793=document['querySelector']('#dungeon-main');_0x4c7793["\u0073\u0074\u0079\u006c\u0065"]['filter']="\u0062\u0072\u0069\u0067\u0068\u0074\u006e\u0065\u0073\u0073\u0028\u0031\u0030\u0030\u0025\u0029";bgmDungeon["\u0070\u006c\u0061\u0079"]();dungeon['status']["\u0065\u0076\u0065\u006e\u0074"]=![];combatPanel['style']['display']='none';enemyDead=![];combatBacklog["\u006c\u0065\u006e\u0067\u0074\u0068"]=0x57f7f^0x57f7f;});}endCombat();}else if(enemy['stats']['hp']<(0x4b38b^0x4b38a)){enemy["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0x0;enemyDead=!![];player['kills']++;dungeon["\u0073\u0074\u0061\u0074\u0069\u0073\u0074\u0069\u0063\u0073"]['kills']++;addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+"( !\u706D\u4FF1\u9B42\u795E ".split("").reverse().join("")+new Date(combatSeconds*0x3e8)['toISOString']()["\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006e\u0067"](0x74a26^0x74a28,0x13)+')');addCombatLog('你得到了'+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]["\u0065\u0078\u0070"])+".\u9A8C\u7ECF".split("").reverse().join(""));if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("naygniJ".split("").reverse().join(""))){addCombatLog("\u3010\u8d44\u6df1\u3011\u4f7f\u4f60\u989d\u5916\u83b7\u5f97"+nFormatter(Math['ceil'](enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['exp']*0.2))+"\u7ecf\u9a8c\u002e");}playerExpGain();let _0x1dd713=0x65d9f^0x65d9e;let _0x28e55d=0x7c215^0x7c214;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Lingshi')){_0x1dd713=1.3;}if(player['kll']==0x1){_0x28e55d=0x2;}addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+">i/<>\";0008ff# :roloc\"=elyts \"meg-af dilos-af\"=ssalc i< \u4E86\u843D\u6389 ".split("").reverse().join("")+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x1dd713*_0x28e55d)+".\u77F3\u7075 ".split("").reverse().join(""));if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004c\u0069\u006e\u0067\u0073\u0068\u0069")){addCombatLog("\u3010\u5e1d\u738b\u5b9d\u5e93\u3011\u4f7f\u4f60\u989d\u5916\u83b7\u5f97"+nFormatter(Math["\u0063\u0065\u0069\u006c"](enemy['rewards']['gold']*0.3))+".\u77F3\u7075".split("").reverse().join(""));}player['gold']+=enemy['rewards']["\u0067\u006f\u006c\u0064"]*_0x1dd713*_0x28e55d;playerLoadStats();if(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]["\u0064\u0072\u006f\u0070"]){createEquipmentPrint("tabmoc".split("").reverse().join(""));}let _0x318712=0x1;if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("SBX".split("").reverse().join(""))){_0x318712=1.5;}if(player['cureseLB']==undefined)player["\u0063\u0075\u0072\u0065\u0073\u0065\u004c\u0042"]=0x0;if(player['riftLB']==undefined)player["\u0072\u0069\u0066\u0074\u004c\u0042"]=0x0;if(player['emporLB']==undefined)player['emporLB']=0x0;let _0x4875e8=0x27fcd^0x27fcc;if(player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070"]>=0x1){_0x4875e8=0x1+Math['ceil'](player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070"]/0x5)/(0xca31f^0xca37b);}if(enemy["\u0063\u006c\u0061\u0073\u0073"]=='guardian'){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<(0xbf372^0xbf370)*_0x318712){createEquipmentPrint("tabmoc".split("").reverse().join(""),"BLTX".split("").reverse().join(""));}else if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x3*_0x318712){createEquipmentPrint('combat',"\u004c\u0042");}let _0x11ee4b=Math['floor'](enemy['lvl']/0xa);if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0x5afaa^0x5afce))<(0x39210^0x39216)*_0x4875e8){let _0x356195=Math['floor'](_0x11ee4b*randomizeDecimal(0.3,0.6));_0x356195=Math['max'](0x1,_0x356195);player['cureseLB']=player["\u0063\u0075\u0072\u0065\u0073\u0065\u004c\u0042"]+_0x356195;addCombatLog('你找到了'+nFormatter(_0x356195)+"\u8bc5\u5492\u7075\u5b9d\u788e\u7247\u002e");addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了'+nFormatter(_0x356195)+'【诅咒灵宝碎片】</span>');}if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<(0x65294^0x65292)*_0x4875e8){let _0x3615a9=Math["\u0066\u006c\u006f\u006f\u0072"](_0x11ee4b*randomizeDecimal(0.1,0.5));_0x3615a9=Math['max'](0x93f3d^0x93f3c,_0x3615a9);player['riftLB']=player["\u0072\u0069\u0066\u0074\u004c\u0042"]+_0x3615a9;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x3615a9)+".\u7247\u788E\u5B9D\u7075\u9699\u88C2".split("").reverse().join(""));addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了'+nFormatter(_0x3615a9)+'【裂隙灵宝碎片】</span>');}}if(enemy['class']=='sboss'){if(Math['floor'](Math['random']()*0x64)<(0x8c84f^0x8c87d)){if(player['rebirth']==undefined)player['rebirth']=0x0;player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=player['rebirth']+0x1;addCombatLog("\u4f60\u4ece\u8fd9\u4e2a\u5f3a\u5927\u7684\u751f\u7269\u4e0a\u627e\u5230\u4e00\u5f20\u3010\u590d\u6d3b\u5377\u8f74\u3011");}if(Math['floor'](Math['random']()*(0xa05ef^0xa058b))<(0x953d5^0x953d4)*_0x318712){createEquipmentPrint("tabmoc".split("").reverse().join(""),"BD".split("").reverse().join(""));}else if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x2*_0x318712){createEquipmentPrint("tabmoc".split("").reverse().join(""),'ZB');}let _0x8ef8b3=Math['floor'](enemy['lvl']/0x7);if(Math['floor'](Math['random']()*0x64)<0x7*_0x4875e8){let _0x43b494=Math['floor'](_0x8ef8b3*randomizeDecimal(0.2,0.5));_0x43b494=Math["\u006d\u0061\u0078"](0xe1e56^0xe1e57,_0x43b494);player['riftLB']=player['riftLB']+_0x43b494;addCombatLog('你找到了'+nFormatter(_0x43b494)+".\u7247\u788E\u5B9D\u7075\u9699\u88C2".split("").reverse().join(""));addDungeonLog("\u4E86\u5F97\u83B7\u4F60>\"yradnegeL\"=ssalc naps<".split("").reverse().join("")+nFormatter(_0x43b494)+'【裂隙灵宝碎片】</span>');}if(Math['floor'](Math['random']()*(0x2ee7e^0x2ee1a))<(0xdb001^0xdb004)*_0x4875e8){let _0x4acb17=Math['floor'](_0x8ef8b3*randomizeDecimal(0.1,0.3));_0x4acb17=Math["\u006d\u0061\u0078"](0xc36fd^0xc36fc,_0x4acb17);player['emporLB']=player['emporLB']+_0x4acb17;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x4acb17)+'帝者灵宝碎片.');addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了'+nFormatter(_0x4acb17)+">naps/<\u3011\u7247\u788E\u5B9D\u7075\u8005\u5E1D\u3010".split("").reverse().join(""));}}if(player['hardloop']>=(0xe76fc^0xe76fd)){let _0x5440de=player['hardloop'];if(Math['floor'](Math['random']()*0x64)<=_0x5440de+0x1){player['hardloopsign']=player['hardloopsign']+0x1;addCombatLog("\u3011\u5F81\u8C61\u71AC\u714E\u3010\u4E2A1\u4E86\u5F97\u83B7\u4F60".split("").reverse().join(""));addDungeonLog(">naps/<\u3011\u5F81\u8C61\u71AC\u714E\u3010\u4E2A1\u4E86\u5F97\u83B7\u4F60>\"yradnegeL\"=ssalc naps<".split("").reverse().join(""));}}player["\u0073\u0074\u0061\u0074\u0073"]['hp']+=Math['round'](player['stats']['hpMax']*0x14/0x64);playerLoadStats();document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("nottuBelttab#".split("").reverse().join(""))['addEventListener']('click',function(){sfxConfirm['play']();let _0x181074=document['querySelector']('#dungeon-main');_0x181074['style']['filter']='brightness(100%)';bgmDungeon["\u0070\u006c\u0061\u0079"]();dungeon['status']['event']=![];combatPanel['style']['display']="enon".split("").reverse().join("");enemyDead=![];combatBacklog['length']=0x7b9bb^0x7b9bb;});endCombat();}};function getDtype(_0x1caf3d){if(_0x1caf3d=="egamad tirc".split("").reverse().join(""))return'暴击';if(_0x1caf3d=='damage')return"\u666e\u901a";return _0x1caf3d;}const playerAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x3c8d5f;let _0x3f5877=player['stats']['atk']*(player['stats']['atk']/(player["\u0073\u0074\u0061\u0074\u0073"]['atk']+enemy['stats']["\u0064\u0065\u0066"]));let _0x5b7319=0.9+Math['random']()*0.2;_0x3f5877=_0x3f5877*_0x5b7319;let _0x53de46=0x1;let _0x533a12=0x86f57^0x86f56;if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Baoji')){_0x53de46=1.7;_0x533a12=0.6;}if(player['skills']['includes']("\u0047\u006f\u006e\u0067\u006a\u0069")){_0x53de46=0xb05ae^0xb05ae;_0x533a12=1.3;}if(player['skills']['includes']('ZSDS')){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x1;player['tempStats']["\u007a\u0073\u0064\u0073"]=0x1bdc5^0x1bdc4;}if(Math['floor'](Math['random']()*0x64)<player['stats']['critRate']){_0x3c8d5f=!![];if(player['skills']['includes']('RCZF')){_0x3c8d5f=![];dmgtype='damage';_0x3f5877=Math["\u0072\u006f\u0075\u006e\u0064"](_0x3f5877*_0x533a12);}else{dmgtype="egamad tirc".split("").reverse().join("");_0x3f5877=Math['round'](_0x3f5877*_0x53de46*(0x1+player['stats']['critDmg']/0x64));if(player['skills']['includes']('Baoji')){addCombatLog('【狂热之心】使你额外造成'+Math['round'](_0x3f5877*(_0x53de46-0x1)*(0x1+player['stats']['critDmg']/(0x9ded7^0x9deb3)))+'伤害.');}}}else{_0x3c8d5f=![];dmgtype='damage';_0x3f5877=Math['round'](_0x3f5877*_0x533a12);if(player['skills']['includes']('Gongji')){addCombatLog('【仁慈之心】使你额外造成'+Math['round'](_0x3f5877*_0x533a12)+'伤害.');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('BQZJ')){console['log'](player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']);if(player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']==undefined)player['tempStats']['firstAtk']=0xd05b3^0xd05b3;if(player['tempStats']['firstAtk']==0x0){dmgtype='crit\x20damage';_0x3f5877=Math['round'](_0x3f5877*_0x53de46*0x2*(0x1+player["\u0073\u0074\u0061\u0074\u0073"]['critDmg']/0x64));player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']=0x1;addCombatLog('你激发出【不屈之剑】');}}objectValidation();if(player['skills']['includes']('Remnant\x20Razor')){_0x3f5877+=Math['round'](0x8*enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']/0x64);}if(player['skills']['includes']('Titan\x27s\x20Will')){_0x3f5877+=Math["\u0072\u006f\u0075\u006e\u0064"]((0xbf97f^0xbf97a)*player["\u0073\u0074\u0061\u0074\u0073"]['hpMax']/(0x39e8b^0x39eef));}if(player['skills']['includes']("\u0044\u0065\u0076\u0061\u0073\u0074\u0061\u0074\u006f\u0072")){_0x3f5877=Math['round'](_0x3f5877+0x1e*_0x3f5877/(0xaf1eb^0xaf18f));}if(player['skills']['includes']('Rampager')){player['baseStats']['atk']+=0x5;objectValidation();player['tempStats']['atk']+=0xca9ce^0xca9cb;saveData();}if(player['skills']['includes']('Blade\x20Dance')){player['baseStats']['atkSpd']+=0.3;objectValidation();player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['atkSpd']+=0.3;saveData();}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Kuaiqidong')){player['baseStats']['atkSpd']-=0.01;objectValidation();player['tempStats']['atkSpd']-=0.01;saveData();}let _0x302614=0x1;if(player['skills']['includes']("oabgnauK".split("").reverse().join(""))){if(player["\u0073\u0074\u0061\u0074\u0073"]['hp']<=player['stats']['hpMax']*0.5){addCombatLog('你身披【血衣】,眼目猩红');_0x3f5877=Math['ceil'](_0x3f5877*1.5);_0x302614=0x2;}}let _0x2b18f3=player['stats']["\u0061\u0074\u006b\u0053\u0070\u0064"];_0x2b18f3=_0x2b18f3*_0x302614;let _0x17036e=0x88d3b^0x88d3a;if(player['skills']['includes']('JiyuanXiaoguo')){addCombatLog('你的【饮灵之躯】源源不断的吸收对方的气血');_0x17036e=1.3;}if(player['skills']['includes']('Yinxue')){addCombatLog("\u8840\u6C14\u7684\u65B9\u5BF9\u6536\u5438\u7684\u65AD\u4E0D\u6E90\u6E90\u3011\u8840\u996E\u3010\u7684\u4F60".split("").reverse().join(""));_0x17036e=0xb7312^0xb7310;}if(player['skills']['includes']('Huichun')){addCombatLog('你的【大回春术】滋养你的身体,你转瞬间容光焕发!');addCombatLog('恢复了'+Math["\u0063\u0065\u0069\u006c"](player['stats']['hpMax']*0.02)+'气血');player['stats']['hp']+=Math['ceil'](player['stats']['hpMax']*0.02);}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('QixueHun')){addCombatLog("!\u529B\u5A01\u7684\u51FB\u653B\u4E86\u5F3A\u52A0\u3011\u9B42\u4E4B\u8840\u6C14\u3010\u7684\u4F60".split("").reverse().join(""));let _0x6abed5=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x6abed5<(0xb87c9^0xb878f)){let _0x4d39b3=(0xbc8eb^0xbc88f)-_0x6abed5;let _0x458bad=_0x4d39b3*0x2;_0x3f5877+=Math["\u0063\u0065\u0069\u006c"](_0x3f5877*(_0x458bad/0x64));}}if(player['skills']['includes']("naitoaD".split("").reverse().join(""))){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0xe6821^0xe6845))<0x5){player['bonusStats']['hp']+=Math['ceil'](_0x3f5877*0.01);addCombatLog('【盗天】你窃走天地精华!!');}}if(player['skills']['includes']("naitnauL".split("").reverse().join(""))){if(Math['floor'](Math['random']()*(0xbc56f^0xbc50b))<0x5){player['bonusStats']['critRate']+=0.01;addCombatLog('【乱天】你打乱了天序!!');}}if(player['skills']['includes']('Baitian')){if(Math['floor'](Math['random']()*(0x53ee2^0x53e86))<0x5){player['bonusStats']['def']+=Math['ceil'](_0x3f5877*0.01);addCombatLog('【败天】你削减了天时!!');}}if(player['skills']['includes']("\u004c\u0075\u0074\u0069\u0061\u006e")){if(Math['floor'](Math['random']()*(0x98f7c^0x98f18))<0x1){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['atk']+=Math['ceil'](_0x3f5877*0.003);addCombatLog('【戮天】你破灭了某处!!');}}if(player['skills']['includes']('Zhutian')){if(Math['floor'](Math['random']()*0x64)<(0x31c40^0x31c41)){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['critDmg']+=0.5;addCombatLog('【诛天】你诛灭了某处!!');}}if(player['skills']['includes']('Daitian')){if(Math['floor'](Math['random']()*0x64)<(0x5b0e6^0x5b0e7)){_0x3f5877=enemy['stats']['hp'];addCombatLog("\u8D25\u5931\u5373\u7ACB\u65B9\u5BF9\u5E03\u5BA3\u3011\u5929\u4EE3\u3010".split("").reverse().join(""));}}if(player['skills']['includes']('Xuanyun')){if(Math['floor'](Math['random']()*0x64)<(0xad00f^0xad000)){enemy['stats']["\u0061\u0074\u006b"]=Math['floor'](enemy['stats']['atk']-enemy['stats']['atk']*0.05);addCombatLog("\u529B\u65E0\u8EAB\u6D51,\u7729\u76EE\u6655\u5934\u89C9\u611F\u65F6\u987F\u65B9\u5BF9,\u51FB\u4E00\u5730\u731B\u4E0A\u5934\u65B9\u5BF9\u5411\u4F60".split("").reverse().join(""));}}if(player['skills']['includes']("\u0047\u006f\u006c\u0064\u0047")){let _0x4d49a3=0x1;_0x4d49a3=(0xeacd5^0xeacd4)+player['gold']/(0x37cb8^0x37f50)*0.01;_0x3f5877=Math['floor'](_0x3f5877*_0x4d49a3);player['gold']=player['gold']-Math['floor'](_0x3f5877*0.09);addCombatLog('你的灵石源源不断的向对方砸去');}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("GrooP".split("").reverse().join(""))){if(player["\u0067\u006f\u006c\u0064"]<(0xb7b07^0xb78ef)){_0x3f5877=_0x3f5877+0x32;addCombatLog("\u4F60\u798F\u795D\u795E\u7A77".split("").reverse().join(""));}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("LH".split("").reverse().join(""))){_0x3f5877=Math['floor'](_0x3f5877*1.3);if(Math['floor'](Math['random']()*(0xd9db6^0xd9dd2))<0x1e){_0x3f5877=0x0;addCombatLog('哎呀,打歪了');}}let _0x14c5ff=Math['round'](_0x3f5877*_0x17036e*(player['stats']['vamp']/0x64));if(player['skills']['includes']('TRA')){if(Math['floor'](Math['random']()*0x64)<0xa){enemy['stats']["\u0068\u0070"]-=_0x3f5877;addCombatLog("--\u3011\u51FB\u540C\u4EBA\u5929\u3010--".split("").reverse().join(""));}}if(player['skills']['includes']("\u0052\u0043\u005a\u0046")){enemy['stats']['hp']-=_0x3f5877;addCombatLog('【仁慈之风】发动了第二次攻击');}if(player['skills']['includes']("JMPD".split("").reverse().join(""))){_0x3f5877=Math['floor'](player['stats']['def']*0.1);addCombatLog("\u51FB\u653B\u76AE\u809A\u7684\u4F60\u7528\u4F60".split("").reverse().join(""));}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('FX')){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x32){player['stats']['hp']-=player['stats']['hp']*0.5;_0x3f5877=_0x3f5877*(0xd9cb6^0xd9cb5);addCombatLog('你放血而击');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("JJZ".split("").reverse().join(""))){player['stats']['hp']-=player['stats']['hp']*0.05;if(player['tempStats']['zjj']==undefined)player['tempStats']['zjj']=0x6daf9^0x6daf9;player['tempStats']['zjj']=player['tempStats']['zjj']+(0xf2e78^0xf2e79);let _0x378bbf=0x1+0.1*player['tempStats']['zjj'];_0x3f5877=_0x3f5877*_0x378bbf;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('HLXM')){if(enemy['stats']['hp']-_0x3f5877*0x2<=(0x779ad^0x779ad)){_0x3f5877=_0x3f5877*(0x2f625^0x2f627);}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']["\u0074\u0078\u0077\u0077"]=0x0;if(Math['floor'](Math['random']()*0x64)<0xa){let _0x475071=Math['floor'](Math['random']()*0x3)+(0x40537^0x40536);if(_0x475071==(0x36017^0x36016)){player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['txww']=0x1;addCombatLog('你进入【玄】');}if(_0x475071==(0x74646^0x74644)){player['tempStats']["\u0074\u0078\u0077\u0077"]=0x18e4b^0x18e49;addCombatLog("\u4f60\u8fdb\u5165\u3010\u6b62\u3011");}if(_0x475071==(0xc516b^0xc5168)){player['tempStats']['txww']=0xc3663^0xc3660;addCombatLog('你进入【动】');}}}if(player['skills']['includes']('TXWW')){if(player['tempStats']["\u0074\u0078\u0077\u0077"]==undefined)player['tempStats']['txww']=0x9ad38^0x9ad38;if(player['tempStats']['txww']==0x1){_0x3f5877=_0x3f5877*(0x2db36^0x2db34);addCombatLog('【玄】之易损');}if(player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['txww']==(0x8d8b8^0x8d8bb)){enemy['stats']['hp']-=_0x3f5877;enemy['stats']['hp']-=_0x3f5877;player['tempStats']['txww']=0x60dff^0x60dff;addCombatLog("\u3011\u52A8\u3010\u51FA\u9000\u4F60".split("").reverse().join(""));}}enemy['stats']['hp']-=_0x3f5877;player['stats']['hp']+=_0x14c5ff;addCombatLog(player['name']+'\x20对\x20\x20'+enemy['name']+'造成了\x20'+nFormatter(_0x3f5877)+('\x20'+getDtype(dmgtype)+"\u5BB3\u4F24 ".split("").reverse().join("")));hpValidation();playerLoadStats();enemyLoadStats();let _0x458aad=document['querySelector']('#enemy-sprite');_0x458aad['classList']['add']('animation-shake');setTimeout(()=>{_0x458aad['classList']['remove']('animation-shake');},0xc8);const _0x332ad6=document['querySelector']("reniatnoc-gmd#".split("").reverse().join(""));const _0x541739=document['createElement']('p');_0x541739['classList']['add']("srebmun-gmd".split("").reverse().join(""));if(_0x3c8d5f){_0x541739['style']['color']='gold';_0x541739['innerHTML']=nFormatter(_0x3f5877)+'!';}else{_0x541739['innerHTML']=nFormatter(_0x3f5877);}_0x332ad6['appendChild'](_0x541739);setTimeout(()=>{_0x332ad6['removeChild'](_0x332ad6['lastElementChild']);},0x172);if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){playerAttack();}},0x3e8/_0x2b18f3);}};const enemyAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x12c305=enemy['stats']['atk']*(enemy['stats']['atk']/(enemy['stats']['atk']+player['stats']['def']));let _0x41c184=Math['round'](enemy['stats']['atk']*(enemy['stats']['vamp']/0x64));let _0xaee5e8=0.9+Math['random']()*0.2;_0x12c305=_0x12c305*_0xaee5e8;if(Math['floor'](Math['random']()*(0x8bdf5^0x8bd91))<enemy['stats']['critRate']){if(player['skills']['includes']("JKDZ".split("").reverse().join(""))){dmgtype='damage';_0x12c305=Math['round'](_0x12c305);}else{dmgtype="egamad tirc".split("").reverse().join("");_0x12c305=Math['round'](_0x12c305*((0x5c771^0x5c770)+enemy['stats']['critDmg']/(0x2d325^0x2d341)));}}else{dmgtype='damage';_0x12c305=Math['round'](_0x12c305);}if(player['skills']['includes']("traeH s'nidalaP".split("").reverse().join(""))){_0x12c305=Math['round'](_0x12c305-(0x3958e^0x39597)*_0x12c305/(0xbca33^0xbca57));}if(player['skills']['includes']('Shanbi')){if(Math['floor'](Math['random']()*(0x4c458^0x4c43c))<0x1e){let _0x5a9b15=Math['ceil'](_0x12c305*0.5);_0x12c305=0x8e2e2^0x8e2e2;addCombatLog("\u6D77\u5982\u725B\u77F3\u540C\u5982\u51FB\u653B\u7684\u65B9\u5BF9,\u85CF\u9690\u4E2D\u98CE\u4E8E\u4F60".split("").reverse().join(""));if(Math['floor'](Math['random']()*(0x66e1f^0x66e7b))<(0x43e9f^0x43eb7)){enemy['stats']['hp']-=_0x5a9b15;addCombatLog("\u53BB\u800C\u98DE\u5012\u7ADF\u52BF\u653B\u7684\u65B9\u5BF9,\u53CD\u5F39\u5F00\u5C55\u4E2D\u98CE\u4E8E\u4F60".split("").reverse().join(""));}}}if(player['skills']['includes']('GoldS')){let _0x2a4830=0x1;_0x2a4830=player['gold']/(0x94027^0x943cf)*0.01;_0x12c305=Math['max'](0x1,Math['floor'](_0x12c305*(0x1-_0x2a4830)));player['gold']=player['gold']-Math['floor'](_0x12c305*0.05);addCombatLog('你的灵石守护着你');}if(player['skills']['includes']("SrooP".split("").reverse().join(""))){if(player['gold']<0x3e8){_0x12c305=Math["\u006d\u0061\u0078"](0x1,_0x12c305-0x1e);addCombatLog('穷神祝福你');}}if(player['skills']['includes']("nafgniJ".split("").reverse().join(""))){let _0x57e4cd=player['stats']['hp']/player['stats']['hpMax']*(0xd14bc^0xd14d8);if(_0x57e4cd<(0x8670a^0x86714)){addCombatLog('你的【脆镜反射】反射了同样的伤害回去!');enemy['stats']['hp']-=_0x12c305;}}if(player['skills']['includes']("XQGZ".split("").reverse().join(""))){let _0x2a82f3=player['stats']['hp']/player['stats']['hpMax']*(0x723e1^0x72385);if(_0x2a82f3>0x50){if(player['stats']['hp']-_0x12c305<=(0x25d7b^0x25d7b)){_0x12c305=player['stats']['hp']-0x5;}}}if(player['skills']['includes']('YJSH')){if(Math['floor'](Math['random']()*(0x23e9c^0x23ef8))<(0x745e7^0x74584)){if(dmgtype=="egamad".split("").reverse().join("")){_0x12c305=0x70086^0x70086;addCombatLog('你被异界气息笼罩,完全无视了这次攻击');}}_0x12c305=_0x12c305*0xa;if(_0x12c305!=0x0)addCombatLog('你被这个世界排斥!!');}if(player['skills']['includes']('DCJJ')){if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]==player['stats']['hpMax']){_0x12c305=Math['floor'](_0x12c305*0.5);addCombatLog('你的【多重坚甲】守护着你');}}if(player['skills']['includes']("\u0042\u0051\u005a\u0044")){if(player['tempStats']['firstDef']==undefined)player['tempStats']['firstDef']=0x0;if(player['tempStats']['firstDef']==0x0){let _0x288abc=_0x12c305;player['stats']['hp']=player['stats']['hp']+_0x288abc;_0x12c305=0x0;player['tempStats']['firstDef']=0xd75d1^0xd75d0;addCombatLog("\u3011\u76FE\u4E4B\u5C48\u4E0D\u3010\u51FA\u53D1\u6FC0\u4F60".split("").reverse().join(""));addCombatLog('你获得了'+_0x288abc+"\u7597\u6CBB".split("").reverse().join(""));}}if(player['skills']['includes']('CZJS')){if(player['tempStats']['czjs']==undefined)player['tempStats']['czjs']=0x0;if(player['stats']['hp']-_0x12c305<=0x0){_0x12c305=0x0;if(player['tempStats']['czjs']==0x0){player['stats']['hp']=player['stats']['hpMax'];player['tempStats']['czjs']=0x1;addCombatLog('你拒绝了死亡');}}}if(player['skills']['includes']("SDSZ".split("").reverse().join(""))){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x0;if(player['tempStats']['zsds']==0x0){enemy['stats']['hp']-=_0x12c305/0x2;_0x12c305=0x0;player['tempStats']['zsds']=0x1;addCombatLog('这对【战术大师】无效');}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x12c305=_0x12c305*0x2;addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==0x2){_0x12c305=Math['floor'](_0x12c305*0.7);player['tempStats']['txww']=0x0;addCombatLog("\u6C34\u3011\u6B62\u3010\u5982\u5FC3".split("").reverse().join(""));}}player['stats']['hp']-=_0x12c305;objectValidation();if(player['skills']['includes']("snrohT sigeA".split("").reverse().join(""))){enemy['stats']['hp']-=Math['round'](0xf*_0x12c305/0x64);}if(player['skills']['includes']('Neigui')){if(Math['floor'](Math['random']()*0x64)<0xa){enemy['stats']['hp']-=_0x12c305;addCombatLog('有内鬼,中止交易');}}enemy['stats']['hp']+=_0x41c184;addCombatLog(enemy['name']+'\x20对\x20'+player['name']+"\u4E86\u6210\u9020 ".split("").reverse().join("")+nFormatter(_0x12c305)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0x348371=document['querySelector']("lenaPreyalp#".split("").reverse().join(""));_0x348371['classList']['add']("ekahs-noitamina".split("").reverse().join(""));setTimeout(()=>{_0x348371['classList']['remove']('animation-shake');},0xc8);let _0x510f18=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x510f18=Math['max'](0.1,player['stats']['atkSpd']-0.1);addCombatLog('敌人被震撼着');}}if(player['skills']['includes']('YJMY')){player['stats']['atkSpd']=player['stats']['atkSpd']-0.05;_0x510f18=enemy['stats']['atkSpd'];addCombatLog('敌人被你的棉衣纠缠住了!');}if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){enemyAttack();}},0x3e8/_0x510f18);}};const combatBacklog=[];const addCombatLog=_0x377b44=>{combatBacklog['push'](_0x377b44);updateCombatLog();};const updateCombatLog=()=>{let _0x435715=document['getElementById']('combatLogBox');_0x435715['innerHTML']="".split("").reverse().join("");for(let _0x21eaa9 of combatBacklog){let _0x3a29e7=document['createElement']('p');_0x3a29e7['innerHTML']=_0x21eaa9;_0x435715['appendChild'](_0x3a29e7);}if(enemyDead){let _0x35347e=document['createElement']('div');_0x35347e['className']="lenap-noisiced".split("").reverse().join("");_0x35347e['innerHTML']='<button\x20id=\x22battleButton\x22>知道了</button>';_0x435715['appendChild'](_0x35347e);}if(playerDead){let _0x5e9704=document['createElement']('div');_0x5e9704['className']='decision-panel';_0x5e9704['innerHTML']='<button\x20id=\x22battleButton\x22>回到菜单</button>';_0x435715['appendChild'](_0x5e9704);}_0x435715['scrollTop']=_0x435715['scrollHeight'];};let combatSeconds=0x0;const startCombat=_0x339716=>{bgmDungeon['pause']();sfxEncounter['play']();_0x339716['play']();player['inCombat']=!![];let _0x533472=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x533472=Math['max'](0.1,player['stats']['atkSpd']-0.1);}}setTimeout(playerAttack,0x3e8/player['stats']['atkSpd']);setTimeout(enemyAttack,0x3e8/_0x533472);let _0xa53010=document['querySelector']('#dungeon-main');_0xa53010['style']['filter']='brightness(50%)';playerLoadStats();enemyLoadStats();dungeon['status']['event']=!![];combatPanel['style']['display']='flex';combatTimer=setInterval(combatCounter,0x3e8);};const endCombat=()=>{bgmBattleMain["\u0073\u0074\u006f\u0070"]();bgmBattleGuardian['stop']();bgmBattleBoss['stop']();sfxCombatEnd['play']();player['inCombat']=![];if(player['deepth']==undefined)player['deepth']=0x1;player['deepth']=dungeon['progress']['floor'];if(player['skills']['includes']('Rampager')){objectValidation();player['baseStats']['atk']-=player['tempStats']['atk'];player['tempStats']['atk']=0x0;saveData();}if(player['skills']['includes']('Blade\x20Dance')){objectValidation();player['baseStats']['atkSpd']-=player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('Kuaiqidong')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('BQZJ')){objectValidation();player['tempStats']['firstAtk']=0x0;saveData();}if(player['skills']['includes']('BQZD')){objectValidation();player['tempStats']['firstDef']=0x0;saveData();}if(player['skills']['includes']('CZJS')){objectValidation();player['tempStats']['czjs']=0x0;saveData();}if(player['skills']['includes']("JJZ".split("").reverse().join(""))){objectValidation();player['tempStats']['zjj']=0x0;saveData();}if(player['skills']['includes']("SDSZ".split("").reverse().join(""))){objectValidation();player['tempStats']['zsds']=0x0;saveData();}if(player['skills']['includes']('TXWW')){objectValidation();player['tempStats']['txww']=0x0;saveData();}clearInterval(combatTimer);combatSeconds=0x0;};const combatCounter=()=>{combatSeconds++;};const showCombatInfo=()=>{document['querySelector']('#combatPanel')['innerHTML']='\x0a\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20center\x22\x20id=\x22enemyPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+enemy['name']+'\x20Lv.'+enemy['lvl']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20hp\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22enemy-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22enemy-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(enemy['stats']['hp'])+'/'+nFormatter(enemy['stats']['hpMax'])+'<br>('+enemy['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dmg-container\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/sprites/'+enemy['image']['name']+enemy['image']['type']+'\x22\x20alt=\x22'+enemy['name']+'\x22\x20width=\x22'+enemy['image']['size']+'\x22\x20id=\x22enemy-sprite\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20primary-panel\x22\x20id=\x22playerPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22player-combat-info\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22player-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22player-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(player['stats']['hp'])+'/'+nFormatter(player['stats']['hpMax'])+'('+player['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-xb\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-xb\x22\x20id=\x22player-exp-bar\x22>exp</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22logBox\x20primary-panel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22combatLogBox\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';};