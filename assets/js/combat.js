const combatPanel=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("lenaPtabmoc#".split("").reverse().join(""));let enemyDead=![];let playerDead=![];const hpValidation=()=>{if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]<(0x93c9e^0x93c9f)){if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==undefined)player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=0x78bd6^0x78bd6;if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==(0x2eac1^0x2eac1)){player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0x3504b^0x3504b;playerDead=!![];player["\u0064\u0065\u0061\u0074\u0068\u0073"]++;if(player['bank']==undefined)player["\u0062\u0061\u006e\u006b"]=0x69e02^0x69e02;player['bank']=player["\u0062\u0061\u006e\u006b"]+Math["\u0063\u0065\u0069\u006c"](player["\u0067\u006f\u006c\u0064"]*0.3);player["\u0067\u006f\u006c\u0064"]=0x6ba4d^0x6ba4d;addCombatLog('你死了!');addCombatLog("\u5E84\u94B1\u4E86\u5165\u5B58\u52A8\u81EA\u77F3\u7075\u7684%03".split("").reverse().join(""));document['querySelector']("nottuBelttab#".split("").reverse().join(""))["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]("kcilc".split("").reverse().join(""),function(){sfxConfirm['play']();playerDead=![];let _0xcc7880=document['querySelector']("niam-noegnud#".split("").reverse().join(""));_0xcc7880['style']['filter']=")%001(ssenthgirb".split("").reverse().join("");_0xcc7880['style']['display']="enon".split("").reverse().join("");combatPanel["\u0073\u0074\u0079\u006c\u0065"]["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="enon".split("").reverse().join("");runLoad("neercs-eltit".split("").reverse().join(""),"xelf".split("").reverse().join(""));clearInterval(dungeonTimer);clearInterval(playTimer);progressReset();});}else{enemyDead=!![];player['stats']['hp']=player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070\u004d\u0061\u0078"];addCombatLog('你消耗一张【复活卷轴】逃出生天');player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]-(0xb014f^0xb014e);document['querySelector']('#battleButton')['addEventListener']("\u0063\u006c\u0069\u0063\u006b",function(){sfxConfirm['play']();let _0x511287=document['querySelector']("\u0023\u0064\u0075\u006e\u0067\u0065\u006f\u006e\u002d\u006d\u0061\u0069\u006e");_0x511287['style']["\u0066\u0069\u006c\u0074\u0065\u0072"]='brightness(100%)';bgmDungeon['play']();dungeon["\u0073\u0074\u0061\u0074\u0075\u0073"]["\u0065\u0076\u0065\u006e\u0074"]=![];combatPanel["\u0073\u0074\u0079\u006c\u0065"]['display']="enon".split("").reverse().join("");enemyDead=![];combatBacklog['length']=0x58e95^0x58e95;});}endCombat();}else if(enemy['stats']['hp']<(0x4641e^0x4641f)){enemy['stats']["\u0068\u0070"]=0x0;enemyDead=!![];player['kills']++;dungeon['statistics']['kills']++;addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20神魂俱灭!\x20('+new Date(combatSeconds*0x3e8)['toISOString']()['substring'](0x68f3d^0x68f33,0x13)+"\u0029");addCombatLog('你得到了'+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]["\u0065\u0078\u0070"])+".\u9A8C\u7ECF".split("").reverse().join(""));if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("naygniJ".split("").reverse().join(""))){addCombatLog("\u5F97\u83B7\u5916\u989D\u4F60\u4F7F\u3011\u6DF1\u8D44\u3010".split("").reverse().join("")+nFormatter(Math['ceil'](enemy['rewards']['exp']*0.2))+'经验.');}playerExpGain();let _0x555322=0x1;let _0x4dfc66=0x834b1^0x834b0;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("ihsgniL".split("").reverse().join(""))){_0x555322=1.3;}if(player["\u006b\u006c\u006c"]==(0xd7543^0xd7542)){_0x4dfc66=0x2;}addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20掉落了\x20<i\x20class=\x22fa-solid\x20fa-gem\x22\x20style=\x22color:\x20#ff8000;\x22></i>'+nFormatter(enemy['rewards']['gold']*_0x555322*_0x4dfc66)+".\u77F3\u7075 ".split("").reverse().join(""));if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("\u004c\u0069\u006e\u0067\u0073\u0068\u0069")){addCombatLog("\u5F97\u83B7\u5916\u989D\u4F60\u4F7F\u3011\u5E93\u5B9D\u738B\u5E1D\u3010".split("").reverse().join("")+nFormatter(Math['ceil'](enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]["\u0067\u006f\u006c\u0064"]*0.3))+".\u77F3\u7075".split("").reverse().join(""));}player["\u0067\u006f\u006c\u0064"]+=enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x555322*_0x4dfc66;if(player['hardloop']>=(0x802bf^0x802be)){let _0x1a0b37=Math['ceil'](player['hardloop']/0x5);if(Math['floor'](Math['random']()*(0x441f0^0x44194))<=_0x1a0b37+0x1){player['hardloopsign']=player['hardloopsign']+0x1;addCombatLog("\u4f60\u83b7\u5f97\u4e86\u0031\u4e2a\u3010\u82e6\u96be\u8c61\u5f81\u3011");addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了1个【苦难象征】</span>',choices);}}playerLoadStats();if(enemy['rewards']["\u0064\u0072\u006f\u0070"]){createEquipmentPrint("tabmoc".split("").reverse().join(""));}let _0x16243a=0x7fbb6^0x7fbb7;if(player['skills']['includes']("SBX".split("").reverse().join(""))){_0x16243a=1.5;}if(player['cureseLB']==undefined)player["\u0063\u0075\u0072\u0065\u0073\u0065\u004c\u0042"]=0x5f98b^0x5f98b;if(player["\u0072\u0069\u0066\u0074\u004c\u0042"]==undefined)player["\u0072\u0069\u0066\u0074\u004c\u0042"]=0x0;if(player["\u0065\u006d\u0070\u006f\u0072\u004c\u0042"]==undefined)player["\u0065\u006d\u0070\u006f\u0072\u004c\u0042"]=0x0;let _0xf6764f=0x2ec4f^0x2ec4e;if(player['hardloop']>=0x1){_0xf6764f=0x1+Math['ceil'](player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070"]/0x5)/(0x7495e^0x7493a);}if(enemy['class']=='guardian'){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<(0x454e9^0x454eb)*_0x16243a){createEquipmentPrint("tabmoc".split("").reverse().join(""),'XTLB');}else if(Math['floor'](Math['random']()*0x64)<0x3*_0x16243a){createEquipmentPrint("tabmoc".split("").reverse().join(""),"BL".split("").reverse().join(""));}let _0x1eaa50=Math["\u0066\u006c\u006f\u006f\u0072"](enemy["\u006c\u0076\u006c"]/(0x99aa0^0x99aaa));if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<0x6*_0xf6764f){let _0xee9d5b=Math["\u0066\u006c\u006f\u006f\u0072"](_0x1eaa50*randomizeDecimal(0.3,0.6));_0xee9d5b=Math["\u006d\u0061\u0078"](0x1,_0xee9d5b);player['cureseLB']=player['cureseLB']+_0xee9d5b;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0xee9d5b)+".\u7247\u788E\u5B9D\u7075\u5492\u8BC5".split("").reverse().join(""));}if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<0x6*_0xf6764f){let _0x342cf6=Math['floor'](_0x1eaa50*randomizeDecimal(0.1,0.5));_0x342cf6=Math["\u006d\u0061\u0078"](0x1,_0x342cf6);player['riftLB']=player['riftLB']+_0x342cf6;addCombatLog("\u4f60\u627e\u5230\u4e86"+nFormatter(_0x342cf6)+'裂隙灵宝碎片.');}}if(enemy['class']=='sboss'){if(Math['floor'](Math['random']()*0x64)<0x32){if(player['rebirth']==undefined)player['rebirth']=0x0;player['rebirth']=player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]+0x1;addCombatLog('你从这个强大的生物上找到一张【复活卷轴】');}if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<0x1*_0x16243a){createEquipmentPrint('combat','DB');}else if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x2*_0x16243a){createEquipmentPrint("tabmoc".split("").reverse().join(""),"\u005a\u0042");}let _0x4ee0a8=Math['floor'](enemy['lvl']/0x7);if(Math['floor'](Math['random']()*0x64)<(0x58971^0x58976)*_0xf6764f){let _0x436ac6=Math['floor'](_0x4ee0a8*randomizeDecimal(0.2,0.5));_0x436ac6=Math['max'](0xe69a9^0xe69a8,_0x436ac6);player['riftLB']=player['riftLB']+_0x436ac6;addCombatLog('你找到了'+nFormatter(_0x436ac6)+"\u88c2\u9699\u7075\u5b9d\u788e\u7247\u002e");}if(Math['floor'](Math['random']()*0x64)<(0x2635b^0x2635e)*_0xf6764f){let _0x391a67=Math['floor'](_0x4ee0a8*randomizeDecimal(0.1,0.3));_0x391a67=Math['max'](0x1,_0x391a67);player["\u0065\u006d\u0070\u006f\u0072\u004c\u0042"]=player["\u0065\u006d\u0070\u006f\u0072\u004c\u0042"]+_0x391a67;addCombatLog('你找到了'+nFormatter(_0x391a67)+'帝者灵宝碎片.');}}player["\u0073\u0074\u0061\u0074\u0073"]['hp']+=Math['round'](player['stats']['hpMax']*0x14/0x64);playerLoadStats();document['querySelector']("nottuBelttab#".split("").reverse().join(""))["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]("kcilc".split("").reverse().join(""),function(){sfxConfirm['play']();let _0x5c6784=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]('#dungeon-main');_0x5c6784['style']['filter']='brightness(100%)';bgmDungeon["\u0070\u006c\u0061\u0079"]();dungeon['status']['event']=![];combatPanel['style']['display']="\u006e\u006f\u006e\u0065";enemyDead=![];combatBacklog['length']=0x0;});endCombat();}};function getDtype(_0x474555){if(_0x474555=='crit\x20damage')return'暴击';if(_0x474555=='damage')return'普通';return _0x474555;}const playerAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0xf5b57a;let _0x17569f=player['stats']['atk']*(player['stats']['atk']/(player['stats']['atk']+enemy['stats']['def']));let _0x36b1a7=0.9+Math['random']()*0.2;_0x17569f=_0x17569f*_0x36b1a7;let _0x17c072=0x43460^0x43461;let _0x28025e=0x27f64^0x27f65;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Baoji')){_0x17c072=1.7;_0x28025e=0.6;}if(player['skills']['includes']('Gongji')){_0x17c072=0x2997f^0x2997f;_0x28025e=1.3;}if(player['skills']['includes']("SDSZ".split("").reverse().join(""))){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x3465d^0x3465c;player['tempStats']['zsds']=0x1;}if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<player['stats']['critRate']){_0xf5b57a=!![];if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("FZCR".split("").reverse().join(""))){_0xf5b57a=![];dmgtype="egamad".split("").reverse().join("");_0x17569f=Math['round'](_0x17569f*_0x28025e);}else{dmgtype='crit\x20damage';_0x17569f=Math['round'](_0x17569f*_0x17c072*(0x1+player['stats']['critDmg']/(0x81802^0x81866)));if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("\u0042\u0061\u006f\u006a\u0069")){addCombatLog('【狂热之心】使你额外造成'+Math["\u0072\u006f\u0075\u006e\u0064"](_0x17569f*(_0x17c072-0x1)*((0x3de02^0x3de03)+player['stats']['critDmg']/(0x22243^0x22227)))+".\u5BB3\u4F24".split("").reverse().join(""));}}}else{_0xf5b57a=![];dmgtype='damage';_0x17569f=Math['round'](_0x17569f*_0x28025e);if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("ijgnoG".split("").reverse().join(""))){addCombatLog('【仁慈之心】使你额外造成'+Math['round'](_0x17569f*_0x28025e)+'伤害.');}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u0042\u0051\u005a\u004a")){console['log'](player['tempStats']['firstAtk']);if(player['tempStats']['firstAtk']==undefined)player['tempStats']['firstAtk']=0x6f3ce^0x6f3ce;if(player['tempStats']["\u0066\u0069\u0072\u0073\u0074\u0041\u0074\u006b"]==(0xdb4b6^0xdb4b6)){dmgtype='crit\x20damage';_0x17569f=Math['round'](_0x17569f*_0x17c072*0x2*((0x40464^0x40465)+player['stats']['critDmg']/0x64));player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']=0x1;addCombatLog('你激发出【不屈之剑】');}}objectValidation();if(player['skills']['includes']('Remnant\x20Razor')){_0x17569f+=Math['round'](0x8*enemy['stats']['hp']/(0x9f57f^0x9f51b));}if(player['skills']['includes']("lliW s'natiT".split("").reverse().join(""))){_0x17569f+=Math['round']((0xce700^0xce705)*player['stats']['hpMax']/0x64);}if(player['skills']['includes']("\u0044\u0065\u0076\u0061\u0073\u0074\u0061\u0074\u006f\u0072")){_0x17569f=Math['round'](_0x17569f+0x1e*_0x17569f/0x64);}if(player['skills']['includes']('Rampager')){player["\u0062\u0061\u0073\u0065\u0053\u0074\u0061\u0074\u0073"]['atk']+=0x5;objectValidation();player['tempStats']["\u0061\u0074\u006b"]+=0xc4a10^0xc4a15;saveData();}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Blade\x20Dance')){player['baseStats']["\u0061\u0074\u006b\u0053\u0070\u0064"]+=0.3;objectValidation();player['tempStats']['atkSpd']+=0.3;saveData();}if(player['skills']['includes']('Kuaiqidong')){player['baseStats']['atkSpd']-=0.01;objectValidation();player['tempStats']['atkSpd']-=0.01;saveData();}let _0x2c6abb=0x1;if(player['skills']['includes']('Kuangbao')){if(player['stats']['hp']<=player['stats']["\u0068\u0070\u004d\u0061\u0078"]*0.5){addCombatLog("\u4f60\u8eab\u62ab\u3010\u8840\u8863\u3011\u002c\u773c\u76ee\u7329\u7ea2");_0x17569f=Math['ceil'](_0x17569f*1.5);_0x2c6abb=0x2;}}let _0x31e8b8=player['stats']['atkSpd'];_0x31e8b8=_0x31e8b8*_0x2c6abb;let _0x5eca49=0x1;if(player['skills']['includes']('JiyuanXiaoguo')){addCombatLog("\u4f60\u7684\u3010\u996e\u7075\u4e4b\u8eaf\u3011\u6e90\u6e90\u4e0d\u65ad\u7684\u5438\u6536\u5bf9\u65b9\u7684\u6c14\u8840");_0x5eca49=1.3;}if(player['skills']['includes']('Yinxue')){addCombatLog('你的【饮血】源源不断的吸收对方的气血');_0x5eca49=0x2;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("nuhciuH".split("").reverse().join(""))){addCombatLog("!\u53D1\u7115\u5149\u5BB9\u95F4\u77AC\u8F6C\u4F60,\u4F53\u8EAB\u7684\u4F60\u517B\u6ECB\u3011\u672F\u6625\u56DE\u5927\u3010\u7684\u4F60".split("").reverse().join(""));addCombatLog("\u4E86\u590D\u6062".split("").reverse().join("")+Math['ceil'](player['stats']["\u0068\u0070\u004d\u0061\u0078"]*0.02)+"\u8840\u6C14".split("").reverse().join(""));player['stats']['hp']+=Math['ceil'](player['stats']['hpMax']*0.02);}if(player['skills']['includes']("\u0051\u0069\u0078\u0075\u0065\u0048\u0075\u006e")){addCombatLog('你的【气血之魂】加强了攻击的威力!');let _0x56f597=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x56f597<(0xc00d5^0xc0093)){let _0x2ae35b=0x64-_0x56f597;let _0x362886=_0x2ae35b*(0xa0355^0xa0357);_0x17569f+=Math['ceil'](_0x17569f*(_0x362886/0x64));}}if(player['skills']['includes']('Daotian')){if(Math['floor'](Math['random']()*(0x8b1f9^0x8b19d))<0x5){player['bonusStats']['hp']+=Math['ceil'](_0x17569f*0.01);addCombatLog('【盗天】你窃走天地精华!!');}}if(player['skills']['includes']("naitnauL".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<(0x62a8f^0x62a8a)){player['bonusStats']['critRate']+=0.01;addCombatLog('【乱天】你打乱了天序!!');}}if(player['skills']['includes']('Baitian')){if(Math['floor'](Math['random']()*0x64)<0x5){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['def']+=Math['ceil'](_0x17569f*0.01);addCombatLog('【败天】你削减了天时!!');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Lutian')){if(Math['floor'](Math['random']()*(0xa53a0^0xa53c4))<0x1){player['bonusStats']['atk']+=Math["\u0063\u0065\u0069\u006c"](_0x17569f*0.003);addCombatLog('【戮天】你破灭了某处!!');}}if(player['skills']['includes']("naituhZ".split("").reverse().join(""))){if(Math['floor'](Math['random']()*(0xb78d3^0xb78b7))<(0x33061^0x33060)){player['bonusStats']['critDmg']+=0.5;addCombatLog("!!\u5904\u67D0\u4E86\u706D\u8BDB\u4F60\u3011\u5929\u8BDB\u3010".split("").reverse().join(""));}}if(player['skills']['includes']("\u0044\u0061\u0069\u0074\u0069\u0061\u006e")){if(Math['floor'](Math['random']()*0x64)<0x1){_0x17569f=enemy['stats']['hp'];addCombatLog("\u8D25\u5931\u5373\u7ACB\u65B9\u5BF9\u5E03\u5BA3\u3011\u5929\u4EE3\u3010".split("").reverse().join(""));}}if(player['skills']['includes']('Xuanyun')){if(Math['floor'](Math['random']()*0x64)<0xf){enemy['stats']['atk']=Math['floor'](enemy['stats']['atk']-enemy['stats']['atk']*0.05);addCombatLog('你向对方头上猛地一击,对方顿时感觉头晕目眩,浑身无力');}}if(player['skills']['includes']("GdloG".split("").reverse().join(""))){let _0x3abb53=0x51639^0x51638;_0x3abb53=0x1+player['gold']/0x3e8*0.01;_0x17569f=Math['floor'](_0x17569f*_0x3abb53);player["\u0067\u006f\u006c\u0064"]=player['gold']-Math['floor'](_0x17569f*0.09);addCombatLog("\u4f60\u7684\u7075\u77f3\u6e90\u6e90\u4e0d\u65ad\u7684\u5411\u5bf9\u65b9\u7838\u53bb");}if(player['skills']['includes']("GrooP".split("").reverse().join(""))){if(player['gold']<0x3e8){_0x17569f=_0x17569f+(0xa96b3^0xa9681);addCombatLog('穷神祝福你');}}if(player['skills']['includes']('HL')){_0x17569f=Math['floor'](_0x17569f*1.3);if(Math['floor'](Math['random']()*(0x68e89^0x68eed))<0x1e){_0x17569f=0x0;addCombatLog('哎呀,打歪了');}}let _0x2e6828=Math['round'](_0x17569f*_0x5eca49*(player['stats']['vamp']/0x64));if(player['skills']['includes']("\u0054\u0052\u0041")){if(Math['floor'](Math['random']()*0x64)<0xa){enemy['stats']['hp']-=_0x17569f;addCombatLog('--【天人同击】--');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('RCZF')){enemy['stats']['hp']-=_0x17569f;addCombatLog('【仁慈之风】发动了第二次攻击');}if(player['skills']['includes']("\u0044\u0050\u004d\u004a")){_0x17569f=Math['floor'](player['stats']['def']*0.1);addCombatLog('你用你的肚皮攻击');}if(player['skills']['includes']('FX')){if(Math['floor'](Math['random']()*0x64)<0x32){player['stats']["\u0068\u0070"]-=player["\u0073\u0074\u0061\u0074\u0073"]['hp']*0.5;_0x17569f=_0x17569f*0x3;addCombatLog('你放血而击');}}if(player['skills']['includes']('ZJJ')){player['stats']['hp']-=player['stats']['hp']*0.05;if(player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]["\u007a\u006a\u006a"]==undefined)player['tempStats']["\u007a\u006a\u006a"]=0xb015a^0xb015a;player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]["\u007a\u006a\u006a"]=player['tempStats']['zjj']+(0xe130f^0xe130e);let _0x3bb87b=(0x39bf1^0x39bf0)+0.1*player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['zjj'];_0x17569f=_0x17569f*_0x3bb87b;}if(player['skills']['includes']('HLXM')){if(enemy['stats']['hp']-_0x17569f*0x2<=(0xbeb30^0xbeb30)){_0x17569f=_0x17569f*(0x859c6^0x859c4);}}if(player['skills']['includes']("WWXT".split("").reverse().join(""))){if(player['tempStats']["\u0074\u0078\u0077\u0077"]==undefined)player['tempStats']['txww']=0x0;if(Math['floor'](Math['random']()*(0xb44fc^0xb4498))<0xa){let _0x7461e5=Math['floor'](Math['random']()*(0xd6b54^0xd6b57))+(0x390fa^0x390fb);if(_0x7461e5==0x1){player['tempStats']['txww']=0x1;addCombatLog('你进入【玄】');}if(_0x7461e5==0x2){player['tempStats']['txww']=0x2;addCombatLog("\u3011\u6B62\u3010\u5165\u8FDB\u4F60".split("").reverse().join(""));}if(_0x7461e5==0x3){player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['txww']=0x7e632^0x7e631;addCombatLog('你进入【动】');}}}if(player['skills']['includes']("WWXT".split("").reverse().join(""))){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0xc2e6f^0xc2e6f;if(player['tempStats']['txww']==(0xca496^0xca497)){_0x17569f=_0x17569f*0x2;addCombatLog("\u3010\u7384\u3011\u4e4b\u6613\u635f");}if(player['tempStats']['txww']==0x3){enemy['stats']['hp']-=_0x17569f;enemy['stats']['hp']-=_0x17569f;player['tempStats']['txww']=0x0;addCombatLog('你退出【动】');}}enemy['stats']['hp']-=_0x17569f;player["\u0073\u0074\u0061\u0074\u0073"]['hp']+=_0x2e6828;addCombatLog(player['name']+'\x20对\x20\x20'+enemy['name']+'造成了\x20'+nFormatter(_0x17569f)+('\x20'+getDtype(dmgtype)+"\u5BB3\u4F24 ".split("").reverse().join("")));hpValidation();playerLoadStats();enemyLoadStats();let _0x2751e4=document['querySelector']('#enemy-sprite');_0x2751e4['classList']['add']('animation-shake');setTimeout(()=>{_0x2751e4['classList']['remove']("ekahs-noitamina".split("").reverse().join(""));},0xc8);const _0x2955d1=document['querySelector']('#dmg-container');const _0x4b6ca5=document['createElement']('p');_0x4b6ca5['classList']['add']("srebmun-gmd".split("").reverse().join(""));if(_0xf5b57a){_0x4b6ca5['style']['color']='gold';_0x4b6ca5['innerHTML']=nFormatter(_0x17569f)+'!';}else{_0x4b6ca5['innerHTML']=nFormatter(_0x17569f);}_0x2955d1['appendChild'](_0x4b6ca5);setTimeout(()=>{_0x2955d1['removeChild'](_0x2955d1['lastElementChild']);},0x34844^0x34936);if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){playerAttack();}},0x3e8/_0x31e8b8);}};const enemyAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x57da6f=enemy['stats']['atk']*(enemy['stats']['atk']/(enemy['stats']['atk']+player['stats']['def']));let _0x4ed5f8=Math['round'](enemy['stats']['atk']*(enemy['stats']['vamp']/0x64));let _0x2706e0=0.9+Math['random']()*0.2;_0x57da6f=_0x57da6f*_0x2706e0;if(Math['floor'](Math['random']()*0x64)<enemy['stats']['critRate']){if(player['skills']['includes']('ZDKJ')){dmgtype="egamad".split("").reverse().join("");_0x57da6f=Math['round'](_0x57da6f);}else{dmgtype="egamad tirc".split("").reverse().join("");_0x57da6f=Math['round'](_0x57da6f*(0x1+enemy['stats']['critDmg']/(0xd086a^0xd080e)));}}else{dmgtype='damage';_0x57da6f=Math['round'](_0x57da6f);}if(player['skills']['includes']("traeH s'nidalaP".split("").reverse().join(""))){_0x57da6f=Math['round'](_0x57da6f-0x19*_0x57da6f/0x64);}if(player['skills']['includes']("ibnahS".split("").reverse().join(""))){if(Math['floor'](Math['random']()*(0xa707a^0xa701e))<(0x3d31c^0x3d302)){let _0x5ea00f=Math['ceil'](_0x57da6f*0.5);_0x57da6f=0x0;addCombatLog('你于风中隐藏,对方的攻击如同石牛如海');if(Math['floor'](Math['random']()*0x64)<0x28){enemy['stats']['hp']-=_0x5ea00f;addCombatLog("\u53BB\u800C\u98DE\u5012\u7ADF\u52BF\u653B\u7684\u65B9\u5BF9,\u53CD\u5F39\u5F00\u5C55\u4E2D\u98CE\u4E8E\u4F60".split("").reverse().join(""));}}}if(player['skills']['includes']('GoldS')){let _0x5703a9=0x1;_0x5703a9=player['gold']/(0x7a3fd^0x7a015)*0.01;_0x57da6f=Math['max'](0x5b6c2^0x5b6c3,Math['floor'](_0x57da6f*((0x759ec^0x759ed)-_0x5703a9)));player['gold']=player['gold']-Math['floor'](_0x57da6f*0.05);addCombatLog("\u4F60\u7740\u62A4\u5B88\u77F3\u7075\u7684\u4F60".split("").reverse().join(""));}if(player['skills']['includes']("SrooP".split("").reverse().join(""))){if(player['gold']<0x3e8){_0x57da6f=Math['max'](0x1,_0x57da6f-0x1e);addCombatLog('穷神祝福你');}}if(player['skills']['includes']("nafgniJ".split("").reverse().join(""))){let _0x58539b=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x58539b<(0x3c649^0x3c657)){addCombatLog('你的【脆镜反射】反射了同样的伤害回去!');enemy['stats']['hp']-=_0x57da6f;}}if(player['skills']['includes']('ZGQX')){let _0x4ea4fd=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x4ea4fd>(0x6913e^0x6916e)){if(player['stats']['hp']-_0x57da6f<=0x0){_0x57da6f=player['stats']['hp']-0x5;}}}if(player['skills']['includes']('YJSH')){if(Math['floor'](Math['random']()*0x64)<0x63){if(dmgtype=="egamad".split("").reverse().join("")){_0x57da6f=0x0;addCombatLog('你被异界气息笼罩,完全无视了这次攻击');}}_0x57da6f=_0x57da6f*0xa;if(_0x57da6f!=(0x87d64^0x87d64))addCombatLog('你被这个世界排斥!!');}if(player['skills']['includes']("JJCD".split("").reverse().join(""))){if(player['stats']['hp']==player['stats']['hpMax']){_0x57da6f=Math['floor'](_0x57da6f*0.5);addCombatLog('你的【多重坚甲】守护着你');}}if(player['skills']['includes']("DZQB".split("").reverse().join(""))){if(player['tempStats']["\u0066\u0069\u0072\u0073\u0074\u0044\u0065\u0066"]==undefined)player['tempStats']['firstDef']=0x0;if(player['tempStats']['firstDef']==0x0){let _0x3199b7=_0x57da6f;player['stats']['hp']=player['stats']['hp']+_0x3199b7;_0x57da6f=0x0;player['tempStats']['firstDef']=0x1;addCombatLog('你激发出【不屈之盾】');addCombatLog("\u4E86\u5F97\u83B7\u4F60".split("").reverse().join("")+_0x3199b7+"\u7597\u6CBB".split("").reverse().join(""));}}if(player['skills']['includes']('CZJS')){if(player['tempStats']['czjs']==undefined)player['tempStats']['czjs']=0x8e8f5^0x8e8f5;if(player['stats']['hp']-_0x57da6f<=0x0){_0x57da6f=0x0;if(player['tempStats']['czjs']==(0xaa97e^0xaa97e)){player['stats']['hp']=player['stats']['hpMax'];player['tempStats']['czjs']=0x1;addCombatLog('你拒绝了死亡');}}}if(player['skills']['includes']("SDSZ".split("").reverse().join(""))){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x0;if(player['tempStats']['zsds']==0x0){enemy['stats']['hp']-=_0x57da6f/0x2;_0x57da6f=0xb354d^0xb354d;player['tempStats']['zsds']=0x1;addCombatLog("\u6548\u65E0\u3011\u5E08\u5927\u672F\u6218\u3010\u5BF9\u8FD9".split("").reverse().join(""));}}if(player['skills']['includes']("WWXT".split("").reverse().join(""))){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x6a732^0x6a732;if(player['tempStats']['txww']==0x1){_0x57da6f=_0x57da6f*0x2;addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==0x2){_0x57da6f=Math['floor'](_0x57da6f*0.7);player['tempStats']['txww']=0xbcab1^0xbcab1;addCombatLog("\u6C34\u3011\u6B62\u3010\u5982\u5FC3".split("").reverse().join(""));}}player['stats']['hp']-=_0x57da6f;objectValidation();if(player['skills']['includes']("snrohT sigeA".split("").reverse().join(""))){enemy['stats']['hp']-=Math['round']((0xc89c2^0xc89cd)*_0x57da6f/0x64);}if(player['skills']['includes']('Neigui')){if(Math['floor'](Math['random']()*0x64)<(0x27afa^0x27af0)){enemy['stats']['hp']-=_0x57da6f;addCombatLog("\u6613\u4EA4\u6B62\u4E2D,\u9B3C\u5185\u6709".split("").reverse().join(""));}}enemy['stats']['hp']+=_0x4ed5f8;addCombatLog(enemy['name']+'\x20对\x20'+player['name']+'\x20造成了'+nFormatter(_0x57da6f)+('\x20'+getDtype(dmgtype)+"\u5BB3\u4F24 ".split("").reverse().join("")));hpValidation();playerLoadStats();enemyLoadStats();let _0x11d76d=document['querySelector']('#playerPanel');_0x11d76d['classList']['add']('animation-shake');setTimeout(()=>{_0x11d76d['classList']['remove']('animation-shake');},0xc07e2^0xc072a);let _0x3f35dc=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x3f35dc=Math['max'](0.1,player['stats']['atkSpd']-0.1);addCombatLog('敌人被震撼着');}}if(player['skills']['includes']("YMJY".split("").reverse().join(""))){player['stats']['atkSpd']=player['stats']['atkSpd']-0.05;_0x3f35dc=enemy['stats']['atkSpd'];addCombatLog('敌人被你的棉衣纠缠住了!');}if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){enemyAttack();}},0x3e8/_0x3f35dc);}};const combatBacklog=[];const addCombatLog=_0x1f4928=>{combatBacklog['push'](_0x1f4928);updateCombatLog();};const updateCombatLog=()=>{let _0x2d1395=document['getElementById']('combatLogBox');_0x2d1395['innerHTML']='';for(let _0x355221 of combatBacklog){let _0x5fe229=document['createElement']('p');_0x5fe229['innerHTML']=_0x355221;_0x2d1395['appendChild'](_0x5fe229);}if(enemyDead){let _0x56d1d0=document['createElement']('div');_0x56d1d0['className']='decision-panel';_0x56d1d0['innerHTML']='<button\x20id=\x22battleButton\x22>知道了</button>';_0x2d1395['appendChild'](_0x56d1d0);}if(playerDead){let _0x4c08c3=document['createElement']('div');_0x4c08c3['className']='decision-panel';_0x4c08c3['innerHTML']='<button\x20id=\x22battleButton\x22>回到菜单</button>';_0x2d1395['appendChild'](_0x4c08c3);}_0x2d1395['scrollTop']=_0x2d1395['scrollHeight'];};let combatSeconds=0x0;const startCombat=_0x2b096e=>{bgmDungeon['pause']();sfxEncounter['play']();_0x2b096e['play']();player['inCombat']=!![];let _0x24b558=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x24b558=Math['max'](0.1,player['stats']['atkSpd']-0.1);}}setTimeout(playerAttack,0x3e8/player['stats']['atkSpd']);setTimeout(enemyAttack,0x3e8/_0x24b558);let _0x4f5100=document['querySelector']('#dungeon-main');_0x4f5100['style']['filter']='brightness(50%)';playerLoadStats();enemyLoadStats();dungeon['status']['event']=!![];combatPanel['style']['display']="xelf".split("").reverse().join("");combatTimer=setInterval(combatCounter,0x5a9a9^0x5aa41);};const endCombat=()=>{bgmBattleMain['stop']();bgmBattleGuardian['stop']();bgmBattleBoss['stop']();sfxCombatEnd['play']();player['inCombat']=![];if(player['skills']['includes']("regapmaR".split("").reverse().join(""))){objectValidation();player['baseStats']['atk']-=player['tempStats']['atk'];player['tempStats']['atk']=0x26e57^0x26e57;saveData();}if(player['skills']['includes']("ecnaD edalB".split("").reverse().join(""))){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('Kuaiqidong')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('BQZJ')){objectValidation();player['tempStats']['firstAtk']=0x37a48^0x37a48;saveData();}if(player['skills']['includes']('BQZD')){objectValidation();player['tempStats']['firstDef']=0x0;saveData();}if(player['skills']['includes']("SJZC".split("").reverse().join(""))){objectValidation();player['tempStats']['czjs']=0x0;saveData();}if(player['skills']['includes']('ZJJ')){objectValidation();player['tempStats']['zjj']=0x0;saveData();}if(player['skills']['includes']('ZSDS')){objectValidation();player['tempStats']['zsds']=0x0;saveData();}if(player['skills']['includes']('TXWW')){objectValidation();player['tempStats']['txww']=0x0;saveData();}clearInterval(combatTimer);combatSeconds=0x0;};const combatCounter=()=>{combatSeconds++;};const showCombatInfo=()=>{document['querySelector']('#combatPanel')['innerHTML']='\x0a\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20center\x22\x20id=\x22enemyPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+enemy['name']+".vL ".split("").reverse().join("")+enemy['lvl']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20hp\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22enemy-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22enemy-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(enemy['stats']['hp'])+'/'+nFormatter(enemy['stats']['hpMax'])+'<br>('+enemy['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dmg-container\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/sprites/'+enemy['image']['name']+enemy['image']['type']+'\x22\x20alt=\x22'+enemy['name']+'\x22\x20width=\x22'+enemy['image']['size']+'\x22\x20id=\x22enemy-sprite\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20primary-panel\x22\x20id=\x22playerPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22player-combat-info\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22player-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22player-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(player['stats']['hp'])+'/'+nFormatter(player['stats']['hpMax'])+'('+player['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-xb\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-xb\x22\x20id=\x22player-exp-bar\x22>exp</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22logBox\x20primary-panel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22combatLogBox\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';};