const combatPanel=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("lenaPtabmoc#".split("").reverse().join(""));let enemyDead=![];let playerDead=![];const hpValidation=()=>{if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]<(0xa4465^0xa4464)){if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==undefined)player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=0x1fb7f^0x1fb7f;if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==(0xbd091^0xbd091)){player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0xb79e7^0xb79e7;playerDead=!![];player["\u0064\u0065\u0061\u0074\u0068\u0073"]++;if(player['bank']==undefined)player['bank']=0x19320^0x19320;player['bank']=player['bank']+Math["\u0063\u0065\u0069\u006c"](player["\u0067\u006f\u006c\u0064"]*0.3);player['gold']=0x6c5b6^0x6c5b6;addCombatLog("!\u4E86\u6B7B\u4F60".split("").reverse().join(""));addCombatLog("\u5E84\u94B1\u4E86\u5165\u5B58\u52A8\u81EA\u77F3\u7075\u7684%03".split("").reverse().join(""));document['querySelector']('#battleButton')["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]("\u0063\u006c\u0069\u0063\u006b",function(){sfxConfirm['play']();playerDead=![];let _0x4d408b=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]('#dungeon-main');_0x4d408b["\u0073\u0074\u0079\u006c\u0065"]["\u0066\u0069\u006c\u0074\u0065\u0072"]=")%001(ssenthgirb".split("").reverse().join("");_0x4d408b['style']["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="enon".split("").reverse().join("");combatPanel["\u0073\u0074\u0079\u006c\u0065"]["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="enon".split("").reverse().join("");runLoad("neercs-eltit".split("").reverse().join(""),"xelf".split("").reverse().join(""));clearInterval(dungeonTimer);clearInterval(playTimer);progressReset();});}else{enemyDead=!![];player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070\u004d\u0061\u0078"];addCombatLog("\u5929\u751F\u51FA\u9003\u3011\u8F74\u5377\u6D3B\u590D\u3010\u5F20\u4E00\u8017\u6D88\u4F60".split("").reverse().join(""));player['rebirth']=player['rebirth']-(0x86cab^0x86caa);document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("nottuBelttab#".split("").reverse().join(""))['addEventListener']("\u0063\u006c\u0069\u0063\u006b",function(){sfxConfirm["\u0070\u006c\u0061\u0079"]();let _0x31fb0e=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("\u0023\u0064\u0075\u006e\u0067\u0065\u006f\u006e\u002d\u006d\u0061\u0069\u006e");_0x31fb0e["\u0073\u0074\u0079\u006c\u0065"]["\u0066\u0069\u006c\u0074\u0065\u0072"]='brightness(100%)';bgmDungeon['play']();dungeon['status']['event']=![];combatPanel["\u0073\u0074\u0079\u006c\u0065"]['display']="\u006e\u006f\u006e\u0065";enemyDead=![];combatBacklog['length']=0xad59d^0xad59d;});}endCombat();}else if(enemy['stats']["\u0068\u0070"]<(0xe8d3c^0xe8d3d)){enemy['stats']["\u0068\u0070"]=0x0;enemyDead=!![];player["\u006b\u0069\u006c\u006c\u0073"]++;dungeon['statistics']['kills']++;addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20神魂俱灭!\x20('+new Date(combatSeconds*(0x1981b^0x19bf3))['toISOString']()["\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006e\u0067"](0x9dedb^0x9ded5,0x720e7^0x720f4)+')');addCombatLog("\u4f60\u5f97\u5230\u4e86"+nFormatter(enemy['rewards']['exp'])+'经验.');if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("naygniJ".split("").reverse().join(""))){addCombatLog("\u5F97\u83B7\u5916\u989D\u4F60\u4F7F\u3011\u6DF1\u8D44\u3010".split("").reverse().join("")+nFormatter(Math["\u0063\u0065\u0069\u006c"](enemy['rewards']["\u0065\u0078\u0070"]*0.2))+'经验.');}playerExpGain();let _0x584805=0xe0369^0xe0368;let _0x395414=0x6520e^0x6520f;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("ihsgniL".split("").reverse().join(""))){_0x584805=1.3;}if(player['kll']==(0xd9544^0xd9545)){_0x395414=0xb5211^0xb5213;}addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20掉落了\x20<i\x20class=\x22fa-solid\x20fa-gem\x22\x20style=\x22color:\x20#ff8000;\x22></i>'+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x584805*_0x395414)+'\x20灵石.');if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("ihsgniL".split("").reverse().join(""))){addCombatLog('【帝王宝库】使你额外获得'+nFormatter(Math["\u0063\u0065\u0069\u006c"](enemy['rewards']['gold']*0.3))+".\u77F3\u7075".split("").reverse().join(""));}player["\u0067\u006f\u006c\u0064"]+=enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x584805*_0x395414;if(player['hardloop']>=0x1){let _0x268181=player['hardloop'];if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<=_0x268181+0x1){player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070\u0073\u0069\u0067\u006e"]=player['hardloopsign']+0x1;addCombatLog('你获得了1个【苦难象征】');addDungeonLog(">naps/<\u3011\u5F81\u8C61\u96BE\u82E6\u3010\u4E2A1\u4E86\u5F97\u83B7\u4F60>\"yradnegeL\"=ssalc naps<".split("").reverse().join(""),choices);}}playerLoadStats();if(enemy['rewards']['drop']){createEquipmentPrint('combat');}let _0x92229d=0x96589^0x96588;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("SBX".split("").reverse().join(""))){_0x92229d=1.5;}if(player['cureseLB']==undefined)player["\u0063\u0075\u0072\u0065\u0073\u0065\u004c\u0042"]=0x0;if(player["\u0072\u0069\u0066\u0074\u004c\u0042"]==undefined)player["\u0072\u0069\u0066\u0074\u004c\u0042"]=0x0;if(player['emporLB']==undefined)player["\u0065\u006d\u0070\u006f\u0072\u004c\u0042"]=0x504ef^0x504ef;let _0x3b111b=0x1;if(player['hardloop']>=0x1){_0x3b111b=0x1+Math["\u0063\u0065\u0069\u006c"](player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070"]/(0x4267e^0x4267b))/(0xa1167^0xa1103);}if(enemy["\u0063\u006c\u0061\u0073\u0073"]=="\u0067\u0075\u0061\u0072\u0064\u0069\u0061\u006e"){if(Math['floor'](Math['random']()*(0x4a1d1^0x4a1b5))<0x2*_0x92229d){createEquipmentPrint('combat','XTLB');}else if(Math['floor'](Math['random']()*0x64)<0x3*_0x92229d){createEquipmentPrint('combat','LB');}let _0x241bda=Math['floor'](enemy['lvl']/(0x85a1f^0x85a15));if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0x265f9^0x2659d))<0x6*_0x3b111b){let _0x11b4ab=Math['floor'](_0x241bda*randomizeDecimal(0.3,0.6));_0x11b4ab=Math['max'](0x60261^0x60260,_0x11b4ab);player['cureseLB']=player['cureseLB']+_0x11b4ab;addCombatLog('你找到了'+nFormatter(_0x11b4ab)+'诅咒灵宝碎片.');}if(Math["\u0066\u006c\u006f\u006f\u0072"](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x6*_0x3b111b){let _0x38c09c=Math['floor'](_0x241bda*randomizeDecimal(0.1,0.5));_0x38c09c=Math['max'](0xbf6cc^0xbf6cd,_0x38c09c);player['riftLB']=player['riftLB']+_0x38c09c;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x38c09c)+".\u7247\u788E\u5B9D\u7075\u9699\u88C2".split("").reverse().join(""));}}if(enemy['class']=='sboss'){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<(0xef229^0xef21b)){if(player['rebirth']==undefined)player['rebirth']=0xd7143^0xd7143;player['rebirth']=player['rebirth']+(0xd8a94^0xd8a95);addCombatLog('你从这个强大的生物上找到一张【复活卷轴】');}if(Math['floor'](Math['random']()*(0x51a84^0x51ae0))<0x1*_0x92229d){createEquipmentPrint('combat','DB');}else if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0x29025^0x29041))<(0xb1158^0xb115a)*_0x92229d){createEquipmentPrint('combat','ZB');}let _0x4f8aca=Math['floor'](enemy['lvl']/(0x77ac2^0x77ac5));if(Math['floor'](Math['random']()*0x64)<0x7*_0x3b111b){let _0x41c435=Math['floor'](_0x4f8aca*randomizeDecimal(0.2,0.5));_0x41c435=Math['max'](0xec56d^0xec56c,_0x41c435);player["\u0072\u0069\u0066\u0074\u004c\u0042"]=player['riftLB']+_0x41c435;addCombatLog("\u4f60\u627e\u5230\u4e86"+nFormatter(_0x41c435)+'裂隙灵宝碎片.');}if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<(0x6b14b^0x6b14e)*_0x3b111b){let _0x545106=Math['floor'](_0x4f8aca*randomizeDecimal(0.1,0.3));_0x545106=Math['max'](0x1,_0x545106);player['emporLB']=player['emporLB']+_0x545106;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x545106)+'帝者灵宝碎片.');}}player['stats']['hp']+=Math['round'](player['stats']['hpMax']*0x14/(0x95548^0x9552c));playerLoadStats();document['querySelector']('#battleButton')['addEventListener']('click',function(){sfxConfirm["\u0070\u006c\u0061\u0079"]();let _0x53e379=document['querySelector']("niam-noegnud#".split("").reverse().join(""));_0x53e379['style']['filter']=")%001(ssenthgirb".split("").reverse().join("");bgmDungeon['play']();dungeon['status']['event']=![];combatPanel['style']['display']="enon".split("").reverse().join("");enemyDead=![];combatBacklog['length']=0x0;});endCombat();}};function getDtype(_0x229fd5){if(_0x229fd5=='crit\x20damage')return'暴击';if(_0x229fd5=='damage')return'普通';return _0x229fd5;}const playerAttack=()=>{if(!player['inCombat']){return;}if(player["\u0069\u006e\u0043\u006f\u006d\u0062\u0061\u0074"]){sfxAttack['play']();}let _0x3c58ca;let _0x50e464=player['stats']['atk']*(player["\u0073\u0074\u0061\u0074\u0073"]['atk']/(player['stats']["\u0061\u0074\u006b"]+enemy['stats']['def']));let _0x18a449=0.9+Math['random']()*0.2;_0x50e464=_0x50e464*_0x18a449;let _0x7c6800=0x1;let _0x4685c6=0x1;if(player['skills']['includes']("\u0042\u0061\u006f\u006a\u0069")){_0x7c6800=1.7;_0x4685c6=0.6;}if(player['skills']['includes']('Gongji')){_0x7c6800=0xdb91d^0xdb91d;_0x4685c6=1.3;}if(player['skills']['includes']('ZSDS')){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x1;player['tempStats']['zsds']=0x1;}if(Math['floor'](Math['random']()*0x64)<player['stats']['critRate']){_0x3c58ca=!![];if(player['skills']['includes']("FZCR".split("").reverse().join(""))){_0x3c58ca=![];dmgtype='damage';_0x50e464=Math['round'](_0x50e464*_0x4685c6);}else{dmgtype='crit\x20damage';_0x50e464=Math['round'](_0x50e464*_0x7c6800*(0x1+player['stats']['critDmg']/0x64));if(player['skills']['includes']("ijoaB".split("").reverse().join(""))){addCombatLog("\u6210\u9020\u5916\u989D\u4F60\u4F7F\u3011\u5FC3\u4E4B\u70ED\u72C2\u3010".split("").reverse().join("")+Math['round'](_0x50e464*(_0x7c6800-0x1)*((0xf13aa^0xf13ab)+player['stats']['critDmg']/0x64))+'伤害.');}}}else{_0x3c58ca=![];dmgtype="egamad".split("").reverse().join("");_0x50e464=Math['round'](_0x50e464*_0x4685c6);if(player['skills']['includes']('Gongji')){addCombatLog("\u6210\u9020\u5916\u989D\u4F60\u4F7F\u3011\u5FC3\u4E4B\u6148\u4EC1\u3010".split("").reverse().join("")+Math["\u0072\u006f\u0075\u006e\u0064"](_0x50e464*_0x4685c6)+".\u5BB3\u4F24".split("").reverse().join(""));}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("JZQB".split("").reverse().join(""))){console["\u006c\u006f\u0067"](player['tempStats']['firstAtk']);if(player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']==undefined)player['tempStats']['firstAtk']=0xbf6c6^0xbf6c6;if(player['tempStats']['firstAtk']==(0x6cf29^0x6cf29)){dmgtype='crit\x20damage';_0x50e464=Math['round'](_0x50e464*_0x7c6800*(0xb6453^0xb6451)*(0x1+player["\u0073\u0074\u0061\u0074\u0073"]['critDmg']/0x64));player['tempStats']['firstAtk']=0xec8d7^0xec8d6;addCombatLog("\u3011\u5251\u4E4B\u5C48\u4E0D\u3010\u51FA\u53D1\u6FC0\u4F60".split("").reverse().join(""));}}objectValidation();if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("rozaR tnanmeR".split("").reverse().join(""))){_0x50e464+=Math['round']((0x7f18c^0x7f184)*enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']/0x64);}if(player['skills']['includes']('Titan\x27s\x20Will')){_0x50e464+=Math['round'](0x5*player["\u0073\u0074\u0061\u0074\u0073"]['hpMax']/(0x18b50^0x18b34));}if(player['skills']['includes']("rotatsaveD".split("").reverse().join(""))){_0x50e464=Math['round'](_0x50e464+(0x78594^0x7858a)*_0x50e464/(0x3f1c0^0x3f1a4));}if(player['skills']['includes']('Rampager')){player['baseStats']['atk']+=0x5;objectValidation();player['tempStats']['atk']+=0x5;saveData();}if(player['skills']['includes']("ecnaD edalB".split("").reverse().join(""))){player['baseStats']['atkSpd']+=0.3;objectValidation();player['tempStats']['atkSpd']+=0.3;saveData();}if(player['skills']['includes']('Kuaiqidong')){player["\u0062\u0061\u0073\u0065\u0053\u0074\u0061\u0074\u0073"]['atkSpd']-=0.01;objectValidation();player['tempStats']["\u0061\u0074\u006b\u0053\u0070\u0064"]-=0.01;saveData();}let _0xd945ee=0xb4cef^0xb4cee;if(player['skills']['includes']('Kuangbao')){if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]<=player['stats']['hpMax']*0.5){addCombatLog('你身披【血衣】,眼目猩红');_0x50e464=Math["\u0063\u0065\u0069\u006c"](_0x50e464*1.5);_0xd945ee=0x99077^0x99075;}}let _0x203968=player['stats']['atkSpd'];_0x203968=_0x203968*_0xd945ee;let _0x4c3c3e=0xbbc0e^0xbbc0f;if(player['skills']['includes']("\u004a\u0069\u0079\u0075\u0061\u006e\u0058\u0069\u0061\u006f\u0067\u0075\u006f")){addCombatLog("\u8840\u6C14\u7684\u65B9\u5BF9\u6536\u5438\u7684\u65AD\u4E0D\u6E90\u6E90\u3011\u8EAF\u4E4B\u7075\u996E\u3010\u7684\u4F60".split("").reverse().join(""));_0x4c3c3e=1.3;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Yinxue')){addCombatLog("\u8840\u6C14\u7684\u65B9\u5BF9\u6536\u5438\u7684\u65AD\u4E0D\u6E90\u6E90\u3011\u8840\u996E\u3010\u7684\u4F60".split("").reverse().join(""));_0x4c3c3e=0x2;}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Huichun')){addCombatLog('你的【大回春术】滋养你的身体,你转瞬间容光焕发!');addCombatLog('恢复了'+Math['ceil'](player['stats']['hpMax']*0.02)+'气血');player['stats']['hp']+=Math['ceil'](player['stats']['hpMax']*0.02);}if(player['skills']['includes']("nuHeuxiQ".split("").reverse().join(""))){addCombatLog('你的【气血之魂】加强了攻击的威力!');let _0x454976=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x454976<0x46){let _0xda9af5=(0x3131a^0x3137e)-_0x454976;let _0x57a18b=_0xda9af5*0x2;_0x50e464+=Math['ceil'](_0x50e464*(_0x57a18b/(0x9335b^0x9333f)));}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Daotian')){if(Math['floor'](Math['random']()*(0x80728^0x8074c))<(0x8a76b^0x8a76e)){player['bonusStats']["\u0068\u0070"]+=Math['ceil'](_0x50e464*0.01);addCombatLog('【盗天】你窃走天地精华!!');}}if(player['skills']['includes']("naitnauL".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<(0x9fc53^0x9fc56)){player['bonusStats']['critRate']+=0.01;addCombatLog('【乱天】你打乱了天序!!');}}if(player['skills']['includes']("\u0042\u0061\u0069\u0074\u0069\u0061\u006e")){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x5){player['bonusStats']["\u0064\u0065\u0066"]+=Math['ceil'](_0x50e464*0.01);addCombatLog("!!\u65F6\u5929\u4E86\u51CF\u524A\u4F60\u3011\u5929\u8D25\u3010".split("").reverse().join(""));}}if(player['skills']['includes']("naituL".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0x1){player['bonusStats']['atk']+=Math['ceil'](_0x50e464*0.003);addCombatLog('【戮天】你破灭了某处!!');}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("naituhZ".split("").reverse().join(""))){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<(0xe967f^0xe967e)){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['critDmg']+=0.5;addCombatLog("!!\u5904\u67D0\u4E86\u706D\u8BDB\u4F60\u3011\u5929\u8BDB\u3010".split("").reverse().join(""));}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Daitian')){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x1){_0x50e464=enemy['stats']['hp'];addCombatLog("\u3010\u4ee3\u5929\u3011\u5ba3\u5e03\u5bf9\u65b9\u7acb\u5373\u5931\u8d25");}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Xuanyun')){if(Math['floor'](Math['random']()*(0xa904d^0xa9029))<0xf){enemy["\u0073\u0074\u0061\u0074\u0073"]['atk']=Math['floor'](enemy['stats']['atk']-enemy["\u0073\u0074\u0061\u0074\u0073"]['atk']*0.05);addCombatLog('你向对方头上猛地一击,对方顿时感觉头晕目眩,浑身无力');}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("GdloG".split("").reverse().join(""))){let _0x3a10a9=0x98fed^0x98fec;_0x3a10a9=0x1+player['gold']/(0xa1602^0xa15ea)*0.01;_0x50e464=Math['floor'](_0x50e464*_0x3a10a9);player['gold']=player['gold']-Math['floor'](_0x50e464*0.09);addCombatLog('你的灵石源源不断的向对方砸去');}if(player['skills']['includes']('PoorG')){if(player['gold']<0x3e8){_0x50e464=_0x50e464+(0x6d812^0x6d820);addCombatLog("\u7a77\u795e\u795d\u798f\u4f60");}}if(player['skills']['includes']('HL')){_0x50e464=Math['floor'](_0x50e464*1.3);if(Math['floor'](Math['random']()*(0x6688e^0x668ea))<0x1e){_0x50e464=0xf204d^0xf204d;addCombatLog("\u4E86\u6B6A\u6253,\u5440\u54CE".split("").reverse().join(""));}}let _0x43d954=Math['round'](_0x50e464*_0x4c3c3e*(player['stats']['vamp']/(0x2f3e5^0x2f381)));if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('TRA')){if(Math['floor'](Math['random']()*(0x450b5^0x450d1))<0xa){enemy['stats']['hp']-=_0x50e464;addCombatLog('--【天人同击】--');}}if(player['skills']['includes']("FZCR".split("").reverse().join(""))){enemy['stats']["\u0068\u0070"]-=_0x50e464;addCombatLog("\u51FB\u653B\u6B21\u4E8C\u7B2C\u4E86\u52A8\u53D1\u3011\u98CE\u4E4B\u6148\u4EC1\u3010".split("").reverse().join(""));}if(player['skills']['includes']("\u0044\u0050\u004d\u004a")){_0x50e464=Math['floor'](player['stats']["\u0064\u0065\u0066"]*0.1);addCombatLog("\u51FB\u653B\u76AE\u809A\u7684\u4F60\u7528\u4F60".split("").reverse().join(""));}if(player['skills']['includes']("\u0046\u0058")){if(Math['floor'](Math['random']()*0x64)<(0x45244^0x45276)){player['stats']['hp']-=player['stats']['hp']*0.5;_0x50e464=_0x50e464*(0x4f2dd^0x4f2de);addCombatLog('你放血而击');}}if(player['skills']['includes']("JJZ".split("").reverse().join(""))){player['stats']['hp']-=player['stats']['hp']*0.05;if(player['tempStats']['zjj']==undefined)player['tempStats']['zjj']=0x0;player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['zjj']=player['tempStats']['zjj']+0x1;let _0x4cfc92=0x1+0.1*player['tempStats']['zjj'];_0x50e464=_0x50e464*_0x4cfc92;}if(player['skills']['includes']("MXLH".split("").reverse().join(""))){if(enemy['stats']['hp']-_0x50e464*0x2<=0x0){_0x50e464=_0x50e464*0x2;}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(Math['floor'](Math['random']()*(0x6d52d^0x6d549))<(0x38b2f^0x38b25)){let _0x54d28e=Math['floor'](Math['random']()*(0x4953d^0x4953e))+0x1;if(_0x54d28e==(0x6939f^0x6939e)){player['tempStats']['txww']=0x504d1^0x504d0;addCombatLog('你进入【玄】');}if(_0x54d28e==(0x25a96^0x25a94)){player['tempStats']['txww']=0x30810^0x30812;addCombatLog('你进入【止】');}if(_0x54d28e==0x3){player['tempStats']['txww']=0x3;addCombatLog('你进入【动】');}}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x50e464=_0x50e464*0x2;addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==(0x462c1^0x462c2)){enemy['stats']['hp']-=_0x50e464;enemy['stats']['hp']-=_0x50e464;player['tempStats']['txww']=0x0;addCombatLog("\u3011\u52A8\u3010\u51FA\u9000\u4F60".split("").reverse().join(""));}}enemy['stats']['hp']-=_0x50e464;player["\u0073\u0074\u0061\u0074\u0073"]['hp']+=_0x43d954;addCombatLog(player['name']+'\x20对\x20\x20'+enemy['name']+" \u4E86\u6210\u9020".split("").reverse().join("")+nFormatter(_0x50e464)+('\x20'+getDtype(dmgtype)+"\u5BB3\u4F24 ".split("").reverse().join("")));hpValidation();playerLoadStats();enemyLoadStats();let _0x27429f=document['querySelector']('#enemy-sprite');_0x27429f['classList']['add']('animation-shake');setTimeout(()=>{_0x27429f['classList']['remove']("ekahs-noitamina".split("").reverse().join(""));},0xa6f53^0xa6f9b);const _0x3e938b=document['querySelector']('#dmg-container');const _0x5a07f0=document['createElement']('p');_0x5a07f0['classList']['add']('dmg-numbers');if(_0x3c58ca){_0x5a07f0['style']['color']='gold';_0x5a07f0['innerHTML']=nFormatter(_0x50e464)+'!';}else{_0x5a07f0['innerHTML']=nFormatter(_0x50e464);}_0x3e938b['appendChild'](_0x5a07f0);setTimeout(()=>{_0x3e938b['removeChild'](_0x3e938b['lastElementChild']);},0xa4abc^0xa4bce);if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){playerAttack();}},0x3e8/_0x203968);}};const enemyAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x38838a=enemy['stats']['atk']*(enemy['stats']['atk']/(enemy['stats']['atk']+player['stats']['def']));let _0x2b8ea3=Math['round'](enemy['stats']['atk']*(enemy['stats']['vamp']/0x64));let _0x4549b2=0.9+Math['random']()*0.2;_0x38838a=_0x38838a*_0x4549b2;if(Math['floor'](Math['random']()*(0xe2fad^0xe2fc9))<enemy['stats']['critRate']){if(player['skills']['includes']('ZDKJ')){dmgtype="egamad".split("").reverse().join("");_0x38838a=Math['round'](_0x38838a);}else{dmgtype="egamad tirc".split("").reverse().join("");_0x38838a=Math['round'](_0x38838a*(0x1+enemy['stats']['critDmg']/0x64));}}else{dmgtype='damage';_0x38838a=Math['round'](_0x38838a);}if(player['skills']['includes']('Paladin\x27s\x20Heart')){_0x38838a=Math['round'](_0x38838a-0x19*_0x38838a/0x64);}if(player['skills']['includes']("ibnahS".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0x1e){let _0x5c3f19=Math['ceil'](_0x38838a*0.5);_0x38838a=0x0;addCombatLog("\u6D77\u5982\u725B\u77F3\u540C\u5982\u51FB\u653B\u7684\u65B9\u5BF9,\u85CF\u9690\u4E2D\u98CE\u4E8E\u4F60".split("").reverse().join(""));if(Math['floor'](Math['random']()*(0x24ec1^0x24ea5))<0x28){enemy['stats']['hp']-=_0x5c3f19;addCombatLog('你于风中展开弹反,对方的攻势竟倒飞而去');}}}if(player['skills']['includes']("SdloG".split("").reverse().join(""))){let _0x53de5a=0x74274^0x74275;_0x53de5a=player['gold']/(0x76c1f^0x76ff7)*0.01;_0x38838a=Math['max'](0xcf140^0xcf141,Math['floor'](_0x38838a*((0xa061c^0xa061d)-_0x53de5a)));player['gold']=player['gold']-Math['floor'](_0x38838a*0.05);addCombatLog("\u4F60\u7740\u62A4\u5B88\u77F3\u7075\u7684\u4F60".split("").reverse().join(""));}if(player['skills']['includes']('PoorS')){if(player['gold']<0x3e8){_0x38838a=Math['max'](0x1,_0x38838a-0x1e);addCombatLog('穷神祝福你');}}if(player['skills']['includes']("nafgniJ".split("").reverse().join(""))){let _0x5a2484=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x5a2484<(0x1c6b2^0x1c6ac)){addCombatLog('你的【脆镜反射】反射了同样的伤害回去!');enemy['stats']['hp']-=_0x38838a;}}if(player['skills']['includes']('ZGQX')){let _0x3d2edb=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x3d2edb>0x50){if(player['stats']['hp']-_0x38838a<=(0x99700^0x99700)){_0x38838a=player['stats']['hp']-0x5;}}}if(player['skills']['includes']('YJSH')){if(Math['floor'](Math['random']()*(0x55aaa^0x55ace))<(0x34130^0x34153)){if(dmgtype=='damage'){_0x38838a=0x0;addCombatLog('你被异界气息笼罩,完全无视了这次攻击');}}_0x38838a=_0x38838a*0xa;if(_0x38838a!=0x0)addCombatLog("!!\u65A5\u6392\u754C\u4E16\u4E2A\u8FD9\u88AB\u4F60".split("").reverse().join(""));}if(player['skills']['includes']("JJCD".split("").reverse().join(""))){if(player['stats']['hp']==player['stats']['hpMax']){_0x38838a=Math['floor'](_0x38838a*0.5);addCombatLog("\u4F60\u7740\u62A4\u5B88\u3011\u7532\u575A\u91CD\u591A\u3010\u7684\u4F60".split("").reverse().join(""));}}if(player['skills']['includes']('BQZD')){if(player['tempStats']['firstDef']==undefined)player['tempStats']['firstDef']=0x0;if(player['tempStats']['firstDef']==0x0){let _0x24262a=_0x38838a;player['stats']['hp']=player['stats']['hp']+_0x24262a;_0x38838a=0x0;player['tempStats']['firstDef']=0x1;addCombatLog('你激发出【不屈之盾】');addCombatLog("\u4E86\u5F97\u83B7\u4F60".split("").reverse().join("")+_0x24262a+'治疗');}}if(player['skills']['includes']("SJZC".split("").reverse().join(""))){if(player['tempStats']['czjs']==undefined)player['tempStats']['czjs']=0x0;if(player['stats']['hp']-_0x38838a<=0x0){_0x38838a=0x0;if(player['tempStats']['czjs']==0x0){player['stats']["\u0068\u0070"]=player['stats']['hpMax'];player['tempStats']['czjs']=0x1;addCombatLog('你拒绝了死亡');}}}if(player['skills']['includes']("SDSZ".split("").reverse().join(""))){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x0;if(player['tempStats']['zsds']==0x0){enemy['stats']['hp']-=_0x38838a/0x2;_0x38838a=0x0;player['tempStats']['zsds']=0x1;addCombatLog('这对【战术大师】无效');}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x38838a=_0x38838a*0x2;addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==0x2){_0x38838a=Math['floor'](_0x38838a*0.7);player['tempStats']['txww']=0x0;addCombatLog('心如【止】水');}}player['stats']['hp']-=_0x38838a;objectValidation();if(player['skills']['includes']('Aegis\x20Thorns')){enemy['stats']['hp']-=Math['round'](0xf*_0x38838a/0x64);}if(player['skills']['includes']("iugieN".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0xa){enemy['stats']['hp']-=_0x38838a;addCombatLog("\u6613\u4EA4\u6B62\u4E2D,\u9B3C\u5185\u6709".split("").reverse().join(""));}}enemy['stats']['hp']+=_0x2b8ea3;addCombatLog(enemy['name']+'\x20对\x20'+player['name']+'\x20造成了'+nFormatter(_0x38838a)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0x579f1b=document['querySelector']('#playerPanel');_0x579f1b['classList']['add']("ekahs-noitamina".split("").reverse().join(""));setTimeout(()=>{_0x579f1b['classList']['remove']('animation-shake');},0xc8);let _0x288d7a=enemy['stats']['atkSpd'];if(player['skills']['includes']("LZLX".split("").reverse().join(""))){if(player['stats']['atkSpd']<enemy['stats']["\u0061\u0074\u006b\u0053\u0070\u0064"]){_0x288d7a=Math['max'](0.1,player['stats']['atkSpd']-0.1);addCombatLog('敌人被震撼着');}}if(player['skills']['includes']('YJMY')){player['stats']['atkSpd']=player['stats']['atkSpd']-0.05;_0x288d7a=enemy['stats']['atkSpd'];addCombatLog('敌人被你的棉衣纠缠住了!');}if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){enemyAttack();}},0x3e8/_0x288d7a);}};const combatBacklog=[];const addCombatLog=_0x58bade=>{combatBacklog['push'](_0x58bade);updateCombatLog();};const updateCombatLog=()=>{let _0x374e24=document['getElementById']('combatLogBox');_0x374e24['innerHTML']='';for(let _0x235042 of combatBacklog){let _0x4d0e4a=document['createElement']('p');_0x4d0e4a['innerHTML']=_0x235042;_0x374e24['appendChild'](_0x4d0e4a);}if(enemyDead){let _0x3db387=document['createElement']('div');_0x3db387['className']="lenap-noisiced".split("").reverse().join("");_0x3db387['innerHTML']='<button\x20id=\x22battleButton\x22>知道了</button>';_0x374e24['appendChild'](_0x3db387);}if(playerDead){let _0x36a647=document['createElement']('div');_0x36a647['className']='decision-panel';_0x36a647['innerHTML']='<button\x20id=\x22battleButton\x22>回到菜单</button>';_0x374e24['appendChild'](_0x36a647);}_0x374e24['scrollTop']=_0x374e24['scrollHeight'];};let combatSeconds=0x0;const startCombat=_0x23e762=>{bgmDungeon['pause']();sfxEncounter['play']();_0x23e762['play']();player['inCombat']=!![];let _0x2f17c2=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x2f17c2=Math['max'](0.1,player['stats']['atkSpd']-0.1);}}setTimeout(playerAttack,0x3e8/player['stats']['atkSpd']);setTimeout(enemyAttack,0x3e8/_0x2f17c2);let _0x23bc9f=document['querySelector']('#dungeon-main');_0x23bc9f['style']['filter']='brightness(50%)';playerLoadStats();enemyLoadStats();dungeon['status']['event']=!![];combatPanel['style']['display']='flex';combatTimer=setInterval(combatCounter,0x3e8);};const endCombat=()=>{bgmBattleMain['stop']();bgmBattleGuardian['stop']();bgmBattleBoss['stop']();sfxCombatEnd['play']();player['inCombat']=![];if(player['deepth']==undefined)player['deepth']=0x1;player['deepth']=dungeon['progress']['floor'];if(player['skills']['includes']('Rampager')){objectValidation();player['baseStats']['atk']-=player['tempStats']['atk'];player['tempStats']['atk']=0x0;saveData();}if(player['skills']['includes']('Blade\x20Dance')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('Kuaiqidong')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('BQZJ')){objectValidation();player['tempStats']['firstAtk']=0x0;saveData();}if(player['skills']['includes']('BQZD')){objectValidation();player['tempStats']['firstDef']=0x0;saveData();}if(player['skills']['includes']('CZJS')){objectValidation();player['tempStats']['czjs']=0x0;saveData();}if(player['skills']['includes']('ZJJ')){objectValidation();player['tempStats']['zjj']=0x0;saveData();}if(player['skills']['includes']('ZSDS')){objectValidation();player['tempStats']['zsds']=0x0;saveData();}if(player['skills']['includes']('TXWW')){objectValidation();player['tempStats']['txww']=0x0;saveData();}clearInterval(combatTimer);combatSeconds=0x0;};const combatCounter=()=>{combatSeconds++;};const showCombatInfo=()=>{document['querySelector']('#combatPanel')['innerHTML']='\x0a\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20center\x22\x20id=\x22enemyPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+enemy['name']+'\x20Lv.'+enemy['lvl']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20hp\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22enemy-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22enemy-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(enemy['stats']['hp'])+'/'+nFormatter(enemy['stats']['hpMax'])+'<br>('+enemy['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dmg-container\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/sprites/'+enemy['image']['name']+enemy['image']['type']+"\"=tla \"".split("").reverse().join("")+enemy['name']+'\x22\x20width=\x22'+enemy['image']['size']+'\x22\x20id=\x22enemy-sprite\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20primary-panel\x22\x20id=\x22playerPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22player-combat-info\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22player-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22player-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(player['stats']['hp'])+'/'+nFormatter(player['stats']['hpMax'])+'('+player['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-xb\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-xb\x22\x20id=\x22player-exp-bar\x22>exp</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22logBox\x20primary-panel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22combatLogBox\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';};