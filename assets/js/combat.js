const combatPanel=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("lenaPtabmoc#".split("").reverse().join(""));let enemyDead=![];let playerDead=![];const hpValidation=()=>{if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]<(0xb1184^0xb1185)){if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==undefined)player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=0x86d05^0x86d05;if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==(0xe3e16^0xe3e16)){player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0x7d78f^0x7d78f;playerDead=!![];player["\u0064\u0065\u0061\u0074\u0068\u0073"]++;if(player['bank']==undefined)player['bank']=0x2f82b^0x2f82b;player['bank']=player["\u0062\u0061\u006e\u006b"]+Math["\u0063\u0065\u0069\u006c"](player['gold']*0.3);player['gold']=0x24e65^0x24e65;addCombatLog("!\u4E86\u6B7B\u4F60".split("").reverse().join(""));addCombatLog("\u5E84\u94B1\u4E86\u5165\u5B58\u52A8\u81EA\u77F3\u7075\u7684%03".split("").reverse().join(""));document['querySelector']("nottuBelttab#".split("").reverse().join(""))['addEventListener']("kcilc".split("").reverse().join(""),function(){sfxConfirm['play']();playerDead=![];let _0x423cbc=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("niam-noegnud#".split("").reverse().join(""));_0x423cbc["\u0073\u0074\u0079\u006c\u0065"]["\u0066\u0069\u006c\u0074\u0065\u0072"]=")%001(ssenthgirb".split("").reverse().join("");_0x423cbc['style']['display']="\u006e\u006f\u006e\u0065";combatPanel["\u0073\u0074\u0079\u006c\u0065"]["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="\u006e\u006f\u006e\u0065";runLoad('title-screen',"xelf".split("").reverse().join(""));clearInterval(dungeonTimer);clearInterval(playTimer);progressReset();});}else{enemyDead=!![];player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=player['stats']["\u0068\u0070\u004d\u0061\u0078"];addCombatLog("\u5929\u751F\u51FA\u9003\u3011\u8F74\u5377\u6D3B\u590D\u3010\u5F20\u4E00\u8017\u6D88\u4F60".split("").reverse().join(""));player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=player['rebirth']-(0xe89a4^0xe89a5);document['querySelector']("nottuBelttab#".split("").reverse().join(""))['addEventListener']("\u0063\u006c\u0069\u0063\u006b",function(){sfxConfirm['play']();let _0x29cabe=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("niam-noegnud#".split("").reverse().join(""));_0x29cabe["\u0073\u0074\u0079\u006c\u0065"]["\u0066\u0069\u006c\u0074\u0065\u0072"]='brightness(100%)';bgmDungeon['play']();dungeon["\u0073\u0074\u0061\u0074\u0075\u0073"]["\u0065\u0076\u0065\u006e\u0074"]=![];combatPanel['style']['display']='none';enemyDead=![];combatBacklog['length']=0x8279d^0x8279d;});}endCombat();}else if(enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']<(0xd4693^0xd4692)){enemy['stats']["\u0068\u0070"]=0x6a8c9^0x6a8c9;enemyDead=!![];player['kills']++;dungeon["\u0073\u0074\u0061\u0074\u0069\u0073\u0074\u0069\u0063\u0073"]["\u006b\u0069\u006c\u006c\u0073"]++;addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20神魂俱灭!\x20('+new Date(combatSeconds*(0x95668^0x95580))['toISOString']()['substring'](0xe,0x13)+')');addCombatLog("\u4f60\u5f97\u5230\u4e86"+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]["\u0065\u0078\u0070"])+"\u7ecf\u9a8c\u002e");if(player['skills']['includes']("naygniJ".split("").reverse().join(""))){addCombatLog("\u5F97\u83B7\u5916\u989D\u4F60\u4F7F\u3011\u6DF1\u8D44\u3010".split("").reverse().join("")+nFormatter(Math["\u0063\u0065\u0069\u006c"](enemy['rewards']['exp']*0.2))+'经验.');}playerExpGain();let _0x33c69f=0xb97b4^0xb97b5;let _0x4a2594=0x26db3^0x26db2;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004c\u0069\u006e\u0067\u0073\u0068\u0069")){_0x33c69f=1.3;}if(player["\u006b\u006c\u006c"]==0x1){_0x4a2594=0xacfa9^0xacfab;}addCombatLog(enemy['name']+'\x20掉落了\x20<i\x20class=\x22fa-solid\x20fa-gem\x22\x20style=\x22color:\x20#ff8000;\x22></i>'+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x33c69f*_0x4a2594)+".\u77F3\u7075 ".split("").reverse().join(""));if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("ihsgniL".split("").reverse().join(""))){addCombatLog("\u5F97\u83B7\u5916\u989D\u4F60\u4F7F\u3011\u5E93\u5B9D\u738B\u5E1D\u3010".split("").reverse().join("")+nFormatter(Math['ceil'](enemy['rewards']['gold']*0.3))+'经验.');}player['gold']+=enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x33c69f*_0x4a2594;playerLoadStats();if(enemy['rewards']['drop']){createEquipmentPrint('combat');}let _0x258ad3=0x1;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u0058\u0042\u0053")){_0x258ad3=1.5;}if(enemy["\u0063\u006c\u0061\u0073\u0073"]=="\u0067\u0075\u0061\u0072\u0064\u0069\u0061\u006e"){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x2*_0x258ad3){createEquipmentPrint("\u0063\u006f\u006d\u0062\u0061\u0074",'XTLB');}else if(Math["\u0066\u006c\u006f\u006f\u0072"](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x3*_0x258ad3){createEquipmentPrint("\u0063\u006f\u006d\u0062\u0061\u0074","\u004c\u0042");}}if(enemy['class']=="\u0073\u0062\u006f\u0073\u0073"){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x32){if(player['rebirth']==undefined)player['rebirth']=0x9e2a5^0x9e2a5;player['rebirth']=player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]+0x1;addCombatLog("\u4f60\u4ece\u8fd9\u4e2a\u5f3a\u5927\u7684\u751f\u7269\u4e0a\u627e\u5230\u4e00\u5f20\u3010\u590d\u6d3b\u5377\u8f74\u3011");}if(Math['floor'](Math['random']()*(0xd6116^0xd6172))<0x1*_0x258ad3){createEquipmentPrint("\u0063\u006f\u006d\u0062\u0061\u0074",'DB');}else if(Math["\u0066\u006c\u006f\u006f\u0072"](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<0x2*_0x258ad3){createEquipmentPrint("tabmoc".split("").reverse().join(""),'DB');}}player["\u0073\u0074\u0061\u0074\u0073"]['hp']+=Math['round'](player['stats']['hpMax']*(0x49bbb^0x49baf)/(0x5b582^0x5b5e6));playerLoadStats();document['querySelector']('#battleButton')['addEventListener']("kcilc".split("").reverse().join(""),function(){sfxConfirm["\u0070\u006c\u0061\u0079"]();let _0x352c4a=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("\u0023\u0064\u0075\u006e\u0067\u0065\u006f\u006e\u002d\u006d\u0061\u0069\u006e");_0x352c4a['style']["\u0066\u0069\u006c\u0074\u0065\u0072"]='brightness(100%)';bgmDungeon['play']();dungeon['status']['event']=![];combatPanel['style']['display']='none';enemyDead=![];combatBacklog["\u006c\u0065\u006e\u0067\u0074\u0068"]=0xeaa63^0xeaa63;});endCombat();}};function getDtype(_0x1b2ed4){if(_0x1b2ed4=="egamad tirc".split("").reverse().join(""))return"\u66b4\u51fb";if(_0x1b2ed4=='damage')return"\u901A\u666E".split("").reverse().join("");return _0x1b2ed4;}const playerAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x5e68d8;let _0x454b52=player['stats']['atk']*(player['stats']['atk']/(player['stats']['atk']+enemy['stats']['def']));let _0x3bc990=0.9+Math['random']()*0.2;_0x454b52=_0x454b52*_0x3bc990;let _0x2b0b0f=0xdedc0^0xdedc1;let _0x26f7a1=0x1;if(player['skills']['includes']("ijoaB".split("").reverse().join(""))){_0x2b0b0f=1.7;_0x26f7a1=0.6;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Gongji')){_0x2b0b0f=0x0;_0x26f7a1=1.3;}if(player['skills']['includes']('ZSDS')){if(player['tempStats']["\u007a\u0073\u0064\u0073"]==undefined)player['tempStats']['zsds']=0x99e94^0x99e95;}if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0xb9c2b^0xb9c4f))<player['stats']['critRate']){_0x5e68d8=!![];if(player['skills']['includes']("FZCR".split("").reverse().join(""))){_0x5e68d8=![];dmgtype='damage';_0x454b52=Math['round'](_0x454b52*_0x26f7a1);}else{dmgtype='crit\x20damage';_0x454b52=Math['round'](_0x454b52*_0x2b0b0f*(0x1+player['stats']['critDmg']/0x64));if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("ijoaB".split("").reverse().join(""))){addCombatLog('【狂热之心】使你额外造成'+Math['round'](_0x454b52*(_0x2b0b0f-0x1)*(0x1+player['stats']['critDmg']/0x64))+".\u5BB3\u4F24".split("").reverse().join(""));}}}else{_0x5e68d8=![];dmgtype="egamad".split("").reverse().join("");_0x454b52=Math['round'](_0x454b52*_0x26f7a1);if(player['skills']['includes']("ijgnoG".split("").reverse().join(""))){addCombatLog('【仁慈之心】使你额外造成'+Math['round'](_0x454b52*_0x26f7a1)+'伤害.');}}if(player['skills']['includes']('BQZJ')){console["\u006c\u006f\u0067"](player['tempStats']['firstAtk']);if(player['tempStats']['firstAtk']==undefined)player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']=0x0;if(player['tempStats']['firstAtk']==(0xf1e3a^0xf1e3a)){dmgtype='crit\x20damage';_0x454b52=Math['round'](_0x454b52*_0x2b0b0f*(0xe4bb1^0xe4bb3)*((0x1f5f4^0x1f5f5)+player['stats']['critDmg']/0x64));player['tempStats']['firstAtk']=0x1;addCombatLog('你激发出【不屈之剑】');}}objectValidation();if(player['skills']['includes']('Remnant\x20Razor')){_0x454b52+=Math['round'](0x8*enemy['stats']['hp']/(0xcff52^0xcff36));}if(player['skills']['includes']('Titan\x27s\x20Will')){_0x454b52+=Math['round'](0x5*player['stats']['hpMax']/(0x4704e^0x4702a));}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Devastator')){_0x454b52=Math['round'](_0x454b52+0x1e*_0x454b52/(0x58ade^0x58aba));}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("regapmaR".split("").reverse().join(""))){player['baseStats']['atk']+=0x5;objectValidation();player['tempStats']['atk']+=0x5;saveData();}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("ecnaD edalB".split("").reverse().join(""))){player['baseStats']['atkSpd']+=0.3;objectValidation();player['tempStats']['atkSpd']+=0.3;saveData();}if(player['skills']['includes']('Kuaiqidong')){player['baseStats']['atkSpd']-=0.01;objectValidation();player['tempStats']['atkSpd']-=0.01;saveData();}let _0x1eaaa3=0xdbfba^0xdbfbb;if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("oabgnauK".split("").reverse().join(""))){if(player['stats']["\u0068\u0070"]<=player['stats']['hpMax']*0.5){addCombatLog('你身披【血衣】,眼目猩红');_0x454b52=Math["\u0063\u0065\u0069\u006c"](_0x454b52*1.5);_0x1eaaa3=0x2;}}let _0x374678=player['stats']['atkSpd'];_0x374678=_0x374678*_0x1eaaa3;let _0x566cb0=0x1;if(player['skills']['includes']('JiyuanXiaoguo')){addCombatLog("\u4f60\u7684\u3010\u996e\u7075\u4e4b\u8eaf\u3011\u6e90\u6e90\u4e0d\u65ad\u7684\u5438\u6536\u5bf9\u65b9\u7684\u6c14\u8840");_0x566cb0=1.3;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Yinxue')){addCombatLog("\u8840\u6C14\u7684\u65B9\u5BF9\u6536\u5438\u7684\u65AD\u4E0D\u6E90\u6E90\u3011\u8840\u996E\u3010\u7684\u4F60".split("").reverse().join(""));_0x566cb0=0x2;}if(player['skills']['includes']('Huichun')){addCombatLog('你的【大回春术】滋养你的身体,你转瞬间容光焕发!');addCombatLog('恢复了'+Math["\u0063\u0065\u0069\u006c"](player["\u0073\u0074\u0061\u0074\u0073"]['hpMax']*0.02)+'气血');player['stats']["\u0068\u0070"]+=Math['ceil'](player['stats']['hpMax']*0.02);}if(player['skills']['includes']("nuHeuxiQ".split("").reverse().join(""))){addCombatLog("!\u529B\u5A01\u7684\u51FB\u653B\u4E86\u5F3A\u52A0\u3011\u9B42\u4E4B\u8840\u6C14\u3010\u7684\u4F60".split("").reverse().join(""));let _0x1d7a38=player['stats']["\u0068\u0070"]/player['stats']['hpMax']*(0xb14d9^0xb14bd);if(_0x1d7a38<0x46){let _0x5c3b91=0x64-_0x1d7a38;let _0x454c6a=_0x5c3b91*0x2;_0x454b52+=Math['ceil'](_0x454b52*(_0x454c6a/0x64));}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Daotian')){if(Math['floor'](Math['random']()*0x64)<0x5){player['bonusStats']['hp']+=Math["\u0063\u0065\u0069\u006c"](_0x454b52*0.01);addCombatLog("!!\u534E\u7CBE\u5730\u5929\u8D70\u7A83\u4F60\u3011\u5929\u76D7\u3010".split("").reverse().join(""));}}if(player['skills']['includes']('Luantian')){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0x4dd9a^0x4ddfe))<0x5){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['hp']+=Math['ceil'](_0x454b52*0.01);addCombatLog("!!\u5E8F\u5929\u4E86\u4E71\u6253\u4F60\u3011\u5929\u4E71\u3010".split("").reverse().join(""));}}if(player['skills']['includes']('Baitian')){if(Math['floor'](Math['random']()*0x64)<0x5){player['bonusStats']['def']+=Math['ceil'](_0x454b52*0.01);addCombatLog('【败天】你削减了天时!!');}}if(player['skills']['includes']("naituL".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<(0xa1122^0xa1127)){player['bonusStats']['atk']+=Math['ceil'](_0x454b52*0.005);addCombatLog('【戮天】你破灭了某处!!');}}if(player['skills']['includes']('Zhutian')){if(Math['floor'](Math['random']()*0x64)<0x5){player['bonusStats']['critDmg']+=0.5;addCombatLog("!!\u5904\u67D0\u4E86\u706D\u8BDB\u4F60\u3011\u5929\u8BDB\u3010".split("").reverse().join(""));}}if(player['skills']['includes']('Daitian')){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<(0x29b62^0x29b63)){_0x454b52=enemy['stats']['hp'];addCombatLog('【代天】宣布对方立即失败');}}if(player['skills']['includes']('Xuanyun')){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0x3623d^0x36259))<(0x1d862^0x1d86d)){enemy['stats']['atk']=Math["\u0066\u006c\u006f\u006f\u0072"](enemy['stats']["\u0061\u0074\u006b"]-enemy['stats']['atk']*0.05);addCombatLog('你向对方头上猛地一击,对方顿时感觉头晕目眩,浑身无力');}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("GdloG".split("").reverse().join(""))){let _0x1d2fd7=0x1;_0x1d2fd7=(0x6b07a^0x6b07b)+player['gold']/0x3e8*0.01;_0x454b52=Math['floor'](_0x454b52*_0x1d2fd7);player["\u0067\u006f\u006c\u0064"]=player['gold']-Math['floor'](_0x454b52*0.09);addCombatLog("\u53BB\u7838\u65B9\u5BF9\u5411\u7684\u65AD\u4E0D\u6E90\u6E90\u77F3\u7075\u7684\u4F60".split("").reverse().join(""));}if(player['skills']['includes']('PoorG')){if(player['gold']<(0x59450^0x597b8)){_0x454b52=_0x454b52+(0x9a7cd^0x9a7ff);addCombatLog("\u4F60\u798F\u795D\u795E\u7A77".split("").reverse().join(""));}}if(player['skills']['includes']("\u0048\u004c")){_0x454b52=Math['floor'](_0x454b52*1.3);if(Math['floor'](Math['random']()*0x64)<(0x91a75^0x91a6b)){_0x454b52=0x0;addCombatLog('哎呀,打歪了');}}let _0x116e09=Math['round'](_0x454b52*_0x566cb0*(player['stats']['vamp']/(0x2e6e5^0x2e681)));if(player['skills']['includes']('TRA')){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<(0x5d54b^0x5d541)){enemy['stats']['hp']-=_0x454b52;addCombatLog("--\u3011\u51FB\u540C\u4EBA\u5929\u3010--".split("").reverse().join(""));}}if(player['skills']['includes']("\u0052\u0043\u005a\u0046")){enemy['stats']['hp']-=_0x454b52;addCombatLog('【仁慈之风】发动了第二次攻击');}if(player['skills']['includes']('DPMJ')){_0x454b52=Math['floor'](player['stats']['def']*0.1);addCombatLog('你用你的肚皮攻击');}if(player['skills']['includes']('FX')){if(Math['floor'](Math['random']()*(0x31ffc^0x31f98))<0x32){player['stats']['hp']-=player['stats']['hp']*0.5;_0x454b52=_0x454b52*0x3;addCombatLog('你放血而击');}}if(player['skills']['includes']("JJZ".split("").reverse().join(""))){player['stats']["\u0068\u0070"]-=player['stats']['hp']*0.05;if(player['tempStats']['zjj']==undefined)player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['zjj']=0x0;player['tempStats']['zjj']=player['tempStats']['zjj']+0x1;let _0x45b93b=0x1+0.1*player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['zjj'];_0x454b52=_0x454b52*_0x45b93b;}if(player['skills']['includes']("MXLH".split("").reverse().join(""))){if(enemy['stats']['hp']-_0x454b52*0x2<=(0x3f5fb^0x3f5fb)){_0x454b52=_0x454b52*0x2;}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['txww']=0x0;if(Math['floor'](Math['random']()*0x64)<(0x624c2^0x624c8)){let _0x3edf5f=Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0x52605^0x52606))+(0x90291^0x90290);if(_0x3edf5f==0x1){player['tempStats']['txww']=0x1;addCombatLog("\u4f60\u8fdb\u5165\u3010\u7384\u3011");}if(_0x3edf5f==(0xa5a7f^0xa5a7d)){player['tempStats']['txww']=0xe79fb^0xe79f9;addCombatLog('你进入【止】');}if(_0x3edf5f==0x3){player['tempStats']['txww']=0x3202c^0x3202f;addCombatLog("\u3011\u52A8\u3010\u5165\u8FDB\u4F60".split("").reverse().join(""));}}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("WWXT".split("").reverse().join(""))){if(player['tempStats']["\u0074\u0078\u0077\u0077"]==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x454b52=_0x454b52*(0x24530^0x24532);addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==0x3){enemy['stats']["\u0068\u0070"]-=_0x454b52;enemy['stats']['hp']-=_0x454b52;player['tempStats']['txww']=0x0;addCombatLog('你退出【动】');}}enemy['stats']['hp']-=_0x454b52;player['stats']["\u0068\u0070"]+=_0x116e09;addCombatLog(player['name']+'\x20对\x20\x20'+enemy['name']+'造成了\x20'+nFormatter(_0x454b52)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0x22f63d=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]('#enemy-sprite');_0x22f63d['classList']['add']('animation-shake');setTimeout(()=>{_0x22f63d['classList']['remove']("\u0061\u006e\u0069\u006d\u0061\u0074\u0069\u006f\u006e\u002d\u0073\u0068\u0061\u006b\u0065");},0xc8);const _0x495e3f=document['querySelector']('#dmg-container');const _0x5e7c94=document["\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006c\u0065\u006d\u0065\u006e\u0074"]('p');_0x5e7c94["\u0063\u006c\u0061\u0073\u0073\u004c\u0069\u0073\u0074"]['add']('dmg-numbers');if(_0x5e68d8){_0x5e7c94["\u0073\u0074\u0079\u006c\u0065"]['color']='gold';_0x5e7c94['innerHTML']=nFormatter(_0x454b52)+'!';}else{_0x5e7c94['innerHTML']=nFormatter(_0x454b52);}_0x495e3f['appendChild'](_0x5e7c94);setTimeout(()=>{_0x495e3f['removeChild'](_0x495e3f['lastElementChild']);},0x65ddd^0x65caf);if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){playerAttack();}},0x3e8/_0x374678);}};const enemyAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x5e0486=enemy["\u0073\u0074\u0061\u0074\u0073"]['atk']*(enemy['stats']["\u0061\u0074\u006b"]/(enemy['stats']['atk']+player['stats']['def']));let _0x1ef371=Math['round'](enemy['stats']['atk']*(enemy['stats']['vamp']/0x64));let _0x453494=0.9+Math['random']()*0.2;_0x5e0486=_0x5e0486*_0x453494;if(Math['floor'](Math['random']()*0x64)<enemy["\u0073\u0074\u0061\u0074\u0073"]['critRate']){if(player['skills']['includes']("JKDZ".split("").reverse().join(""))){dmgtype="egamad".split("").reverse().join("");_0x5e0486=Math['round'](_0x5e0486);}else{dmgtype='crit\x20damage';_0x5e0486=Math['round'](_0x5e0486*(0x1+enemy["\u0073\u0074\u0061\u0074\u0073"]["\u0063\u0072\u0069\u0074\u0044\u006d\u0067"]/(0xf2f38^0xf2f5c)));}}else{dmgtype="egamad".split("").reverse().join("");_0x5e0486=Math['round'](_0x5e0486);}if(player['skills']['includes']('Paladin\x27s\x20Heart')){_0x5e0486=Math['round'](_0x5e0486-(0x7370e^0x73717)*_0x5e0486/0x64);}if(player['skills']['includes']("ibnahS".split("").reverse().join(""))){if(Math['floor'](Math['random']()*(0xaddcd^0xadda9))<(0x83dc0^0x83dde)){let _0x2feddd=Math['ceil'](_0x5e0486*0.5);_0x5e0486=0x0;addCombatLog('你于风中隐藏,对方的攻击如同石牛如海');if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0x426d1^0x426b5))<(0xb9f5d^0xb9f75)){enemy['stats']['hp']-=_0x2feddd;addCombatLog("\u53BB\u800C\u98DE\u5012\u7ADF\u52BF\u653B\u7684\u65B9\u5BF9,\u53CD\u5F39\u5F00\u5C55\u4E2D\u98CE\u4E8E\u4F60".split("").reverse().join(""));}}}if(player['skills']['includes']("SdloG".split("").reverse().join(""))){let _0x480c68=0x702b9^0x702b8;_0x480c68=player['gold']/(0xadd9b^0xade73)*0.01;_0x5e0486=Math['max'](0x35b45^0x35b44,Math['floor'](_0x5e0486*((0xe4e00^0xe4e01)-_0x480c68)));player['gold']=player['gold']-Math['floor'](_0x5e0486*0.05);addCombatLog('你的灵石守护着你');}if(player['skills']['includes']('PoorS')){if(player['gold']<0x3e8){_0x5e0486=Math['max'](0x1,_0x5e0486-(0x62bba^0x62ba4));addCombatLog('穷神祝福你');}}if(player['skills']['includes']('Jingfan')){let _0x561381=player['stats']['hp']/player["\u0073\u0074\u0061\u0074\u0073"]['hpMax']*0x64;if(_0x561381<0x1e){addCombatLog('你的【脆镜反射】反射了同样的伤害回去!');enemy['stats']['hp']-=_0x5e0486;}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('ZGQX')){let _0x41b2ba=player['stats']['hp']/player['stats']['hpMax']*(0x6f830^0x6f854);if(_0x41b2ba>0x50){if(player['stats']['hp']-_0x5e0486<=(0xe4897^0xe4897)){_0x5e0486=player['stats']['hp']-(0x6e808^0x6e80d);}}}if(player['skills']['includes']('YJSH')){if(Math['floor'](Math['random']()*(0x36b3a^0x36b5e))<0x63){if(dmgtype=='damage'){_0x5e0486=0x0;addCombatLog("\u51FB\u653B\u6B21\u8FD9\u4E86\u89C6\u65E0\u5168\u5B8C,\u7F69\u7B3C\u606F\u6C14\u754C\u5F02\u88AB\u4F60".split("").reverse().join(""));}}_0x5e0486=_0x5e0486*0xa;if(_0x5e0486!=0x0)addCombatLog("!!\u65A5\u6392\u754C\u4E16\u4E2A\u8FD9\u88AB\u4F60".split("").reverse().join(""));}if(player['skills']['includes']("JJCD".split("").reverse().join(""))){if(player['stats']['hp']==player['stats']['hpMax']){_0x5e0486=Math['floor'](_0x5e0486*0.5);addCombatLog('你的【多重坚甲】守护着你');}}if(player['skills']['includes']('BQZD')){if(player['tempStats']['firstDef']==undefined)player['tempStats']['firstDef']=0x675e0^0x675e0;if(player['tempStats']['firstDef']==0x0){let _0x3b1f44=_0x5e0486;player['stats']['hp']=player['stats']['hp']+_0x3b1f44;_0x5e0486=0x98513^0x98513;player['tempStats']['firstDef']=0x1;addCombatLog("\u3011\u76FE\u4E4B\u5C48\u4E0D\u3010\u51FA\u53D1\u6FC0\u4F60".split("").reverse().join(""));addCombatLog('你获得了'+_0x3b1f44+"\u7597\u6CBB".split("").reverse().join(""));}}if(player['skills']['includes']("SJZC".split("").reverse().join(""))){if(player['tempStats']['czjs']==undefined)player['tempStats']['czjs']=0x0;if(player['stats']['hp']-_0x5e0486<=0x0){_0x5e0486=0xcc58c^0xcc58c;if(player['tempStats']['czjs']==0x0){player['stats']['hp']=player['stats']['hpMax'];player['tempStats']['czjs']=0xad3ec^0xad3ed;addCombatLog('你拒绝了死亡');}}}if(player['skills']['includes']("SDSZ".split("").reverse().join(""))){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x3e68c^0x3e68c;if(player['tempStats']['zsds']==0x0){enemy['stats']['hp']-=_0x5e0486*(0xec3c8^0xec3ca);_0x5e0486=0x0;addCombatLog('这对【战术大师】无效');}}if(player['skills']['includes']("WWXT".split("").reverse().join(""))){if(player['tempStats']['txww']==undefined)player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]["\u0074\u0078\u0077\u0077"]=0x48dc0^0x48dc0;if(player['tempStats']['txww']==0x1){_0x5e0486=_0x5e0486*0x2;addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==0x2){_0x5e0486=Math['floor'](_0x5e0486*0.7);player['tempStats']['txww']=0x0;addCombatLog("\u6C34\u3011\u6B62\u3010\u5982\u5FC3".split("").reverse().join(""));}}player['stats']['hp']-=_0x5e0486;objectValidation();if(player['skills']['includes']("snrohT sigeA".split("").reverse().join(""))){enemy['stats']['hp']-=Math['round'](0xf*_0x5e0486/0x64);}if(player['skills']['includes']('Neigui')){if(Math['floor'](Math['random']()*(0xefcb7^0xefcd3))<(0xb8a4a^0xb8a40)){enemy['stats']['hp']-=_0x5e0486;addCombatLog("\u6613\u4EA4\u6B62\u4E2D,\u9B3C\u5185\u6709".split("").reverse().join(""));}}enemy['stats']['hp']+=_0x1ef371;addCombatLog(enemy['name']+" \u5BF9 ".split("").reverse().join("")+player['name']+'\x20造成了'+nFormatter(_0x5e0486)+('\x20'+getDtype(dmgtype)+"\u5BB3\u4F24 ".split("").reverse().join("")));hpValidation();playerLoadStats();enemyLoadStats();let _0x28f738=document['querySelector']('#playerPanel');_0x28f738['classList']['add']('animation-shake');setTimeout(()=>{_0x28f738['classList']['remove']("ekahs-noitamina".split("").reverse().join(""));},0x8c3e2^0x8c32a);let _0x49733f=enemy["\u0073\u0074\u0061\u0074\u0073"]['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x49733f=Math['max'](0.1,player['stats']['atkSpd']-0.1);addCombatLog('敌人被震撼着');}}if(player['skills']['includes']('YJMY')){player['stats']['atkSpd']=player['stats']['atkSpd']-0.05;_0x49733f=enemy['stats']['atkSpd'];addCombatLog('敌人被你的棉衣纠缠住了!');}if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){enemyAttack();}},0x3e8/_0x49733f);}};const combatBacklog=[];const addCombatLog=_0x173a0a=>{combatBacklog['push'](_0x173a0a);updateCombatLog();};const updateCombatLog=()=>{let _0x5a4000=document['getElementById']('combatLogBox');_0x5a4000['innerHTML']="".split("").reverse().join("");for(let _0x1be537 of combatBacklog){let _0x55384b=document['createElement']('p');_0x55384b['innerHTML']=_0x1be537;_0x5a4000['appendChild'](_0x55384b);}if(enemyDead){let _0x4899ff=document['createElement']("vid".split("").reverse().join(""));_0x4899ff['className']='decision-panel';_0x4899ff['innerHTML']=">nottub/<\u4E86\u9053\u77E5>\"nottuBelttab\"=di nottub<".split("").reverse().join("");_0x5a4000['appendChild'](_0x4899ff);}if(playerDead){let _0x2d5367=document['createElement']('div');_0x2d5367['className']='decision-panel';_0x2d5367['innerHTML']='<button\x20id=\x22battleButton\x22>回到菜单</button>';_0x5a4000['appendChild'](_0x2d5367);}_0x5a4000['scrollTop']=_0x5a4000['scrollHeight'];};let combatSeconds=0x0;const startCombat=_0x47165e=>{bgmDungeon["\u0070\u0061\u0075\u0073\u0065"]();sfxEncounter['play']();_0x47165e['play']();player['inCombat']=!![];setTimeout(playerAttack,(0x66595^0x6667d)/player['stats']['atkSpd']);setTimeout(enemyAttack,0x3e8/enemy['stats']['atkSpd']);let _0xe376e=document['querySelector']('#dungeon-main');_0xe376e['style']['filter']=")%05(ssenthgirb".split("").reverse().join("");playerLoadStats();enemyLoadStats();dungeon['status']['event']=!![];combatPanel['style']['display']="xelf".split("").reverse().join("");combatTimer=setInterval(combatCounter,0x78117^0x782ff);};const endCombat=()=>{bgmBattleMain['stop']();bgmBattleGuardian['stop']();bgmBattleBoss['stop']();sfxCombatEnd['play']();player['inCombat']=![];if(player['skills']['includes']('Rampager')){objectValidation();player['baseStats']['atk']-=player['tempStats']['atk'];player['tempStats']['atk']=0x0;saveData();}if(player['skills']['includes']('Blade\x20Dance')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('Kuaiqidong')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x8f0d2^0x8f0d2;saveData();}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('BQZJ')){objectValidation();player['tempStats']['firstAtk']=0x22599^0x22599;saveData();}if(player['skills']['includes']('BQZD')){objectValidation();player['tempStats']['firstDef']=0x0;saveData();}if(player['skills']['includes']('CZJS')){objectValidation();player['tempStats']['czjs']=0x55fd3^0x55fd3;saveData();}if(player['skills']['includes']('ZJJ')){objectValidation();player['tempStats']['zjj']=0xdad1d^0xdad1d;saveData();}if(player['skills']['includes']("SDSZ".split("").reverse().join(""))){objectValidation();player['tempStats']['zsds']=0x0;saveData();}if(player['skills']['includes']("WWXT".split("").reverse().join(""))){objectValidation();player['tempStats']['txww']=0x0;saveData();}clearInterval(combatTimer);combatSeconds=0x0;};const combatCounter=()=>{combatSeconds++;};const showCombatInfo=()=>{document['querySelector']('#combatPanel')['innerHTML']='\x0a\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20center\x22\x20id=\x22enemyPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+enemy['name']+'\x20Lv.'+enemy['lvl']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20hp\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22enemy-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22enemy-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(enemy['stats']['hp'])+'/'+nFormatter(enemy['stats']['hpMax'])+'<br>('+enemy['stats']['hpPercent']+"/setirps/stessa/.\"=crs gmi<            \n>vid/<>\"reniatnoc-gmd\"=di vid<            \n>vid/<            \n>vid/<                \n)%".split("").reverse().join("")+enemy['image']['name']+enemy['image']['type']+'\x22\x20alt=\x22'+enemy['name']+'\x22\x20width=\x22'+enemy['image']['size']+'\x22\x20id=\x22enemy-sprite\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20primary-panel\x22\x20id=\x22playerPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22player-combat-info\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22player-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22player-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(player['stats']['hp'])+'/'+nFormatter(player['stats']['hpMax'])+'('+player['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-xb\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-xb\x22\x20id=\x22player-exp-bar\x22>exp</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22logBox\x20primary-panel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22combatLogBox\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';};