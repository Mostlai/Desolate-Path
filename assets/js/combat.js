const combatPanel=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("lenaPtabmoc#".split("").reverse().join(""));let enemyDead=![];let playerDead=![];const hpValidation=()=>{if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]<(0x37dd0^0x37dd1)){if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==undefined)player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=0x71765^0x71765;if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==(0x64791^0x64791)){player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0x1e81a^0x1e81a;playerDead=!![];player["\u0064\u0065\u0061\u0074\u0068\u0073"]++;if(player["\u0062\u0061\u006e\u006b"]==undefined)player["\u0062\u0061\u006e\u006b"]=0x260f9^0x260f9;player['bank']=player['bank']+Math["\u0063\u0065\u0069\u006c"](player["\u0067\u006f\u006c\u0064"]*0.3);player["\u0067\u006f\u006c\u0064"]=0xf20c6^0xf20c6;addCombatLog("!\u4E86\u6B7B\u4F60".split("").reverse().join(""));addCombatLog("\u0033\u0030\u0025\u7684\u7075\u77f3\u81ea\u52a8\u5b58\u5165\u4e86\u94b1\u5e84");document['querySelector']("nottuBelttab#".split("").reverse().join(""))['addEventListener']("kcilc".split("").reverse().join(""),function(){sfxConfirm['play']();playerDead=![];let _0x594a9f=document['querySelector']("niam-noegnud#".split("").reverse().join(""));_0x594a9f["\u0073\u0074\u0079\u006c\u0065"]["\u0066\u0069\u006c\u0074\u0065\u0072"]=")%001(ssenthgirb".split("").reverse().join("");_0x594a9f["\u0073\u0074\u0079\u006c\u0065"]['display']="enon".split("").reverse().join("");combatPanel["\u0073\u0074\u0079\u006c\u0065"]['display']="\u006e\u006f\u006e\u0065";runLoad("\u0074\u0069\u0074\u006c\u0065\u002d\u0073\u0063\u0072\u0065\u0065\u006e","xelf".split("").reverse().join(""));clearInterval(dungeonTimer);clearInterval(playTimer);progressReset();});}else{enemyDead=!![];player['stats']["\u0068\u0070"]=player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070\u004d\u0061\u0078"];addCombatLog("\u5929\u751F\u51FA\u9003\u3011\u8F74\u5377\u6D3B\u590D\u3010\u5F20\u4E00\u8017\u6D88\u4F60".split("").reverse().join(""));player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]-(0xb627b^0xb627a);document['querySelector']("\u0023\u0062\u0061\u0074\u0074\u006c\u0065\u0042\u0075\u0074\u0074\u006f\u006e")["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]('click',function(){sfxConfirm['play']();let _0x3012ba=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("\u0023\u0064\u0075\u006e\u0067\u0065\u006f\u006e\u002d\u006d\u0061\u0069\u006e");_0x3012ba["\u0073\u0074\u0079\u006c\u0065"]['filter']=")%001(ssenthgirb".split("").reverse().join("");bgmDungeon['play']();dungeon['status']["\u0065\u0076\u0065\u006e\u0074"]=![];combatPanel['style']['display']="enon".split("").reverse().join("");enemyDead=![];combatBacklog['length']=0xb7a3b^0xb7a3b;});}endCombat();}else if(enemy["\u0073\u0074\u0061\u0074\u0073"]['hp']<(0x3009e^0x3009f)){enemy['stats']['hp']=0x0;enemyDead=!![];player["\u006b\u0069\u006c\u006c\u0073"]++;dungeon['statistics']["\u006b\u0069\u006c\u006c\u0073"]++;addCombatLog(enemy['name']+'\x20神魂俱灭!\x20('+new Date(combatSeconds*0x3e8)["\u0074\u006f\u0049\u0053\u004f\u0053\u0074\u0072\u0069\u006e\u0067"]()['substring'](0xe,0x13)+')');addCombatLog('你得到了'+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['exp'])+".\u9A8C\u7ECF".split("").reverse().join(""));if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004a\u0069\u006e\u0067\u0079\u0061\u006e")){addCombatLog("\u5F97\u83B7\u5916\u989D\u4F60\u4F7F\u3011\u6DF1\u8D44\u3010".split("").reverse().join("")+nFormatter(Math['ceil'](enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['exp']*0.2))+".\u9A8C\u7ECF".split("").reverse().join(""));}playerExpGain();let _0x8f4dcc=0xbf8e8^0xbf8e9;let _0x415e24=0x6970f^0x6970e;if(player['skills']['includes']("ihsgniL".split("").reverse().join(""))){_0x8f4dcc=1.3;}if(player["\u006b\u006c\u006c"]==(0x35a1f^0x35a1e)){_0x415e24=0x41ecb^0x41ec9;}addCombatLog(enemy['name']+">i/<>\";0008ff# :roloc\"=elyts \"meg-af dilos-af\"=ssalc i< \u4E86\u843D\u6389 ".split("").reverse().join("")+nFormatter(enemy['rewards']['gold']*_0x8f4dcc*_0x415e24)+'\x20灵石.');if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("\u004c\u0069\u006e\u0067\u0073\u0068\u0069")){addCombatLog("\u3010\u5e1d\u738b\u5b9d\u5e93\u3011\u4f7f\u4f60\u989d\u5916\u83b7\u5f97"+nFormatter(Math["\u0063\u0065\u0069\u006c"](enemy['rewards']['gold']*0.3))+'灵石.');}player["\u0067\u006f\u006c\u0064"]+=enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x8f4dcc*_0x415e24;playerLoadStats();if(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['drop']){createEquipmentPrint("tabmoc".split("").reverse().join(""));}let _0x250ffb=0x1;if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("SBX".split("").reverse().join(""))){_0x250ffb=1.5;}if(player["\u0063\u0075\u0072\u0065\u0073\u0065\u004c\u0042"]==undefined)player['cureseLB']=0xe7433^0xe7433;if(player["\u0072\u0069\u0066\u0074\u004c\u0042"]==undefined)player['riftLB']=0x0;if(player['emporLB']==undefined)player['emporLB']=0x0;let _0x57eae2=0x6c868^0x6c869;if(player["\u0068\u0061\u0072\u0064\u006c\u006f\u006f\u0070"]>=0x1){_0x57eae2=0x1+Math['ceil'](player['hardloop']/(0x65645^0x65640))/0x64;}if(enemy["\u0063\u006c\u0061\u0073\u0073"]=="naidraug".split("").reverse().join("")){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*0x64)<0x2*_0x250ffb){createEquipmentPrint("tabmoc".split("").reverse().join(""),"BLTX".split("").reverse().join(""));}else if(Math['floor'](Math['random']()*0x64)<0x3*_0x250ffb){createEquipmentPrint('combat',"BL".split("").reverse().join(""));}let _0x4365b4=Math['floor'](enemy['lvl']/0xa);if(Math['floor'](Math['random']()*0x64)<0x6*_0x57eae2){let _0x337ee8=Math['floor'](_0x4365b4*randomizeDecimal(0.3,0.6));_0x337ee8=Math['max'](0x1,_0x337ee8);player["\u0063\u0075\u0072\u0065\u0073\u0065\u004c\u0042"]=player['cureseLB']+_0x337ee8;addCombatLog('你找到了'+nFormatter(_0x337ee8)+'诅咒灵宝碎片.');addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了'+nFormatter(_0x337ee8)+'【诅咒灵宝碎片】</span>');}if(Math['floor'](Math['random']()*0x64)<(0x3fe4c^0x3fe4a)*_0x57eae2){let _0xc2340c=Math['floor'](_0x4365b4*randomizeDecimal(0.1,0.5));_0xc2340c=Math["\u006d\u0061\u0078"](0xf21e9^0xf21e8,_0xc2340c);player['riftLB']=player['riftLB']+_0xc2340c;addCombatLog('你找到了'+nFormatter(_0xc2340c)+".\u7247\u788E\u5B9D\u7075\u9699\u88C2".split("").reverse().join(""));addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了'+nFormatter(_0xc2340c)+'【裂隙灵宝碎片】</span>');}}if(enemy['class']=='sboss'){if(Math['floor'](Math['random']()*0x64)<(0xae4b8^0xae48a)){if(player['rebirth']==undefined)player['rebirth']=0x44114^0x44114;player['rebirth']=player['rebirth']+(0x9d723^0x9d722);addCombatLog('你从这个强大的生物上找到一张【复活卷轴】');}if(Math['floor'](Math['random']()*0x64)<0x1*_0x250ffb){createEquipmentPrint("tabmoc".split("").reverse().join(""),'DB');}else if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0x6ff6c^0x6ff08))<(0x92b91^0x92b93)*_0x250ffb){createEquipmentPrint("tabmoc".split("").reverse().join(""),"\u005a\u0042");}let _0x19b447=Math['floor'](enemy['lvl']/(0xb2004^0xb2003));if(Math['floor'](Math['random']()*(0xde17f^0xde11b))<0x7*_0x57eae2){let _0x3254fa=Math['floor'](_0x19b447*randomizeDecimal(0.2,0.5));_0x3254fa=Math['max'](0xbd38d^0xbd38c,_0x3254fa);player["\u0072\u0069\u0066\u0074\u004c\u0042"]=player['riftLB']+_0x3254fa;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x3254fa)+'裂隙灵宝碎片.');addDungeonLog("\u4E86\u5F97\u83B7\u4F60>\"yradnegeL\"=ssalc naps<".split("").reverse().join("")+nFormatter(_0x3254fa)+'【裂隙灵宝碎片】</span>');}if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0x7b5c5^0x7b5a1))<0x5*_0x57eae2){let _0x308d69=Math['floor'](_0x19b447*randomizeDecimal(0.1,0.3));_0x308d69=Math["\u006d\u0061\u0078"](0x4e98d^0x4e98c,_0x308d69);player['emporLB']=player['emporLB']+_0x308d69;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x308d69)+'帝者灵宝碎片.');addDungeonLog('<span\x20class=\x22Legendary\x22>你获得了'+nFormatter(_0x308d69)+'【帝者灵宝碎片】</span>');}}if(player['hardloop']>=0x1){let _0xacf5a4=player['hardloop'];if(Math['floor'](Math['random']()*0x64)<=_0xacf5a4+0x1){player['hardloopsign']=player['hardloopsign']+0x1;addCombatLog('你获得了1个【煎熬象征】');addDungeonLog(">naps/<\u3011\u5F81\u8C61\u71AC\u714E\u3010\u4E2A1\u4E86\u5F97\u83B7\u4F60>\"yradnegeL\"=ssalc naps<".split("").reverse().join(""));}}player['stats']['hp']+=Math['round'](player['stats']['hpMax']*(0x6adb9^0x6adad)/(0x5c2ff^0x5c29b));playerLoadStats();document['querySelector']('#battleButton')['addEventListener']('click',function(){sfxConfirm['play']();let _0x205446=document['querySelector']("niam-noegnud#".split("").reverse().join(""));_0x205446['style']['filter']="\u0062\u0072\u0069\u0067\u0068\u0074\u006e\u0065\u0073\u0073\u0028\u0031\u0030\u0030\u0025\u0029";bgmDungeon['play']();dungeon['status']['event']=![];combatPanel['style']['display']='none';enemyDead=![];combatBacklog["\u006c\u0065\u006e\u0067\u0074\u0068"]=0x0;});if(player['ak']==0x1){document['querySelector']("nottuBelttab#".split("").reverse().join(""))['click']();}endCombat();}};function getDtype(_0x510142){if(_0x510142=='crit\x20damage')return"\u51FB\u66B4".split("").reverse().join("");if(_0x510142=='damage')return"\u901A\u666E".split("").reverse().join("");return _0x510142;}const playerAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack["\u0070\u006c\u0061\u0079"]();}let _0x2104d1;let _0x5d0e08=player['stats']['atk']*(player['stats']['atk']/(player['stats']['atk']+enemy['stats']["\u0064\u0065\u0066"]));let _0x223213=0.9+Math['random']()*0.2;_0x5d0e08=_0x5d0e08*_0x223213;let _0x2bef48=0xae472^0xae473;let _0x140165=0x1;if(player['skills']['includes']("ijoaB".split("").reverse().join(""))){_0x2bef48=1.7;_0x140165=0.6;}if(player['skills']['includes']('Gongji')){_0x2bef48=0xe88cf^0xe88cf;_0x140165=1.3;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('ZSDS')){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x2801a^0x2801b;player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['zsds']=0x1;}if(Math['floor'](Math['random']()*0x64)<player['stats']['critRate']){_0x2104d1=!![];if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("FZCR".split("").reverse().join(""))){_0x2104d1=![];dmgtype="egamad".split("").reverse().join("");_0x5d0e08=Math["\u0072\u006f\u0075\u006e\u0064"](_0x5d0e08*_0x140165);}else{dmgtype='crit\x20damage';_0x5d0e08=Math["\u0072\u006f\u0075\u006e\u0064"](_0x5d0e08*_0x2bef48*(0x1+player['stats']['critDmg']/0x64));if(player['skills']['includes']('Baoji')){addCombatLog("\u6210\u9020\u5916\u989D\u4F60\u4F7F\u3011\u5FC3\u4E4B\u70ED\u72C2\u3010".split("").reverse().join("")+Math["\u0072\u006f\u0075\u006e\u0064"](_0x5d0e08*(_0x2bef48-(0x84bc7^0x84bc6))*((0xcdc00^0xcdc01)+player['stats']['critDmg']/0x64))+'伤害.');}}}else{_0x2104d1=![];dmgtype='damage';_0x5d0e08=Math["\u0072\u006f\u0075\u006e\u0064"](_0x5d0e08*_0x140165);if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Gongji')){addCombatLog('【仁慈之心】使你额外造成'+Math['round'](_0x5d0e08*_0x140165)+'伤害.');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("\u0042\u0051\u005a\u004a")){console['log'](player['tempStats']["\u0066\u0069\u0072\u0073\u0074\u0041\u0074\u006b"]);if(player['tempStats']['firstAtk']==undefined)player['tempStats']['firstAtk']=0x0;if(player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']==0x0){dmgtype='crit\x20damage';_0x5d0e08=Math["\u0072\u006f\u0075\u006e\u0064"](_0x5d0e08*_0x2bef48*0x2*((0xb1a2d^0xb1a2c)+player['stats']['critDmg']/(0x80daf^0x80dcb)));player['tempStats']['firstAtk']=0x1;addCombatLog('你激发出【不屈之剑】');}}objectValidation();if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("rozaR tnanmeR".split("").reverse().join(""))){_0x5d0e08+=Math['round'](0x8*enemy['stats']['hp']/(0xedd03^0xedd67));}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Titan\x27s\x20Will')){_0x5d0e08+=Math['round']((0xe925c^0xe9259)*player['stats']['hpMax']/(0xae8b2^0xae8d6));}if(player['skills']['includes']('Devastator')){_0x5d0e08=Math["\u0072\u006f\u0075\u006e\u0064"](_0x5d0e08+0x1e*_0x5d0e08/0x64);}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u0052\u0061\u006d\u0070\u0061\u0067\u0065\u0072")){player['baseStats']['atk']+=0xd7fa9^0xd7fac;objectValidation();player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['atk']+=0x8b6ef^0x8b6ea;saveData();}if(player['skills']['includes']('Blade\x20Dance')){player['baseStats']["\u0061\u0074\u006b\u0053\u0070\u0064"]+=0.3;objectValidation();player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['atkSpd']+=0.3;saveData();}if(player['skills']['includes']("gnodiqiauK".split("").reverse().join(""))){player["\u0062\u0061\u0073\u0065\u0053\u0074\u0061\u0074\u0073"]['atkSpd']-=0.01;objectValidation();player['tempStats']["\u0061\u0074\u006b\u0053\u0070\u0064"]-=0.01;saveData();}let _0x46156b=0x1;if(player['skills']['includes']('Kuangbao')){if(player["\u0073\u0074\u0061\u0074\u0073"]['hp']<=player['stats']['hpMax']*0.5){addCombatLog("\u7EA2\u7329\u76EE\u773C,\u3011\u8863\u8840\u3010\u62AB\u8EAB\u4F60".split("").reverse().join(""));_0x5d0e08=Math['ceil'](_0x5d0e08*1.5);_0x46156b=0x230a2^0x230a0;}}let _0x1d980f=player["\u0073\u0074\u0061\u0074\u0073"]['atkSpd'];_0x1d980f=_0x1d980f*_0x46156b;let _0x40b1fb=0x1;if(player['skills']['includes']('JiyuanXiaoguo')){addCombatLog("\u8840\u6C14\u7684\u65B9\u5BF9\u6536\u5438\u7684\u65AD\u4E0D\u6E90\u6E90\u3011\u8EAF\u4E4B\u7075\u996E\u3010\u7684\u4F60".split("").reverse().join(""));_0x40b1fb=1.3;}if(player['skills']['includes']('Yinxue')){addCombatLog('你的【饮血】源源不断的吸收对方的气血');_0x40b1fb=0x2;}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("nuhciuH".split("").reverse().join(""))){addCombatLog('你的【大回春术】滋养你的身体,你转瞬间容光焕发!');addCombatLog('恢复了'+Math['ceil'](player['stats']['hpMax']*0.02)+"\u8840\u6C14".split("").reverse().join(""));player['stats']['hp']+=Math["\u0063\u0065\u0069\u006c"](player['stats']['hpMax']*0.02);}if(player['skills']['includes']('QixueHun')){addCombatLog("!\u529B\u5A01\u7684\u51FB\u653B\u4E86\u5F3A\u52A0\u3011\u9B42\u4E4B\u8840\u6C14\u3010\u7684\u4F60".split("").reverse().join(""));let _0x230aef=player['stats']['hp']/player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070\u004d\u0061\u0078"]*0x64;if(_0x230aef<0x46){let _0x17f47c=(0x78e79^0x78e1d)-_0x230aef;let _0x5b055d=_0x17f47c*0x2;_0x5d0e08+=Math['ceil'](_0x5d0e08*(_0x5b055d/0x64));}}if(player['skills']['includes']("naitoaD".split("").reverse().join(""))){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0xeaf60^0xeaf04))<(0x731a0^0x731a5)){player['bonusStats']['hp']+=Math["\u0063\u0065\u0069\u006c"](_0x5d0e08*0.01);addCombatLog("!!\u534E\u7CBE\u5730\u5929\u8D70\u7A83\u4F60\u3011\u5929\u76D7\u3010".split("").reverse().join(""));}}if(player['skills']['includes']('Luantian')){if(Math['floor'](Math['random']()*0x64)<0x5){player['bonusStats']['critRate']+=0.01;addCombatLog("!!\u5E8F\u5929\u4E86\u4E71\u6253\u4F60\u3011\u5929\u4E71\u3010".split("").reverse().join(""));}}if(player['skills']['includes']("naitiaB".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0x5){player['bonusStats']["\u0064\u0065\u0066"]+=Math['ceil'](_0x5d0e08*0.01);addCombatLog('【败天】你削减了天时!!');}}if(player['skills']['includes']('Lutian')){if(Math['floor'](Math['random']()*(0xcd2c7^0xcd2a3))<(0x4c929^0x4c928)){player['bonusStats']["\u0061\u0074\u006b"]+=Math['ceil'](_0x5d0e08*0.003);addCombatLog('【戮天】你破灭了某处!!');}}if(player['skills']['includes']('Zhutian')){if(Math['floor'](Math['random']()*(0xdea85^0xdeae1))<0x1){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['critDmg']+=0.5;addCombatLog('【诛天】你诛灭了某处!!');}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("naitiaD".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0x1){_0x5d0e08=enemy['stats']['hp'];addCombatLog("\u3010\u4ee3\u5929\u3011\u5ba3\u5e03\u5bf9\u65b9\u7acb\u5373\u5931\u8d25");}}if(player['skills']['includes']("nuynauX".split("").reverse().join(""))){if(Math['floor'](Math['random']()*(0xf2014^0xf2070))<(0x8cccd^0x8ccc2)){enemy['stats']['atk']=Math['floor'](enemy['stats']['atk']-enemy['stats']['atk']*0.05);addCombatLog("\u529B\u65E0\u8EAB\u6D51,\u7729\u76EE\u6655\u5934\u89C9\u611F\u65F6\u987F\u65B9\u5BF9,\u51FB\u4E00\u5730\u731B\u4E0A\u5934\u65B9\u5BF9\u5411\u4F60".split("").reverse().join(""));}}if(player['skills']['includes']("GdloG".split("").reverse().join(""))){let _0x27c357=0xdb2db^0xdb2da;_0x27c357=(0x593aa^0x593ab)+player['gold']/0x3e8*0.01;_0x5d0e08=Math['floor'](_0x5d0e08*_0x27c357);player['gold']=player["\u0067\u006f\u006c\u0064"]-Math['floor'](_0x5d0e08*0.09);addCombatLog("\u53BB\u7838\u65B9\u5BF9\u5411\u7684\u65AD\u4E0D\u6E90\u6E90\u77F3\u7075\u7684\u4F60".split("").reverse().join(""));}if(player['skills']['includes']("GrooP".split("").reverse().join(""))){if(player['gold']<(0x64990^0x64a78)){_0x5d0e08=_0x5d0e08+(0x81ef8^0x81eca);addCombatLog('穷神祝福你');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('HL')){_0x5d0e08=Math['floor'](_0x5d0e08*1.3);if(Math['floor'](Math['random']()*0x64)<(0xc3324^0xc333a)){_0x5d0e08=0x0;addCombatLog('哎呀,打歪了');}}let _0x96504d=Math['round'](_0x5d0e08*_0x40b1fb*(player['stats']['vamp']/0x64));if(player['skills']['includes']('TRA')){if(Math['floor'](Math['random']()*0x64)<(0x2604a^0x26040)){enemy['stats']['hp']-=_0x5d0e08;addCombatLog('--【天人同击】--');}}if(player['skills']['includes']('RCZF')){enemy['stats']['hp']-=_0x5d0e08;addCombatLog('【仁慈之风】发动了第二次攻击');}if(player['skills']['includes']('DPMJ')){_0x5d0e08=Math['floor'](player['stats']['def']*0.1);if(Math['floor'](Math['random']()*(0x83214^0x83270))<player['stats']['critRate']){_0x2104d1=!![];dmgtype='crit\x20damage';_0x5d0e08=Math['round'](_0x5d0e08*_0x2bef48*(0x1+player['stats']['critDmg']/0x64));}addCombatLog('你用你的肚皮攻击');}if(player['skills']['includes']("XF".split("").reverse().join(""))){if(Math['floor'](Math['random']()*(0x2ba34^0x2ba50))<0x32){player['stats']['hp']-=player['stats']['hp']*0.5;_0x5d0e08=_0x5d0e08*0x3;addCombatLog('你放血而击');}}if(player['skills']['includes']("JJZ".split("").reverse().join(""))){player['stats']['hp']-=player['stats']['hp']*0.05;if(player['tempStats']['zjj']==undefined)player['tempStats']['zjj']=0x688c8^0x688c8;player['tempStats']['zjj']=player['tempStats']['zjj']+0x1;let _0x3806f0=(0x371e1^0x371e0)+0.1*player['tempStats']['zjj'];_0x5d0e08=_0x5d0e08*_0x3806f0;}if(player['skills']['includes']("MXLH".split("").reverse().join(""))){if(enemy['stats']['hp']-_0x5d0e08*(0x2c49f^0x2c49d)<=(0x73ec8^0x73ec8)){_0x5d0e08=_0x5d0e08*(0x36e33^0x36e31);}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0xc3017^0xc3017;if(Math['floor'](Math['random']()*(0xbb595^0xbb5f1))<0xa){let _0x505675=Math['floor'](Math['random']()*(0xdc311^0xdc312))+0x1;if(_0x505675==(0x2ed3f^0x2ed3e)){player['tempStats']['txww']=0xaea0c^0xaea0d;addCombatLog('你进入【玄】');}if(_0x505675==(0x1a052^0x1a050)){player['tempStats']['txww']=0x74f91^0x74f93;addCombatLog('你进入【止】');}if(_0x505675==0x3){player['tempStats']['txww']=0x3;addCombatLog('你进入【动】');}}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x5d0e08=_0x5d0e08*0x2;addCombatLog("\u635F\u6613\u4E4B\u3011\u7384\u3010".split("").reverse().join(""));}if(player['tempStats']['txww']==(0x334d7^0x334d4)){enemy['stats']['hp']-=_0x5d0e08;enemy['stats']['hp']-=_0x5d0e08;player['tempStats']['txww']=0xd7445^0xd7445;addCombatLog('你退出【动】');}}enemy['stats']['hp']-=_0x5d0e08;player['stats']['hp']+=_0x96504d;addCombatLog(player['name']+'\x20对\x20\x20'+enemy['name']+" \u4E86\u6210\u9020".split("").reverse().join("")+nFormatter(_0x5d0e08)+('\x20'+getDtype(dmgtype)+"\u5BB3\u4F24 ".split("").reverse().join("")));hpValidation();playerLoadStats();enemyLoadStats();let _0x2ed460=document['querySelector']("etirps-ymene#".split("").reverse().join(""));_0x2ed460['classList']['add']('animation-shake');setTimeout(()=>{_0x2ed460['classList']['remove']("ekahs-noitamina".split("").reverse().join(""));},0xc8);const _0x5ac19c=document['querySelector']("reniatnoc-gmd#".split("").reverse().join(""));const _0x165e48=document['createElement']('p');_0x165e48['classList']['add']('dmg-numbers');if(_0x2104d1){_0x165e48['style']['color']="dlog".split("").reverse().join("");_0x165e48['innerHTML']=nFormatter(_0x5d0e08)+'!';}else{_0x165e48['innerHTML']=nFormatter(_0x5d0e08);}_0x5ac19c['appendChild'](_0x165e48);setTimeout(()=>{_0x5ac19c['removeChild'](_0x5ac19c['lastElementChild']);},0x172);if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){playerAttack();}},0x3e8/_0x1d980f);}};const enemyAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x24675b=enemy['stats']['atk']*(enemy['stats']['atk']/(enemy['stats']['atk']+player['stats']["\u0064\u0065\u0066"]));let _0x4e8d29=Math['round'](enemy['stats']['atk']*(enemy['stats']['vamp']/0x64));let _0x4c638e=0.9+Math['random']()*0.2;_0x24675b=_0x24675b*_0x4c638e;if(Math['floor'](Math['random']()*0x64)<enemy['stats']['critRate']){if(player['skills']['includes']('ZDKJ')){dmgtype='damage';_0x24675b=Math['round'](_0x24675b);}else{dmgtype="egamad tirc".split("").reverse().join("");_0x24675b=Math['round'](_0x24675b*((0x1f96f^0x1f96e)+enemy['stats']['critDmg']/0x64));}}else{dmgtype="egamad".split("").reverse().join("");_0x24675b=Math["\u0072\u006f\u0075\u006e\u0064"](_0x24675b);}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("traeH s'nidalaP".split("").reverse().join(""))){_0x24675b=Math['round'](_0x24675b-0x19*_0x24675b/(0xce4c8^0xce4ac));}if(player['skills']['includes']('Shanbi')){if(Math['floor'](Math['random']()*(0xd6acf^0xd6aab))<(0x66b2c^0x66b32)){let _0x34b5ec=Math['ceil'](_0x24675b*0.5);_0x24675b=0x0;addCombatLog('你于风中隐藏,对方的攻击如同石牛如海');if(Math['floor'](Math['random']()*(0xe0cb0^0xe0cd4))<0x28){enemy['stats']['hp']-=_0x34b5ec;addCombatLog("\u53BB\u800C\u98DE\u5012\u7ADF\u52BF\u653B\u7684\u65B9\u5BF9,\u53CD\u5F39\u5F00\u5C55\u4E2D\u98CE\u4E8E\u4F60".split("").reverse().join(""));}}}if(player['skills']['includes']("SdloG".split("").reverse().join(""))){let _0x4c4db7=0x1;_0x4c4db7=player['gold']/0x3e8*0.01;player['gold']=player['gold']-Math['floor'](_0x24675b*0.07);_0x24675b=Math['max'](0x5b51e^0x5b51f,Math['floor'](_0x24675b*(0x1-_0x4c4db7)));addCombatLog('你的灵石守护着你');}if(player['skills']['includes']("SrooP".split("").reverse().join(""))){if(player['gold']<0x3e8){_0x24675b=Math['max'](0x1,_0x24675b-0x1e);addCombatLog('穷神祝福你');}}if(player['skills']['includes']('Jingfan')){let _0x230f2a=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x230f2a<0x1e){addCombatLog('你的【脆镜反射】反射了同样的伤害回去!');enemy['stats']['hp']-=_0x24675b;}}if(player['skills']['includes']('ZGQX')){let _0x1cdcfb=player["\u0073\u0074\u0061\u0074\u0073"]['hp']/player['stats']['hpMax']*0x64;if(_0x1cdcfb>0x50){if(player['stats']['hp']-_0x24675b<=0x0){_0x24675b=player['stats']['hp']-0x5;}}}if(player['skills']['includes']('YJSH')){if(Math['floor'](Math['random']()*0x64)<0x63){if(dmgtype=='damage'){_0x24675b=0x0;addCombatLog('你被异界气息笼罩,完全无视了这次攻击');}}_0x24675b=_0x24675b*0xa;if(_0x24675b!=0x0)addCombatLog('你被这个世界排斥!!');}if(player['skills']['includes']('DCJJ')){if(player['stats']['hp']==player['stats']['hpMax']){_0x24675b=Math['floor'](_0x24675b*0.5);addCombatLog('你的【多重坚甲】守护着你');}}if(player['skills']['includes']('BQZD')){if(player['tempStats']['firstDef']==undefined)player['tempStats']['firstDef']=0x0;if(player['tempStats']['firstDef']==0x0){let _0x4fccbc=_0x24675b;player['stats']['hp']=player['stats']['hp']+_0x4fccbc;_0x24675b=0x0;player['tempStats']['firstDef']=0x1;addCombatLog('你激发出【不屈之盾】');addCombatLog('你获得了'+_0x4fccbc+'治疗');}}if(player['skills']['includes']('CZJS')){if(player['tempStats']['czjs']==undefined)player['tempStats']['czjs']=0x0;if(player['stats']['hp']-_0x24675b<=0x0){_0x24675b=0x0;if(player['tempStats']['czjs']==0x0){player['stats']['hp']=player['stats']['hpMax'];player['tempStats']['czjs']=0x1;addCombatLog('你拒绝了死亡');}}}if(player['skills']['includes']('ZSDS')){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x0;if(player['tempStats']['zsds']==0x0){if(Math['floor'](Math['random']()*0x64)<player['stats']['critRate']){crit=!![];dmgtype='crit\x20damage';_0x24675b=Math['round'](_0x24675b*crit_mod*(0x1+player['stats']['critDmg']/0x64));}enemy['stats']['hp']-=_0x24675b/0x2;_0x24675b=0x0;player['tempStats']['zsds']=0x1;addCombatLog('这对【战术大师】无效');}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x24675b=_0x24675b*0x2;addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==0x2){_0x24675b=Math['floor'](_0x24675b*0.7);player['tempStats']['txww']=0x0;addCombatLog('心如【止】水');}}player['stats']['hp']-=_0x24675b;objectValidation();if(player['skills']['includes']('Aegis\x20Thorns')){enemy['stats']['hp']-=Math['round'](0xf*_0x24675b/0x64);}if(player['skills']['includes']('Neigui')){if(Math['floor'](Math['random']()*0x64)<0xa){enemy['stats']['hp']-=_0x24675b;addCombatLog('有内鬼,中止交易');}}enemy['stats']['hp']+=_0x4e8d29;addCombatLog(enemy['name']+" \u5BF9 ".split("").reverse().join("")+player['name']+'\x20造成了'+nFormatter(_0x24675b)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0x3fb605=document['querySelector']('#playerPanel');_0x3fb605['classList']['add']('animation-shake');setTimeout(()=>{_0x3fb605['classList']['remove']('animation-shake');},0xc8);let _0x57a483=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x57a483=Math['max'](0.1,player['stats']['atkSpd']-0.1);addCombatLog('敌人被震撼着');}}if(player['skills']['includes']('YJMY')){player['stats']['atkSpd']=player['stats']['atkSpd']-0.05;_0x57a483=enemy['stats']['atkSpd'];addCombatLog('敌人被你的棉衣纠缠住了!');}if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){enemyAttack();}},0x3e8/_0x57a483);}};const combatBacklog=[];const addCombatLog=_0x131f40=>{combatBacklog['push'](_0x131f40);updateCombatLog();};const updateCombatLog=()=>{let _0x6cb3d2=document['getElementById']('combatLogBox');_0x6cb3d2['innerHTML']='';for(let _0x5e4978 of combatBacklog){let _0x128b2c=document['createElement']('p');_0x128b2c['innerHTML']=_0x5e4978;_0x6cb3d2['appendChild'](_0x128b2c);}if(enemyDead){let _0x365ec4=document['createElement']('div');_0x365ec4['className']='decision-panel';_0x365ec4['innerHTML']='<button\x20id=\x22battleButton\x22>知道了</button>';_0x6cb3d2['appendChild'](_0x365ec4);}if(playerDead){let _0x183984=document['createElement']('div');_0x183984['className']='decision-panel';_0x183984['innerHTML']='<button\x20id=\x22battleButton\x22>回到菜单</button>';_0x6cb3d2['appendChild'](_0x183984);}_0x6cb3d2['scrollTop']=_0x6cb3d2['scrollHeight'];};let combatSeconds=0x0;const startCombat=_0xd65828=>{bgmDungeon['pause']();sfxEncounter['play']();_0xd65828['play']();player['inCombat']=!![];let _0x4e4a1b=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x4e4a1b=Math['max'](0.1,player['stats']['atkSpd']-0.1);}}setTimeout(playerAttack,0x3e8/player['stats']['atkSpd']);setTimeout(enemyAttack,0x3e8/_0x4e4a1b);let _0x1d0911=document['querySelector']('#dungeon-main');_0x1d0911['style']['filter']='brightness(50%)';playerLoadStats();enemyLoadStats();dungeon['status']['event']=!![];combatPanel['style']['display']='flex';combatTimer=setInterval(combatCounter,0x3e8);};const endCombat=()=>{bgmBattleMain['stop']();bgmBattleGuardian['stop']();bgmBattleBoss['stop']();sfxCombatEnd['play']();player['inCombat']=![];if(player['deepth']==undefined)player['deepth']=0x1;player['deepth']=dungeon['progress']['floor'];if(player['skills']['includes']('Rampager')){objectValidation();player['baseStats']['atk']-=player['tempStats']['atk'];player['tempStats']['atk']=0x0;saveData();}if(player['skills']['includes']('Blade\x20Dance')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('Kuaiqidong')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']("JZQB".split("").reverse().join(""))){objectValidation();player['tempStats']['firstAtk']=0x0;saveData();}if(player['skills']['includes']('BQZD')){objectValidation();player['tempStats']['firstDef']=0x0;saveData();}if(player['skills']['includes']('CZJS')){objectValidation();player['tempStats']['czjs']=0x0;saveData();}if(player['skills']['includes']('ZJJ')){objectValidation();player['tempStats']['zjj']=0x0;saveData();}if(player['skills']['includes']('ZSDS')){objectValidation();player['tempStats']['zsds']=0x0;saveData();}if(player['skills']['includes']('TXWW')){objectValidation();player['tempStats']['txww']=0x0;saveData();}clearInterval(combatTimer);combatSeconds=0x0;};const combatCounter=()=>{combatSeconds++;};const showCombatInfo=()=>{document['querySelector']('#combatPanel')['innerHTML']='\x0a\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20center\x22\x20id=\x22enemyPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+enemy['name']+'\x20Lv.'+enemy['lvl']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20hp\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22enemy-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22enemy-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(enemy['stats']['hp'])+'/'+nFormatter(enemy['stats']['hpMax'])+'<br>('+enemy['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dmg-container\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22./assets/sprites/'+enemy['image']['name']+enemy['image']['type']+'\x22\x20alt=\x22'+enemy["\u006e\u0061\u006d\u0065"]+'\x22\x20width=\x22'+enemy['image']['size']+'\x22\x20id=\x22enemy-sprite\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20primary-panel\x22\x20id=\x22playerPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22player-combat-info\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22player-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22player-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(player["\u0073\u0074\u0061\u0074\u0073"]['hp'])+'/'+nFormatter(player['stats']['hpMax'])+'('+player['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-xb\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-xb\x22\x20id=\x22player-exp-bar\x22>exp</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22logBox\x20primary-panel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22combatLogBox\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';};