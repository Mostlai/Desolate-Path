const combatPanel=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("lenaPtabmoc#".split("").reverse().join(""));let enemyDead=![];let playerDead=![];const hpValidation=()=>{if(player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]<(0x2b04f^0x2b04e)){if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==undefined)player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]=0xa4604^0xa4604;if(player["\u0072\u0065\u0062\u0069\u0072\u0074\u0068"]==(0x2e52b^0x2e52b)){player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0x45c06^0x45c06;playerDead=!![];player["\u0064\u0065\u0061\u0074\u0068\u0073"]++;if(player["\u0062\u0061\u006e\u006b"]==undefined)player["\u0062\u0061\u006e\u006b"]=0x36fd0^0x36fd0;player['bank']=player['bank']+Math['ceil'](player["\u0067\u006f\u006c\u0064"]*0.3);player["\u0067\u006f\u006c\u0064"]=0x9de7e^0x9de7e;addCombatLog("!\u4E86\u6B7B\u4F60".split("").reverse().join(""));addCombatLog("\u5E84\u94B1\u4E86\u5165\u5B58\u52A8\u81EA\u77F3\u7075\u7684%03".split("").reverse().join(""));document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("nottuBelttab#".split("").reverse().join(""))["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]("\u0063\u006c\u0069\u0063\u006b",function(){sfxConfirm["\u0070\u006c\u0061\u0079"]();playerDead=![];let _0x77f3f1=document['querySelector']('#dungeon-main');_0x77f3f1['style']["\u0066\u0069\u006c\u0074\u0065\u0072"]=")%001(ssenthgirb".split("").reverse().join("");_0x77f3f1["\u0073\u0074\u0079\u006c\u0065"]['display']="enon".split("").reverse().join("");combatPanel['style']["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="\u006e\u006f\u006e\u0065";runLoad("\u0074\u0069\u0074\u006c\u0065\u002d\u0073\u0063\u0072\u0065\u0065\u006e",'flex');clearInterval(dungeonTimer);clearInterval(playTimer);progressReset();});}else{enemyDead=!![];player["\u0073\u0074\u0061\u0074\u0073"]['hp']=player['stats']['hpMax'];addCombatLog("\u4f60\u6d88\u8017\u4e00\u5f20\u3010\u590d\u6d3b\u5377\u8f74\u3011\u9003\u51fa\u751f\u5929");player['rebirth']=player['rebirth']-(0xa66f4^0xa66f5);document['querySelector']("nottuBelttab#".split("").reverse().join(""))["\u0061\u0064\u0064\u0045\u0076\u0065\u006e\u0074\u004c\u0069\u0073\u0074\u0065\u006e\u0065\u0072"]("kcilc".split("").reverse().join(""),function(){sfxConfirm["\u0070\u006c\u0061\u0079"]();let _0x860b2e=document["\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006c\u0065\u0063\u0074\u006f\u0072"]("niam-noegnud#".split("").reverse().join(""));_0x860b2e["\u0073\u0074\u0079\u006c\u0065"]['filter']=")%001(ssenthgirb".split("").reverse().join("");bgmDungeon["\u0070\u006c\u0061\u0079"]();dungeon["\u0073\u0074\u0061\u0074\u0075\u0073"]["\u0065\u0076\u0065\u006e\u0074"]=![];combatPanel["\u0073\u0074\u0079\u006c\u0065"]["\u0064\u0069\u0073\u0070\u006c\u0061\u0079"]="enon".split("").reverse().join("");enemyDead=![];combatBacklog["\u006c\u0065\u006e\u0067\u0074\u0068"]=0xec89a^0xec89a;});}endCombat();}else if(enemy['stats']['hp']<(0x73775^0x73774)){enemy["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070"]=0x0;enemyDead=!![];player['kills']++;dungeon["\u0073\u0074\u0061\u0074\u0069\u0073\u0074\u0069\u0063\u0073"]["\u006b\u0069\u006c\u006c\u0073"]++;addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20神魂俱灭!\x20('+new Date(combatSeconds*0x3e8)["\u0074\u006f\u0049\u0053\u004f\u0053\u0074\u0072\u0069\u006e\u0067"]()["\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006e\u0067"](0xe,0xe5413^0xe5400)+')');addCombatLog('你得到了'+nFormatter(enemy['rewards']['exp'])+"\u7ecf\u9a8c\u002e");if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Jingyan')){addCombatLog("\u5F97\u83B7\u5916\u989D\u4F60\u4F7F\u3011\u6DF1\u8D44\u3010".split("").reverse().join("")+nFormatter(Math['ceil'](enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['exp']*0.2))+"\u7ecf\u9a8c\u002e");}playerExpGain();let _0x3e030e=0x1;let _0x179a87=0x1;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("\u004c\u0069\u006e\u0067\u0073\u0068\u0069")){_0x3e030e=1.3;}if(player['kll']==(0x3495b^0x3495a)){_0x179a87=0x2;}addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20掉落了\x20<i\x20class=\x22fa-solid\x20fa-gem\x22\x20style=\x22color:\x20#ff8000;\x22></i>'+nFormatter(enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]['gold']*_0x3e030e*_0x179a87)+".\u77F3\u7075 ".split("").reverse().join(""));if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("\u004c\u0069\u006e\u0067\u0073\u0068\u0069")){addCombatLog("\u3010\u5e1d\u738b\u5b9d\u5e93\u3011\u4f7f\u4f60\u989d\u5916\u83b7\u5f97"+nFormatter(Math["\u0063\u0065\u0069\u006c"](enemy['rewards']['gold']*0.3))+'灵石.');}player["\u0067\u006f\u006c\u0064"]+=enemy["\u0072\u0065\u0077\u0061\u0072\u0064\u0073"]["\u0067\u006f\u006c\u0064"]*_0x3e030e*_0x179a87;playerLoadStats();if(enemy['rewards']['drop']){createEquipmentPrint('combat');}let _0x2c9936=0xd677b^0xd677a;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('XBS')){_0x2c9936=1.5;}if(player['cureseLB']==undefined)player['cureseLB']=0x0;if(player["\u0072\u0069\u0066\u0074\u004c\u0042"]==undefined)player['riftLB']=0xdf598^0xdf598;if(player['emporLB']==undefined)player['emporLB']=0x0;if(enemy["\u0063\u006c\u0061\u0073\u0073"]=="naidraug".split("").reverse().join("")){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<(0x764be^0x764bc)*_0x2c9936){createEquipmentPrint("\u0063\u006f\u006d\u0062\u0061\u0074","BLTX".split("").reverse().join(""));}else if(Math['floor'](Math['random']()*(0xbe3e2^0xbe386))<(0x5ff81^0x5ff82)*_0x2c9936){createEquipmentPrint('combat','LB');}let _0x4756c3=Math['floor'](enemy['lvl']/0xa);if(Math['floor'](Math['random']()*0x64)<0x64){let _0x323c85=Math['floor'](_0x4756c3*randomizeDecimal(0.3,0.6));_0x323c85=Math["\u006d\u0061\u0078"](0x1,_0x323c85);player['cureseLB']=player['cureseLB']+_0x323c85;addCombatLog("\u4E86\u5230\u627E\u4F60".split("").reverse().join("")+nFormatter(_0x323c85)+'诅咒灵宝碎片.');}if(Math['floor'](Math['random']()*0x64)<0x6){let _0x22385b=Math['floor'](_0x4756c3*randomizeDecimal(0.1,0.5));_0x22385b=Math['max'](0x1,_0x22385b);player['riftLB']=player['riftLB']+_0x22385b;addCombatLog('你找到了'+nFormatter(_0x22385b)+'裂隙灵宝碎片.');}}if(enemy["\u0063\u006c\u0061\u0073\u0073"]=='sboss'){if(Math['floor'](Math['random']()*0x64)<0x32){if(player['rebirth']==undefined)player['rebirth']=0x913c1^0x913c1;player['rebirth']=player['rebirth']+(0x18f01^0x18f00);addCombatLog('你从这个强大的生物上找到一张【复活卷轴】');}if(Math['floor'](Math['random']()*(0xae8b6^0xae8d2))<0x1*_0x2c9936){createEquipmentPrint("tabmoc".split("").reverse().join(""),'DB');}else if(Math['floor'](Math['random']()*(0xa58dd^0xa58b9))<0x2*_0x2c9936){createEquipmentPrint("tabmoc".split("").reverse().join(""),"BZ".split("").reverse().join(""));}let _0x137256=Math['floor'](enemy['lvl']/(0xb806b^0xb806c));if(Math['floor'](Math['random']()*(0x81875^0x81811))<0x5){let _0x79b5eb=Math['floor'](_0x137256*randomizeDecimal(0.3,0.6));_0x79b5eb=Math["\u006d\u0061\u0078"](0x1,_0x79b5eb);player['cureseLB']=player['cureseLB']+_0x79b5eb;addCombatLog("\u4f60\u627e\u5230\u4e86"+nFormatter(_0x79b5eb)+'诅咒灵宝碎片.');}if(Math['floor'](Math['random']()*(0xc153e^0xc155a))<(0x69dcf^0x69dca)){let _0x5996fe=Math['floor'](_0x137256*randomizeDecimal(0.1,0.5));_0x5996fe=Math['max'](0x1,_0x5996fe);player['riftLB']=player["\u0072\u0069\u0066\u0074\u004c\u0042"]+_0x5996fe;addCombatLog('你找到了'+nFormatter(_0x5996fe)+'裂隙灵宝碎片.');}if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0x6b3b8^0x6b3dc))<(0x5f6a1^0x5f6a4)){let _0xb32e7f=Math['floor'](_0x137256*randomizeDecimal(0.1,0.3));_0xb32e7f=Math['max'](0xd03da^0xd03db,_0xb32e7f);player['emporLB']=player['emporLB']+_0xb32e7f;addCombatLog('你找到了'+nFormatter(_0xb32e7f)+'帝者灵宝碎片.');}}player['stats']['hp']+=Math['round'](player['stats']["\u0068\u0070\u004d\u0061\u0078"]*(0x8e685^0x8e691)/0x64);playerLoadStats();document['querySelector']("nottuBelttab#".split("").reverse().join(""))['addEventListener']('click',function(){sfxConfirm["\u0070\u006c\u0061\u0079"]();let _0x85d3f=document['querySelector']('#dungeon-main');_0x85d3f['style']['filter']='brightness(100%)';bgmDungeon['play']();dungeon['status']['event']=![];combatPanel['style']['display']="enon".split("").reverse().join("");enemyDead=![];combatBacklog['length']=0xa2b53^0xa2b53;});endCombat();}};function getDtype(_0x87686c){if(_0x87686c=="egamad tirc".split("").reverse().join(""))return"\u51FB\u66B4".split("").reverse().join("");if(_0x87686c=='damage')return'普通';return _0x87686c;}const playerAttack=()=>{if(!player["\u0069\u006e\u0043\u006f\u006d\u0062\u0061\u0074"]){return;}if(player["\u0069\u006e\u0043\u006f\u006d\u0062\u0061\u0074"]){sfxAttack["\u0070\u006c\u0061\u0079"]();}let _0x23c363;let _0x47662e=player['stats']['atk']*(player['stats']['atk']/(player['stats']['atk']+enemy['stats']['def']));let _0x3b30fe=0.9+Math['random']()*0.2;_0x47662e=_0x47662e*_0x3b30fe;let _0x58cf6b=0x1;let _0x46f8fc=0x496fb^0x496fa;if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Baoji')){_0x58cf6b=1.7;_0x46f8fc=0.6;}if(player['skills']['includes']("ijgnoG".split("").reverse().join(""))){_0x58cf6b=0x0;_0x46f8fc=1.3;}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('ZSDS')){if(player['tempStats']["\u007a\u0073\u0064\u0073"]==undefined)player['tempStats']['zsds']=0x1;player['tempStats']['zsds']=0x1;}if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0x809b7^0x809d3))<player['stats']['critRate']){_0x23c363=!![];if(player['skills']['includes']("FZCR".split("").reverse().join(""))){_0x23c363=![];dmgtype="egamad".split("").reverse().join("");_0x47662e=Math['round'](_0x47662e*_0x46f8fc);}else{dmgtype='crit\x20damage';_0x47662e=Math['round'](_0x47662e*_0x58cf6b*((0x7e694^0x7e695)+player['stats']["\u0063\u0072\u0069\u0074\u0044\u006d\u0067"]/(0x42d61^0x42d05)));if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Baoji')){addCombatLog("\u6210\u9020\u5916\u989D\u4F60\u4F7F\u3011\u5FC3\u4E4B\u70ED\u72C2\u3010".split("").reverse().join("")+Math['round'](_0x47662e*(_0x58cf6b-0x1)*(0x1+player['stats']['critDmg']/0x64))+'伤害.');}}}else{_0x23c363=![];dmgtype='damage';_0x47662e=Math['round'](_0x47662e*_0x46f8fc);if(player['skills']['includes']("\u0047\u006f\u006e\u0067\u006a\u0069")){addCombatLog("\u6210\u9020\u5916\u989D\u4F60\u4F7F\u3011\u5FC3\u4E4B\u6148\u4EC1\u3010".split("").reverse().join("")+Math['round'](_0x47662e*_0x46f8fc)+'伤害.');}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]("JZQB".split("").reverse().join(""))){console['log'](player['tempStats']["\u0066\u0069\u0072\u0073\u0074\u0041\u0074\u006b"]);if(player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']==undefined)player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]["\u0066\u0069\u0072\u0073\u0074\u0041\u0074\u006b"]=0x0;if(player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']==0x0){dmgtype="egamad tirc".split("").reverse().join("");_0x47662e=Math['round'](_0x47662e*_0x58cf6b*0x2*((0x71ca2^0x71ca3)+player["\u0073\u0074\u0061\u0074\u0073"]['critDmg']/(0xe5680^0xe56e4)));player["\u0074\u0065\u006d\u0070\u0053\u0074\u0061\u0074\u0073"]['firstAtk']=0x1;addCombatLog("\u3011\u5251\u4E4B\u5C48\u4E0D\u3010\u51FA\u53D1\u6FC0\u4F60".split("").reverse().join(""));}}objectValidation();if(player['skills']['includes']('Remnant\x20Razor')){_0x47662e+=Math['round'](0x8*enemy['stats']["\u0068\u0070"]/0x64);}if(player['skills']['includes']("lliW s'natiT".split("").reverse().join(""))){_0x47662e+=Math['round']((0xb82f6^0xb82f3)*player['stats']["\u0068\u0070\u004d\u0061\u0078"]/(0x52f66^0x52f02));}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("rotatsaveD".split("").reverse().join(""))){_0x47662e=Math['round'](_0x47662e+0x1e*_0x47662e/(0x724ab^0x724cf));}if(player['skills']['includes']('Rampager')){player['baseStats']['atk']+=0x5;objectValidation();player['tempStats']['atk']+=0x887d5^0x887d0;saveData();}if(player['skills']['includes']('Blade\x20Dance')){player['baseStats']['atkSpd']+=0.3;objectValidation();player['tempStats']['atkSpd']+=0.3;saveData();}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('Kuaiqidong')){player['baseStats']['atkSpd']-=0.01;objectValidation();player['tempStats']['atkSpd']-=0.01;saveData();}let _0x33ff27=0x1;if(player['skills']['includes']('Kuangbao')){if(player['stats']['hp']<=player['stats']['hpMax']*0.5){addCombatLog("\u4f60\u8eab\u62ab\u3010\u8840\u8863\u3011\u002c\u773c\u76ee\u7329\u7ea2");_0x47662e=Math['ceil'](_0x47662e*1.5);_0x33ff27=0x958ed^0x958ef;}}let _0x21c4ee=player['stats']["\u0061\u0074\u006b\u0053\u0070\u0064"];_0x21c4ee=_0x21c4ee*_0x33ff27;let _0x3021f8=0x1;if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('JiyuanXiaoguo')){addCombatLog("\u8840\u6C14\u7684\u65B9\u5BF9\u6536\u5438\u7684\u65AD\u4E0D\u6E90\u6E90\u3011\u8EAF\u4E4B\u7075\u996E\u3010\u7684\u4F60".split("").reverse().join(""));_0x3021f8=1.3;}if(player['skills']['includes']('Yinxue')){addCombatLog("\u4f60\u7684\u3010\u996e\u8840\u3011\u6e90\u6e90\u4e0d\u65ad\u7684\u5438\u6536\u5bf9\u65b9\u7684\u6c14\u8840");_0x3021f8=0x2;}if(player['skills']['includes']("nuhciuH".split("").reverse().join(""))){addCombatLog('你的【大回春术】滋养你的身体,你转瞬间容光焕发!');addCombatLog("\u4E86\u590D\u6062".split("").reverse().join("")+Math['ceil'](player["\u0073\u0074\u0061\u0074\u0073"]["\u0068\u0070\u004d\u0061\u0078"]*0.02)+'气血');player['stats']['hp']+=Math['ceil'](player['stats']['hpMax']*0.02);}if(player['skills']['includes']("nuHeuxiQ".split("").reverse().join(""))){addCombatLog('你的【气血之魂】加强了攻击的威力!');let _0x3aad35=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x3aad35<0x46){let _0x50a9c5=(0x657ed^0x65789)-_0x3aad35;let _0x2788b6=_0x50a9c5*(0x7e660^0x7e662);_0x47662e+=Math['ceil'](_0x47662e*(_0x2788b6/0x64));}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("naitoaD".split("").reverse().join(""))){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*0x64)<(0x5c1bc^0x5c1b9)){player['bonusStats']["\u0068\u0070"]+=Math['ceil'](_0x47662e*0.01);addCombatLog("!!\u534E\u7CBE\u5730\u5929\u8D70\u7A83\u4F60\u3011\u5929\u76D7\u3010".split("").reverse().join(""));}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("naitnauL".split("").reverse().join(""))){if(Math['floor'](Math['random']()*(0xae660^0xae604))<0x5){player['bonusStats']['critRate']+=0.01;addCombatLog('【乱天】你打乱了天序!!');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']("naitiaB".split("").reverse().join(""))){if(Math['floor'](Math['random']()*0x64)<0x5){player['bonusStats']['def']+=Math['ceil'](_0x47662e*0.01);addCombatLog('【败天】你削减了天时!!');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Lutian')){if(Math['floor'](Math['random']()*(0x98e46^0x98e22))<0x1){player["\u0062\u006f\u006e\u0075\u0073\u0053\u0074\u0061\u0074\u0073"]['atk']+=Math['ceil'](_0x47662e*0.003);addCombatLog('【戮天】你破灭了某处!!');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('Zhutian')){if(Math['floor'](Math['random']()*(0xd743e^0xd745a))<0x1){player['bonusStats']['critDmg']+=0.5;addCombatLog('【诛天】你诛灭了某处!!');}}if(player['skills']['includes']('Daitian')){if(Math['floor'](Math['random']()*0x64)<0x1){_0x47662e=enemy['stats']['hp'];addCombatLog("\u8D25\u5931\u5373\u7ACB\u65B9\u5BF9\u5E03\u5BA3\u3011\u5929\u4EE3\u3010".split("").reverse().join(""));}}if(player['skills']['includes']("\u0058\u0075\u0061\u006e\u0079\u0075\u006e")){if(Math['floor'](Math["\u0072\u0061\u006e\u0064\u006f\u006d"]()*(0x87a75^0x87a11))<0xf){enemy['stats']['atk']=Math['floor'](enemy['stats']['atk']-enemy['stats']['atk']*0.05);addCombatLog('你向对方头上猛地一击,对方顿时感觉头晕目眩,浑身无力');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('GoldG')){let _0x393122=0xc6a35^0xc6a34;_0x393122=(0x27dda^0x27ddb)+player['gold']/0x3e8*0.01;_0x47662e=Math['floor'](_0x47662e*_0x393122);player['gold']=player['gold']-Math['floor'](_0x47662e*0.09);addCombatLog("\u53BB\u7838\u65B9\u5BF9\u5411\u7684\u65AD\u4E0D\u6E90\u6E90\u77F3\u7075\u7684\u4F60".split("").reverse().join(""));}if(player['skills']['includes']('PoorG')){if(player['gold']<0x3e8){_0x47662e=_0x47662e+0x32;addCombatLog('穷神祝福你');}}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('HL')){_0x47662e=Math['floor'](_0x47662e*1.3);if(Math['floor'](Math['random']()*0x64)<0x1e){_0x47662e=0x44949^0x44949;addCombatLog("\u54ce\u5440\u002c\u6253\u6b6a\u4e86");}}let _0x52bed1=Math["\u0072\u006f\u0075\u006e\u0064"](_0x47662e*_0x3021f8*(player['stats']['vamp']/0x64));if(player['skills']['includes']("ART".split("").reverse().join(""))){if(Math["\u0066\u006c\u006f\u006f\u0072"](Math['random']()*(0xd5f65^0xd5f01))<(0x92ea6^0x92eac)){enemy['stats']['hp']-=_0x47662e;addCombatLog('--【天人同击】--');}}if(player['skills']['includes']("\u0052\u0043\u005a\u0046")){enemy['stats']['hp']-=_0x47662e;addCombatLog('【仁慈之风】发动了第二次攻击');}if(player['skills']['includes']("JMPD".split("").reverse().join(""))){_0x47662e=Math['floor'](player["\u0073\u0074\u0061\u0074\u0073"]['def']*0.1);addCombatLog("\u51FB\u653B\u76AE\u809A\u7684\u4F60\u7528\u4F60".split("").reverse().join(""));}if(player["\u0073\u006b\u0069\u006c\u006c\u0073"]['includes']('FX')){if(Math['floor'](Math['random']()*(0x2e4e8^0x2e48c))<0x32){player['stats']['hp']-=player['stats']["\u0068\u0070"]*0.5;_0x47662e=_0x47662e*0x3;addCombatLog('你放血而击');}}if(player['skills']['includes']('ZJJ')){player['stats']['hp']-=player['stats']['hp']*0.05;if(player['tempStats']['zjj']==undefined)player['tempStats']['zjj']=0x0;player['tempStats']['zjj']=player['tempStats']['zjj']+0x1;let _0x326604=(0xd7b6f^0xd7b6e)+0.1*player['tempStats']['zjj'];_0x47662e=_0x47662e*_0x326604;}if(player['skills']['includes']('HLXM')){if(enemy['stats']['hp']-_0x47662e*(0x75ef8^0x75efa)<=0x0){_0x47662e=_0x47662e*0x2;}}if(player['skills']['includes']("WWXT".split("").reverse().join(""))){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x818d0^0x818d0;if(Math['floor'](Math['random']()*0x64)<0xa){let _0x2f8dcf=Math['floor'](Math['random']()*(0xabc0e^0xabc0d))+0x1;if(_0x2f8dcf==0x1){player['tempStats']['txww']=0x1;addCombatLog('你进入【玄】');}if(_0x2f8dcf==0x2){player['tempStats']['txww']=0x2;addCombatLog("\u3011\u6B62\u3010\u5165\u8FDB\u4F60".split("").reverse().join(""));}if(_0x2f8dcf==(0x4aad5^0x4aad6)){player['tempStats']["\u0074\u0078\u0077\u0077"]=0x3;addCombatLog("\u3011\u52A8\u3010\u5165\u8FDB\u4F60".split("").reverse().join(""));}}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x0;if(player['tempStats']['txww']==0x1){_0x47662e=_0x47662e*0x2;addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==0x3){enemy['stats']['hp']-=_0x47662e;enemy['stats']['hp']-=_0x47662e;player['tempStats']['txww']=0x87d22^0x87d22;addCombatLog("\u3011\u52A8\u3010\u51FA\u9000\u4F60".split("").reverse().join(""));}}enemy['stats']['hp']-=_0x47662e;player['stats']['hp']+=_0x52bed1;addCombatLog(player['name']+"  \u5BF9 ".split("").reverse().join("")+enemy['name']+'造成了\x20'+nFormatter(_0x47662e)+('\x20'+getDtype(dmgtype)+"\u5BB3\u4F24 ".split("").reverse().join("")));hpValidation();playerLoadStats();enemyLoadStats();let _0x586d2c=document['querySelector']("etirps-ymene#".split("").reverse().join(""));_0x586d2c['classList']['add']("ekahs-noitamina".split("").reverse().join(""));setTimeout(()=>{_0x586d2c['classList']['remove']('animation-shake');},0xb131a^0xb13d2);const _0xdb2b6e=document['querySelector']('#dmg-container');const _0x494586=document["\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006c\u0065\u006d\u0065\u006e\u0074"]('p');_0x494586['classList']['add']('dmg-numbers');if(_0x23c363){_0x494586['style']['color']="dlog".split("").reverse().join("");_0x494586['innerHTML']=nFormatter(_0x47662e)+'!';}else{_0x494586['innerHTML']=nFormatter(_0x47662e);}_0xdb2b6e['appendChild'](_0x494586);setTimeout(()=>{_0xdb2b6e['removeChild'](_0xdb2b6e['lastElementChild']);},0x172);if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){playerAttack();}},(0xc8c36^0xc8fde)/_0x21c4ee);}};const enemyAttack=()=>{if(!player['inCombat']){return;}if(player['inCombat']){sfxAttack['play']();}let _0x103f3c=enemy['stats']['atk']*(enemy['stats']['atk']/(enemy['stats']['atk']+player['stats']['def']));let _0x3c1189=Math['round'](enemy['stats']['atk']*(enemy['stats']['vamp']/0x64));let _0x3095da=0.9+Math['random']()*0.2;_0x103f3c=_0x103f3c*_0x3095da;if(Math['floor'](Math['random']()*0x64)<enemy['stats']['critRate']){if(player['skills']['includes']('ZDKJ')){dmgtype='damage';_0x103f3c=Math['round'](_0x103f3c);}else{dmgtype='crit\x20damage';_0x103f3c=Math['round'](_0x103f3c*(0x1+enemy['stats']['critDmg']/(0xd6b59^0xd6b3d)));}}else{dmgtype="egamad".split("").reverse().join("");_0x103f3c=Math['round'](_0x103f3c);}if(player['skills']['includes']('Paladin\x27s\x20Heart')){_0x103f3c=Math['round'](_0x103f3c-(0xaf3a4^0xaf3bd)*_0x103f3c/(0x60d88^0x60dec));}if(player['skills']['includes']('Shanbi')){if(Math['floor'](Math['random']()*(0x8c08c^0x8c0e8))<(0x4ad26^0x4ad38)){let _0x2031b3=Math['ceil'](_0x103f3c*0.5);_0x103f3c=0x0;addCombatLog('你于风中隐藏,对方的攻击如同石牛如海');if(Math['floor'](Math['random']()*(0x7da2b^0x7da4f))<(0x2598b^0x259a3)){enemy['stats']['hp']-=_0x2031b3;addCombatLog('你于风中展开弹反,对方的攻势竟倒飞而去');}}}if(player['skills']['includes']("SdloG".split("").reverse().join(""))){let _0x3fd305=0x1;_0x3fd305=player['gold']/0x3e8*0.01;_0x103f3c=Math['max'](0x1,Math['floor'](_0x103f3c*((0x9f9d1^0x9f9d0)-_0x3fd305)));player['gold']=player['gold']-Math['floor'](_0x103f3c*0.05);addCombatLog('你的灵石守护着你');}if(player['skills']['includes']('PoorS')){if(player['gold']<0x3e8){_0x103f3c=Math['max'](0x1,_0x103f3c-(0x293f6^0x293e8));addCombatLog('穷神祝福你');}}if(player['skills']['includes']('Jingfan')){let _0x2f5ded=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x2f5ded<0x1e){addCombatLog('你的【脆镜反射】反射了同样的伤害回去!');enemy['stats']['hp']-=_0x103f3c;}}if(player['skills']['includes']('ZGQX')){let _0x484856=player['stats']['hp']/player['stats']['hpMax']*0x64;if(_0x484856>0x50){if(player['stats']['hp']-_0x103f3c<=0x0){_0x103f3c=player['stats']['hp']-0x5;}}}if(player['skills']['includes']('YJSH')){if(Math['floor'](Math['random']()*(0x6bfce^0x6bfaa))<(0xc8f12^0xc8f71)){if(dmgtype=='damage'){_0x103f3c=0x3c858^0x3c858;addCombatLog('你被异界气息笼罩,完全无视了这次攻击');}}_0x103f3c=_0x103f3c*0xa;if(_0x103f3c!=0x0)addCombatLog("!!\u65A5\u6392\u754C\u4E16\u4E2A\u8FD9\u88AB\u4F60".split("").reverse().join(""));}if(player['skills']['includes']('DCJJ')){if(player['stats']['hp']==player['stats']['hpMax']){_0x103f3c=Math['floor'](_0x103f3c*0.5);addCombatLog("\u4F60\u7740\u62A4\u5B88\u3011\u7532\u575A\u91CD\u591A\u3010\u7684\u4F60".split("").reverse().join(""));}}if(player['skills']['includes']("DZQB".split("").reverse().join(""))){if(player['tempStats']['firstDef']==undefined)player['tempStats']['firstDef']=0x0;if(player['tempStats']['firstDef']==(0xcbb31^0xcbb31)){let _0x29ba39=_0x103f3c;player['stats']['hp']=player['stats']['hp']+_0x29ba39;_0x103f3c=0xb7920^0xb7920;player['tempStats']['firstDef']=0xd6c2b^0xd6c2a;addCombatLog("\u3011\u76FE\u4E4B\u5C48\u4E0D\u3010\u51FA\u53D1\u6FC0\u4F60".split("").reverse().join(""));addCombatLog("\u4E86\u5F97\u83B7\u4F60".split("").reverse().join("")+_0x29ba39+'治疗');}}if(player['skills']['includes']('CZJS')){if(player['tempStats']['czjs']==undefined)player['tempStats']['czjs']=0x0;if(player['stats']['hp']-_0x103f3c<=0x0){_0x103f3c=0xe1556^0xe1556;if(player['tempStats']['czjs']==0x0){player['stats']['hp']=player['stats']['hpMax'];player['tempStats']['czjs']=0xc694d^0xc694c;addCombatLog('你拒绝了死亡');}}}if(player['skills']['includes']("SDSZ".split("").reverse().join(""))){if(player['tempStats']['zsds']==undefined)player['tempStats']['zsds']=0x0;if(player['tempStats']['zsds']==(0x7ce52^0x7ce52)){enemy['stats']['hp']-=_0x103f3c*0x2;_0x103f3c=0x0;player['tempStats']['zsds']=0x1;addCombatLog('这对【战术大师】无效');}}if(player['skills']['includes']('TXWW')){if(player['tempStats']['txww']==undefined)player['tempStats']['txww']=0x414dd^0x414dd;if(player['tempStats']['txww']==0x1){_0x103f3c=_0x103f3c*(0xc5a07^0xc5a05);addCombatLog('【玄】之易损');}if(player['tempStats']['txww']==(0x9f42b^0x9f429)){_0x103f3c=Math['floor'](_0x103f3c*0.7);player['tempStats']['txww']=0x0;addCombatLog('心如【止】水');}}player['stats']['hp']-=_0x103f3c;objectValidation();if(player['skills']['includes']('Aegis\x20Thorns')){enemy['stats']['hp']-=Math['round']((0x7ce86^0x7ce89)*_0x103f3c/0x64);}if(player['skills']['includes']('Neigui')){if(Math['floor'](Math['random']()*0x64)<0xa){enemy['stats']['hp']-=_0x103f3c;addCombatLog('有内鬼,中止交易');}}enemy['stats']["\u0068\u0070"]+=_0x3c1189;addCombatLog(enemy["\u006e\u0061\u006d\u0065"]+'\x20对\x20'+player['name']+'\x20造成了'+nFormatter(_0x103f3c)+('\x20'+getDtype(dmgtype)+'\x20伤害'));hpValidation();playerLoadStats();enemyLoadStats();let _0xd94714=document['querySelector']('#playerPanel');_0xd94714['classList']['add']('animation-shake');setTimeout(()=>{_0xd94714['classList']['remove']('animation-shake');},0xc8);let _0xb68c70=enemy['stats']['atkSpd'];if(player['skills']['includes']("LZLX".split("").reverse().join(""))){if(player['stats']['atkSpd']<enemy["\u0073\u0074\u0061\u0074\u0073"]['atkSpd']){_0xb68c70=Math['max'](0.1,player['stats']['atkSpd']-0.1);addCombatLog("\u7740\u64BC\u9707\u88AB\u4EBA\u654C".split("").reverse().join(""));}}if(player['skills']["\u0069\u006e\u0063\u006c\u0075\u0064\u0065\u0073"]('YJMY')){player['stats']['atkSpd']=player['stats']['atkSpd']-0.05;_0xb68c70=enemy['stats']['atkSpd'];addCombatLog('敌人被你的棉衣纠缠住了!');}if(player['inCombat']){setTimeout(()=>{if(player['inCombat']){enemyAttack();}},0x3e8/_0xb68c70);}};const combatBacklog=[];const addCombatLog=_0x8fd258=>{combatBacklog['push'](_0x8fd258);updateCombatLog();};const updateCombatLog=()=>{let _0x251021=document['getElementById']("xoBgoLtabmoc".split("").reverse().join(""));_0x251021['innerHTML']="".split("").reverse().join("");for(let _0xe56715 of combatBacklog){let _0x25ca52=document['createElement']('p');_0x25ca52['innerHTML']=_0xe56715;_0x251021['appendChild'](_0x25ca52);}if(enemyDead){let _0x469048=document['createElement']('div');_0x469048['className']='decision-panel';_0x469048['innerHTML']='<button\x20id=\x22battleButton\x22>知道了</button>';_0x251021['appendChild'](_0x469048);}if(playerDead){let _0x5559e2=document['createElement']("vid".split("").reverse().join(""));_0x5559e2['className']="lenap-noisiced".split("").reverse().join("");_0x5559e2['innerHTML']=">nottub/<\u5355\u83DC\u5230\u56DE>\"nottuBelttab\"=di nottub<".split("").reverse().join("");_0x251021['appendChild'](_0x5559e2);}_0x251021['scrollTop']=_0x251021['scrollHeight'];};let combatSeconds=0x0;const startCombat=_0x48093d=>{bgmDungeon['pause']();sfxEncounter['play']();_0x48093d['play']();player['inCombat']=!![];let _0x24be2b=enemy['stats']['atkSpd'];if(player['skills']['includes']('XLZL')){if(player['stats']['atkSpd']<enemy['stats']['atkSpd']){_0x24be2b=Math['max'](0.1,player['stats']['atkSpd']-0.1);}}setTimeout(playerAttack,0x3e8/player['stats']['atkSpd']);setTimeout(enemyAttack,0x3e8/_0x24be2b);let _0xa5c401=document['querySelector']('#dungeon-main');_0xa5c401['style']['filter']='brightness(50%)';playerLoadStats();enemyLoadStats();dungeon['status']['event']=!![];combatPanel['style']['display']='flex';combatTimer=setInterval(combatCounter,0x3e8);};const endCombat=()=>{bgmBattleMain['stop']();bgmBattleGuardian['stop']();bgmBattleBoss['stop']();sfxCombatEnd['play']();player['inCombat']=![];if(player['skills']['includes']('Rampager')){objectValidation();player['baseStats']['atk']-=player['tempStats']['atk'];player['tempStats']['atk']=0x0;saveData();}if(player['skills']['includes']("ecnaD edalB".split("").reverse().join(""))){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('Kuaiqidong')){objectValidation();player['baseStats']['atkSpd']-=player['tempStats']['atkSpd'];player['tempStats']['atkSpd']=0x0;saveData();}if(player['skills']['includes']('BQZJ')){objectValidation();player['tempStats']['firstAtk']=0x0;saveData();}if(player['skills']['includes']('BQZD')){objectValidation();player['tempStats']["\u0066\u0069\u0072\u0073\u0074\u0044\u0065\u0066"]=0x0;saveData();}if(player['skills']['includes']('CZJS')){objectValidation();player['tempStats']['czjs']=0x0;saveData();}if(player['skills']['includes']('ZJJ')){objectValidation();player['tempStats']['zjj']=0x0;saveData();}if(player['skills']['includes']('ZSDS')){objectValidation();player['tempStats']['zsds']=0x0;saveData();}if(player['skills']['includes']('TXWW')){objectValidation();player['tempStats']['txww']=0x0;saveData();}clearInterval(combatTimer);combatSeconds=0x0;};const combatCounter=()=>{combatSeconds++;};const showCombatInfo=()=>{document['querySelector']('#combatPanel')['innerHTML']='\x0a\x20\x20\x20\x20<div\x20class=\x22content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20center\x22\x20id=\x22enemyPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+enemy['name']+'\x20Lv.'+enemy['lvl']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20hp\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22enemy-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22enemy-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(enemy['stats']['hp'])+'/'+nFormatter(enemy['stats']['hpMax'])+'<br>('+enemy['stats']['hpPercent']+"/setirps/stessa/.\"=crs gmi<            \n>vid/<>\"reniatnoc-gmd\"=di vid<            \n>vid/<            \n>vid/<                \n)%".split("").reverse().join("")+enemy['image']['name']+enemy['image']['type']+'\x22\x20alt=\x22'+enemy['name']+'\x22\x20width=\x22'+enemy['image']['size']+'\x22\x20id=\x22enemy-sprite\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-info-panel\x20primary-panel\x22\x20id=\x22playerPanel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22player-combat-info\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-hp\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20dmg\x20bb-hp\x22\x20id=\x22player-hp-dmg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-hp\x22\x20id=\x22player-hp-battle\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp'+nFormatter(player['stats']['hp'])+'/'+nFormatter(player['stats']["\u0068\u0070\u004d\u0061\u0078"])+'('+player['stats']['hpPercent']+'%)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20empty-bar\x20bb-xb\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22battle-bar\x20current\x20bb-xb\x22\x20id=\x22player-exp-bar\x22>exp</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22logBox\x20primary-panel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22combatLogBox\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';};